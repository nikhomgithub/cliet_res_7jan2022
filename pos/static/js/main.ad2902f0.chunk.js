(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t,a){},30:function(e,t,a){},44:function(e,t,a){},47:function(e,t){e.exports=[{formName:"shopInfo",formHead:"Shop Infomation",template:[{key:"logoActive",lb:"Logo"}]},{formName:"setting",formHead:"System Setting",template:[{key:"changePassword",lb:"Change Shop Password"},{key:"addNewUser",lb:"Add User"},{key:"routeAuth",lb:"User Level"},{key:"language",lb:"Language Setting"},{key:"printPage",lb:"Print Page"},{key:"widthLeft",lb:"Width Left"}]},{formName:"basicValue",formHead:"Basic Setting",template:[{key:"language",lb:"Language"},{key:"branch",lb:"Branch"},{key:"partnerType",lb:"Customer Type"},{key:"unit",lb:"Unit"},{key:"title",lb:"Title"},{key:"transaction",lb:"Bill"},{key:"transactionStatus",lb:"Bill Status"},{key:"table",lb:"Table"},{key:"tableStatus",lb:"Table Status"},{key:"queueStatus",lb:"Queue Status"},{key:"jobStatus",lb:"Job Status"},{key:"tax",lb:"Tax"},{key:"reduction",lb:"Reduction"},{key:"userLevel",lb:"User Level"},{key:"paymentType",lb:"Payment Type"}]},{formName:"shopChangePassword",formHead:"\u0e40\u0e1b\u0e25\u0e35\u0e48\u0e22\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e23\u0e49\u0e32\u0e19",template:[{key:"shopName",lb:"Shop Name"},{key:"password",lb:"Password"},{key:"newPassword1",lb:"New Password"},{key:"newPassword2",lb:"Confirm New Password"}]},{formName:"user",formHead:"user",template:[]},{formName:"addUser",formHead:"Add User",template:[{key:"id",lb:"ID"},{key:"username",lb:"Username"},{key:"password",lb:"password"},{key:"userLevel",lb:"User Level"},{key:"name",lb:"Name"},{key:"surname",lb:"Surname"},{key:"branch",lb:"Branch"}]},{formName:"editUser",formHead:"Edit User",template:[{key:"id",lb:"ID"},{key:"username",lb:"Username"},{key:"userLevel",lb:"User Level"},{key:"name",lb:"Name"},{key:"surname",lb:"Surname"},{key:"branch",lb:"Branch"}]},{formName:"changeUserPassword",formHead:"Change User Password",template:[{key:"id",lb:"ID"},{key:"newPassword1",lb:"New Password"}]},{formName:"widthLeftForm",formHead:"Set Width",template:[{key:"widthLeft",lb:"Width"}]},{formName:"basicDataTableTemplate",formHead:"Route Auth Table",template:[{key:"id",lb:"ID"},{key:"routeAddress",lb:"url"},{key:"routeName",lb:"Route Name"},{key:"userLevel",lb:"User Level"}]},{formName:"partnerTableTemplate",formHead:"Partner Table",template:[{key:"selectedLine",lb:"_"},{key:"id",lb:"ID"},{key:"title",lb:"title"},{key:"name",lb:"name"},{key:"phone",lb:"phone"},{key:"partnerType",lb:"type"},{key:"address",lb:"address"},{key:"remark",lb:"remark"}]},{formName:"productTableTemplate",formHead:"Product Table",template:[{key:"selectedLine",lb:"_"},{key:"id",lb:"ID"},{key:"barcode",lb:"barcode"},{key:"productName",lb:"Product Name"},{key:"groupId",lb:"Group Id"},{key:"groupName",lb:"Group Name"},{key:"unit",lb:"Unit"},{key:"price",lb:"Price"},{key:"isRawMat",lb:"isRawMat"},{key:"stock",lb:"Stock"},{key:"remark",lb:"Remark"}]},{formName:"transactionTableTemplate",formHead:"Bill Table",template:[{key:"selectedLine",lb:"_"},{key:"id",lb:"ID"},{key:"date",lb:"Date"},{key:"remindDate",lb:"Remind Date"},{key:"transactionType",lb:"Bill Type"},{key:"transactionStatus",lb:"Bill Status"},{key:"active",lb:"Active"},{key:"table",lb:"Table"},{key:"tableStatus",lb:"Table Status"},{key:"effectStock",lb:"Effect Stock"},{key:"effectCustomerPoint",lb:"Effect Customer Point"},{key:"effectSpending",lb:"Effect Spending"},{key:"partnerId",lb:"Customer ID"},{key:"partnerType",lb:"Customer Type"},{key:"title",lb:"Title"},{key:"name",lb:"Name"},{key:"phone",lb:"Phone"},{key:"address",lb:"Address"},{key:"paymentType",lb:"Payment Type"},{key:"total",lb:"Total"},{key:"reduction",lb:"Reduction"},{key:"tax",lb:"Tax"},{key:"grandTotal",lb:"Grand Total"},{key:"remark",lb:"Remark"}]},{formName:"ProductDetailTableTemplate",formHead:"Product Detail Table",template:[{key:"selectedLine",lb:"_"},{key:"id",lb:"ID"},{key:"barcode",lb:"Barcode"},{key:"productName",lb:"Product Name"},{key:"groupId",lb:"Group ID"},{key:"groupName",lb:"Group Name"},{key:"quantity",lb:"Quantity"},{key:"unit",lb:"Unit"},{key:"price",lb:"Price"},{key:"result",lb:"Result"},{key:"isRawMat",lb:"isRawMat"},{key:"remark",lb:"Remark"}]},{formName:"ProductDetailTableTemplateForForm",formHead:"Product Detail Table2",template:[{key:"selectedLine",lb:"_"},{key:"id",lb:"ID"},{key:"barcode",lb:"Barcode"},{key:"productName",lb:"Product Name"},{key:"groupId",lb:"Group ID"},{key:"groupName",lb:"Group Name"},{key:"quantity",lb:"Quantity"},{key:"unit",lb:"Unit"},{key:"price",lb:"Price"},{key:"result",lb:"Result"},{key:"isRawMat",lb:"isRawMat"},{key:"remark",lb:"Remark"},{key:"partnerId",lb:"Partner ID"},{key:"name",lb:"Name"},{key:"jobStatus",lb:"Job Status"}]},{formName:"partnerFilter",formHead:"",template:[{key:"id",lb:"ID"},{key:"title",lb:"Title"},{key:"name",lb:"Name"},{key:"phone",lb:"Phone"},{key:"remainingCustomerPoint",lb:"Remaining Customer Point"},{key:"totalSpending",lb:"Total Spending"},{key:"remark",lb:"Remark"}]},{formName:"productFilter",formHead:"",template:[{key:"id",lb:"ID"},{key:"barcode",lb:"Barcode"},{key:"productName",lb:"Product Name"},{key:"groupId",lb:"Group ID"},{key:"groupName",lb:"Group Name"},{key:"unit",lb:"Unit"},{key:"price",lb:"Price"},{key:"stock",lb:"Stock"},{key:"isRawMat",lb:"IsRawMat"},{key:"remark",lb:"Remark"}]},{formName:"rawMatFilter",formHead:"",template:[{key:"id",lb:"ID"},{key:"barcode",lb:"Barcode"},{key:"rawMatName",lb:"Raw Mat Name"},{key:"rawMatGroupId",lb:"Raw Mat Group ID"},{key:"rawMatGroupName",lb:"Raw Mat Group Name"},{key:"unit",lb:"Unit"},{key:"price",lb:"Price"},{key:"remark",lb:"Remark"}]},{formName:"transactionFilter",formHead:"",template:[{key:"id",lb:"ID"},{key:"date",lb:"Date"},{key:"transactionType",lb:"Transaction Type"},{key:"transactionStatus",lb:"Transaction Status"},{key:"partnerId",lb:"Partner ID"},{key:"name",lb:"Name"},{key:"phone",lb:"Phone"}]},{formName:"partnerFilterForm",formHead:"Search Customer",template:[{key:"formHead",lb:"Search Customer"},{key:"subject",lb:"Subject"},{key:"allTrue",lb:"All True"},{key:"someTrue",lb:"Some True"},{key:"sortBySubject",lb:"Sort By Subject"},{key:"recordLimit",lb:"Record Limit"},{key:"recordPerPage",lb:"Record Per Page"}]},{formName:"productFilterForm",formHead:"Search Product",template:[{key:"groupHead",lb:"Product Group"},{key:"formHead",lb:"Search Product"},{key:"subject",lb:"Subject"},{key:"allTrue",lb:"All True"},{key:"someTrue",lb:"Some True"},{key:"sortBySubject",lb:"Sort By Subject"},{key:"recordLimit",lb:"Record Limit"},{key:"recordPerPage",lb:"Record Per Page"}]},{formName:"transactionFilterForm",formHead:"Search Bill",template:[{key:"formHead",lb:"Search Bill"},{key:"subject",lb:"Subject"},{key:"allTrue",lb:"All True"},{key:"someTrue",lb:"Some True"},{key:"sortBySubject",lb:"Sort By Subject"},{key:"recordLimit",lb:"Record Limit"},{key:"recordPerPage",lb:"Record Per Page"}]},{formName:"billMenuFilterForm",formHead:"Search Bill",template:[{key:"formHead",lb:"Search Bill"},{key:"subject",lb:"Subject"},{key:"allTrue",lb:"All True"},{key:"someTrue",lb:"Some True"},{key:"sortBySubject",lb:"Sort By Subject"},{key:"recordLimit",lb:"Record Limit"},{key:"recordPerPage",lb:"Record Per Page"}]},{formName:"ModalForm",formHead:"",template:[{key:"insertUp",lb:"Insert Up"},{key:"insertDown",lb:"Insert Down"},{key:"selectAll",lb:"Select All"},{key:"unSelectAll",lb:"Unselect All"},{key:"moveUp",lb:"Move Up"},{key:"moveDown",lb:"Move Down"},{key:"delete",lb:"Delete"},{key:"import",lb:"Import"},{key:"selectImage",lb:"Select Image"},{key:"productAddForm",lb:"Product Add Form"},{key:"productEditForm",lb:"Product Edit Form"},{key:"groupAddForm",lb:"Product Group Add Form"},{key:"groupEditForm",lb:"Product Group Edit Form"},{key:"partnerAddForm",lb:"Partner Add Form"},{key:"partnerEditForm",lb:"Partner Edit Form"}]},{formName:"customerConfirmForm",formHead:"Please Confirm Customer",template:[{key:"partnerId",lb:"Partner ID"},{key:"title",lb:"Title"},{key:"name",lb:"Name"},{key:"partnerType",lb:"Customer Type"},{key:"phone",lb:"Phone"},{key:"address",lb:"Address"}]},{formName:"transactionConfirmForm",formHead:"Please Confirm Transaction",template:[{key:"id",lb:"ID"},{key:"branch",lb:"Branch"},{key:"date",lb:"Date"},{key:"table",lb:"Table"},{key:"partnerId",lb:"Customer ID"},{key:"phone",lb:"Phone"},{key:"address",lb:"Address...."},{key:"includeTransactionHead",lb:"Include Transaction Head"}]},{formName:"billForm",formHead:"",template:[{key:"id",lb:"ID"},{key:"date",lb:"Date"},{key:"time",lb:"\u0e40\u0e27\u0e25\u0e32"},{key:"table",lb:"Table"},{key:"queue",lb:"Queue"},{key:"partnerId",lb:"Customer ID"},{key:"phone",lb:"Phone"},{key:"address",lb:"Address"},{key:"total",lb:"Total"},{key:"totalTax",lb:"Total Tax"},{key:"totalReduction",lb:"Total Reduction"},{key:"grandTotal",lb:"Grand Total"}]},{formName:"editBillForm",formHead:"Bill Info",template:[{key:"id",lb:"ID"},{key:"date",lb:"Date"},{key:"transactionType",lb:"Transaction Type"},{key:"transactionStatus",lb:"Transaction Status"},{key:"active",lb:"Active"},{key:"table",lb:"Table"},{key:"tableStatus",lb:"Table Status"},{key:"queue",lb:"Queue"},{key:"queueStatus",lb:"Queue Status"},{key:"partnerId",lb:"Customer ID"},{key:"title",lb:"Title"},{key:"name",lb:"Name"},{key:"phone",lb:"Phone"},{key:"address",lb:"Address"},{key:"partnerType",lb:"Partner Type"},{key:"remark",lb:"Remark"},{key:"totalPoint",lb:"Total Point"},{key:"remainingCustomerPoint",lb:"Remaining Customer Point"},{key:"reductCustomerPoint",lb:"Reduct Customer Point"},{key:"paymentType",lb:"Payment Type"},{key:"total",lb:"Total"},{key:"tax",lb:"\u0e20\u0e32\u0e29\u0e35"},{key:"totalTax",lb:"Total Tax"},{key:"reduction",lb:"\u0e2a\u0e48\u0e27\u0e19\u0e25\u0e14"},{key:"totalReduction",lb:"Total Reduction"},{key:"grandTotal",lb:"Grand Total"}]},{formName:"reductionForm",formHead:"Reduction Table",template:[{key:"selection",lb:"#"},{key:"reductionName",lb:"Reduction Name"},{key:"reductionRate",lb:"Reduction Rate"},{key:"reductionInPercentage",lb:"in %"},{key:"reductionAmount",lb:"Total"}]},{formName:"customerPointForm",formHead:"Customer Point",template:[{key:"remainingCustomerPoint",lb:"Remaining Customer Point"},{key:"reductCustomerPoint",lb:"Reduct Customer Point"},{key:"remainingPoint",lb:"Remaining Point"}]},{formName:"taxForm",formHead:"Tax Table",template:[{key:"selection",lb:"#"},{key:"taxName",lb:"Tax Name"},{key:"taxRate",lb:"Tax Rate"},{key:"taxInPercentage",lb:"in %"},{key:"taxAmount",lb:"Tax Amount"}]},{formName:"transactionForm",formHead:"Transaction Table",template:[{key:"id",lb:"ID"}]},{formName:"printForm",formHead:"Print Form",template:[{key:"widthUnit",lb:"Width Unit"},{key:"fontUnit",lb:"Font Unit"},{key:"totalWidth",lb:"Total Width"},{key:"showTableHead",lb:"Show Table Head"},{key:"header1",lb:"Header 1"},{key:"header2",lb:"Header 2"},{key:"table1",lb:"Table"},{key:"footer1",lb:"Footer 1"},{key:"footer2",lb:"Footer 2"},{key:"printLb",lb:"Label"},{key:"printValue",lb:"Constant"},{key:"printFieldName",lb:"Variable"},{key:"printFontSize",lb:"Font Size"},{key:"printWidth",lb:"Width"},{key:"printPosition",lb:"Position"}]},{formName:"branchSettingPage",formHead:"Branch Setting",template:[{key:"languageSetting",lb:"Language Setting"},{key:"printPageSetting",lb:"Print Page Setting"},{key:"widthLeft",lb:"Width Left"},{key:"branch",lb:"Branch"},{key:"table",lb:"Table"},{key:"tableName",lb:"Table Name"},{key:"tableActive",lb:"Table Active"}]},{formName:"tableSettingModal",formHead:"Table Setting",template:[{key:"subject",lb:"Subject"},{key:"show",lb:"Show"}]},{formName:"shopLogInForm",formHead:"Shop Log In Form",template:[{key:"shopName",lb:"Shop Name"},{key:"password",lb:"Password"}]},{formName:"userLogInForm",formHead:"User Log In Form",template:[{key:"username",lb:"User Name"},{key:"password",lb:"Password"},{key:"createNewUser",lb:"Create New User"}]},{formName:"groupPage",formHead:"Group Page",template:[]},{formName:"addGroupForm",formHead:"Add Group Form",template:[{key:"treeTitle",lb:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e41\u0e21\u0e48"},{key:"id",lb:"\u0e44\u0e2d\u0e14\u0e35"},{key:"gcode",lb:"\u0e42\u0e04\u0e49\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"groupName",lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"level",lb:"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e01\u0e25\u0e38\u0e48\u0e21"}]},{formName:"editGroupForm",formHead:"Edit Group Form",template:[{key:"treeTitle",lb:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e41\u0e21\u0e48"},{key:"id",lb:"\u0e44\u0e2d\u0e14\u0e35"},{key:"gcode",lb:"\u0e42\u0e04\u0e49\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"groupName",lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"level",lb:"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e01\u0e25\u0e38\u0e48\u0e21"}]},{formName:"jobStatusForm",formHead:"Job Status Form",template:[{key:"jobStatus",lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e07\u0e32\u0e19"}]},{formName:"billBarcodeForm",formHead:"",template:[{key:"productId",lb:"\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e41\u0e21\u0e48"},{key:"barcode",lb:"\u0e44\u0e2d\u0e14\u0e35"},{key:"partnerId",lb:"\u0e42\u0e04\u0e49\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"phone",lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"table",lb:"Table"},{key:"queue",lb:"\u0e42\u0e04\u0e49\u0e14\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"paymentType",lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21"},{key:"cash",lb:"Table"},{key:"grandTotal",lb:"Table"},{key:"change",lb:"Table"}]}]},50:function(e,t,a){e.exports=a.p+"static/media/RenderModalError.b0ec9a73.bak"},53:function(e,t,a){e.exports=a(89)},58:function(e,t,a){},76:function(e,t,a){},79:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),l=a(46),r=a.n(l),o=(a(58),a(23)),i=a(5),s=a(12),m=a(4),u=a(9),d=a(3),p=a(2),b=a(8),f=a.n(b),h={tableResize:function(e){var t=e.tableTemplate;if(t){var a=0,n="";return Object.keys(t).map((function(e){t[e].showCol&&(a+=parseInt(t[e].width),n="".concat(n," ").concat(t[e].width,"px"))})),{width:a,gridCol:n}}return console.log("tableTemplate null"),null},sortColumn:function(e,t,a,n){if("number"==a||"date"==a||"string"==a||"time"==a||"price"==a){var c=[],l=[];e.map((function(e){"number"==a&&(c=[].concat(Object(d.a)(c),[parseInt(e[t])])),"string"!=a&&"date"!=a||(c=[].concat(Object(d.a)(c),[e[t]]));var n=Object(p.a)({},e,Object(m.a)({},"<checked/>",!1));l=[].concat(Object(d.a)(l),[n])})),"number"==a&&("a-b"==n&&c.sort((function(e,t){return e-t})),"b-a"==n&&c.sort((function(e,t){return t-e}))),"string"!=a&&"date"!=a||("a-b"==n&&c.sort(),"b-a"==n&&(c.sort(),c.reverse()));var r=[];return c.map((function(a){for(var n=0;n<l.length;n++)if(!l[n]["<checked/>"]&&a==l[n][t]){r=[].concat(Object(d.a)(r),[e[n]]),l[n]["<checked/>"]=!0;break}})),r}},numberWithCommas:function(e,t,a){var n=2;try{if(e>0&&!isNaN(e)){1==t?n=0:10==t?n=1:100==t?n=2:1e3==t?n=3:1e4==t&&(n=4);var c=e.toFixed(n).toString().split("."),l=c[0].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return c.length>1?"".concat(l,".").concat(c[1]):l}return"0.00"}catch(r){console.log(typeof e),console.log(e),console.log(r)}}},g=function(e){if(!e)return null;var t=Object.keys(e),a=[];return t.map((function(t){var n=e[t],c=n.lb,l=n.type,r=n.width,o=n.showCol,i=n.colOrder,s={colName:t,lb:c,type:l,width:r,showCol:o,showColHead:n.showColHead,showSum:n.showSum,colOrder:i};a=[].concat(Object(d.a)(a),[s])})),a},y=function(e){if(!e)return console.log("null"),null;if(Array.isArray(e)&&0==e.length)return console.log("Array length = 0"),null;var t={};return e.map((function(e){var a=e.colName,n=(e._id,Object(u.a)(e,["colName","_id"])),c=Object(m.a)({},a,n);t=Object(p.a)({},t,{},c)})),t},v=function(e){var t={};return e.map((function(e){var a=Object(m.a)({},"formHead",e.formHead);e.template.map((function(e){a[e.key]=e.lb})),t[e.formName]=a})),t},w={createTableTemplate:function(e){var t=e.tableTemplate,a=e.userId,n=e.shopId;if(console.log(a),console.log(n),!t||!a||!n)return null;var c=[];return Object.keys(t).map((function(e){var l={tableName:e,id:a,shopId:n,template:g(t[e])};c=[].concat(Object(d.a)(c),[l])})),c},createTableTemplateForPage:function(e){if(!e)return console.log("null"),null;if(Array.isArray(e)&&0==e.length)return console.log("Array length = 0"),null;var t={};return e.map((function(e){var a=e.tableName,n=(e.id,e.shopId,e.template),c=Object(m.a)({},a,y(n));t=Object(p.a)({},t,{},c)})),t},converTableTemplateArrayToObj:y,convertTableTemplateObjToArray:g,convertFormTemplateArrayToObj:v,changeLanguageTableTemplate:function(e,t){var a=Object(p.a)({},t),n=Object(p.a)({},e);return Object.keys(a).map((function(e){a[e]&&n[e]&&Object.keys(a[e]).map((function(t){a[e][t]&&n[e][t]&&(a[e][t].lb=n[e][t])}))})),a},genLanguageObjFromFormTemplate:function(e){var t=[];e.map((function(e){e.formLanguage&&(t=[].concat(Object(d.a)(t),[e.formLanguage]))}));var a=Object(d.a)(new Set(t)),n={};return a.map((function(t){var a=[];e.map((function(e){e.formLanguage==t&&(a=[].concat(Object(d.a)(a),[e]))})),n[t]=v(a)})),n}},E=function(){return[1,2,3].map((function(e){return c.a.createRef()}))},N=["xc1 h-100","xc3 h-100","xc8 h-100"],j=N,O={partnerFilter:[{templateType:"boolean",lb:"active",cName:"xc12 h-100",subCName:j,keyName:"active",refInput:E(),inputType:"checkbox",filterCommand:["active"]},{templateType:"number",lb:"id",cName:"xc12 h-100",subCName:N,keyName:"id",refInput:E(),inputType:"number",filterCommand:["id"]},{templateType:"selectObj",lb:"\u0e04\u0e33\u0e19\u0e33\u0e2b\u0e19\u0e49\u0e32",cName:"xc12 h-100",subCName:j,keyName:"title",refInput:E(),inputType:"text",filterCommand:["title"],selectObj:"title"},{templateType:"string",lb:"\u0e0a\u0e37\u0e48\u0e2d",cName:"xc12 h-100",subCName:j,keyName:"name",refInput:E(),inputType:"text",filterCommand:["name"]},{templateType:"arrayString",lb:"\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c",cName:"xc12 h-100",subCName:j,keyName:"phone",refInput:E(),inputType:"text",filterCommand:["phone"]},{templateType:"string",lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",cName:"xc12 h-100",subCName:j,keyName:"remark",refInput:E(),inputType:"text",filterCommand:["remark"]},{templateType:"number",lb:"\u0e41\u0e15\u0e49\u0e21",cName:"xc12 h-100",subCName:N,keyName:"remainingCustomerPoint",refInput:E(),inputType:"number",filterCommand:["remainingCustomerPoint"]},{templateType:"number",lb:"\u0e22\u0e2d\u0e14\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22",cName:"xc12 h-100",subCName:N,keyName:"totalSpending",refInput:E(),inputType:"number",filterCommand:["totalSpending"]}],productFilter:[{templateType:"boolean",lb:"active",cName:"xc12 h-100",subCName:j,keyName:"active",refInput:E(),inputType:"checkbox",filterCommand:["active"]},{templateType:"number",lb:"\u0e44\u0e2d\u0e14\u0e35",cName:"xc12 h-100",subCName:N,keyName:"id",refInput:E(),inputType:"number",filterCommand:["id"]},{templateType:"string",lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",cName:"xc12 h-100",subCName:j,keyName:"barcode",refInput:E(),inputType:"text",filterCommand:["barcode"]},{templateType:"string",lb:"\u0e0a\u0e37\u0e48\u0e2d",cName:"xc12 h-100",subCName:j,keyName:"productName",refInput:E(),inputType:"text",filterCommand:["productName"]},{templateType:"boolean",lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a",cName:"xc12 h-100",subCName:j,keyName:"isRawMat",refInput:E(),inputType:"checkbox",filterCommand:["isRawMat"]},{templateType:"number",lb:"\u0e23\u0e32\u0e04\u0e32",cName:"xc12 h-100",subCName:j,keyName:"price",refInput:E(),inputType:"number",filterCommand:["price"]},{templateType:"number",lb:"\u0e22\u0e2d\u0e14\u0e2a\u0e15\u0e47\u0e2d\u0e04",cName:"xc12 h-100",subCName:N,keyName:"stock",refInput:E(),inputType:"number",filterCommand:["stock"]},{templateType:"string",lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",cName:"xc12 h-100",subCName:j,keyName:"remark",refInput:E(),inputType:"text",filterCommand:["remark"]}],transactionFilter:[{templateType:"boolean",lb:"active",cName:"xc12 h-100",subCName:j,keyName:"active",refInput:E(),inputType:"checkbox",filterCommand:["active"]},{templateType:"number",lb:"id",cName:"xc12 h-100",subCName:N,keyName:"id",refInput:E(),inputType:"number",filterCommand:["id"]},{templateType:"number",lb:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48",cName:"xc12 h-100",subCName:N,keyName:"date",refInput:E(),inputType:"date",filterCommand:["date"]},{templateType:"selectArrayObj",lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23",cName:"xc12 h-100",subCName:j,keyName:"transactionType",refInput:E(),inputType:"text",filterCommand:["transactionType"],selectArrayObj:["transaction","transactionType"]},{templateType:"selectObj",lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23",cName:"xc12 h-100",subCName:j,keyName:"transactionStatus",refInput:E(),inputType:"text",filterCommand:["transactionStatus"],selectObj:"transactionStatus"},{templateType:"number",lb:"\u0e44\u0e2d\u0e14\u0e35\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32",cName:"xc12 h-100",subCName:N,keyName:"partnerId",refInput:E(),inputType:"number",filterCommand:["partnerId"]},{templateType:"string",lb:"\u0e0a\u0e37\u0e48\u0e2d",cName:"xc12 h-100",subCName:j,keyName:"name",refInput:E(),inputType:"text",filterCommand:["name"]},{templateType:"arrayString",lb:"\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c",cName:"xc12 h-100",subCName:j,keyName:"phone",refInput:E(),inputType:"text",filterCommand:["phone"]},{templateType:"selectObj",lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e42\u0e15\u0e4a\u0e30",cName:"xc12 h-100",subCName:j,keyName:"tableStatus",refInput:E(),inputType:"text",filterCommand:["tableStatus"],selectObj:"tableStatus"},{templateType:"selectObj",lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e04\u0e34\u0e27",cName:"xc12 h-100",subCName:j,keyName:"queueStatus",refInput:E(),inputType:"text",filterCommand:["queueStatus"],selectObj:"queueStatus"}],stickerFilter:[{templateType:"number",lb:"id",cName:"xc12 h-100",subCName:N,keyName:"id",refInput:E(),inputType:"number",filterCommand:["id"]},{templateType:"date",lb:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48",cName:"xc12 h-100",subCName:N,keyName:"date",refInput:E(),inputType:"date",filterCommand:["date"]},{templateType:"string",lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e23\u0e32\u0e22\u0e01\u0e32\u0e23",cName:"xc12 h-100",subCName:j,keyName:"recordName",refInput:E(),inputType:"text",filterCommand:["recordName"]},{templateType:"string",lb:"\u0e1c\u0e39\u0e49\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01",cName:"xc12 h-100",subCName:j,keyName:"recordBy",refInput:E(),inputType:"text",filterCommand:["recordBy"]},{templateType:"arrayObjectString",lb:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32|\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",cName:"xc12 h-100",subCName:j,keyName:"productData_code",refInput:E(),inputType:"text",filterCommand:["productData","code"]},{templateType:"arrayObjectString",lb:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32|\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",cName:"xc12 h-100",subCName:j,keyName:"productData_name",refInput:E(),inputType:"text",filterCommand:["productData","name"]}],billMenuFilter:[{templateType:"boolean",lb:"active",cName:"xc12 h-100",subCName:j,keyName:"active",refInput:E(),inputType:"checkbox",filterCommand:["active"]},{templateType:"number",lb:"\u0e44\u0e2d\u0e14\u0e35",cName:"xc12 h-100",subCName:N,keyName:"id",refInput:E(),inputType:"number",filterCommand:["id"]},{templateType:"number",lb:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48",cName:"xc12 h-100",subCName:N,keyName:"date",refInput:E(),inputType:"date",filterCommand:["date"]},{templateType:"selectArrayObj",lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23",cName:"xc12 h-100",subCName:j,keyName:"transactionType",refInput:E(),inputType:"text",filterCommand:["transactionType"],selectArrayObj:["transaction","transactionType"]},{templateType:"selectObj",lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e42\u0e15\u0e4a\u0e30",cName:"xc12 h-100",subCName:j,keyName:"tableStatus",refInput:E(),inputType:"text",filterCommand:["tableStatus"],selectObj:"tableStatus"}]},x=a(47),k=a.n(x);var S={id:{lb:"\u0e44\u0e2d\u0e14\u0e35",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"genId",placeholder:"",autoFocus:"autoFocus"},partnerType:{lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"select",placeholder:"",selectDataKey:"basicData",selectObj:"partnerType"},title:{lb:"\u0e04\u0e33\u0e19\u0e33\u0e2b\u0e19\u0e49\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"select",placeholder:"",selectDataKey:"basicData",selectObj:"title"},name:{lb:"\u0e0a\u0e37\u0e48\u0e2d",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},remainingCustomerPoint:{lb:"\u0e41\u0e15\u0e49\u0e21\u0e2a\u0e30\u0e2a\u0e21",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},totalSpending:{lb:"\u0e22\u0e2d\u0e14\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},active:{lb:"\u0e41\u0e2d\u0e04\u0e17\u0e35\u0e1f",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"checkbox",placeholder:""},phone:{lb:"\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c",templateType:"array",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2","xc10"],inputType:"text",placeholder:""},address:{lb:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48",templateType:"array",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2","xc10"],inputType:"text",placeholder:""},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",templateType:"string",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2 alignSelfStart","xc10"],inputType:"textarea",placeholder:"",textRow:3}},T={id:Object(p.a)({},S.id,{inputType:"number",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx"}),newId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e43\u0e2b\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"genId",placeholder:""},partnerType:Object(p.a)({},S.partnerType,{cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx"}),remainingCustomerPoint:Object(p.a)({},S.remainingCustomerPoint,{cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"]}),totalSpending:Object(p.a)({},S.totalSpending,{cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"]}),active:Object(p.a)({},S.active,{cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"]}),title:Object(p.a)({},S.title,{cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx"}),name:Object(p.a)({},S.name,{cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"]}),phone:Object(p.a)({},S.phone,{cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2","xc10"]}),address:Object(p.a)({},S.name,{cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2","xc10"]}),remark:Object(p.a)({},S.remark,{cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2","xc10"]})},C={id:{lb:"\u0e44\u0e2d\u0e14\u0e35",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"genId",placeholder:"",autoFocus:"autoFocus"},barcode:{lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"genId",placeholder:""},productName:{lb:"\u0e0a\u0e37\u0e48\u0e2d",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},active:{lb:"\u0e41\u0e2d\u0e04\u0e17\u0e35\u0e1f",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"checkbox",placeholder:""},isRawMat:{lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"checkbox",placeholder:""},point:{lb:"\u0e41\u0e15\u0e49\u0e21",templateType:"number",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},price:{lb:"\u0e23\u0e32\u0e04\u0e32",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},unit:{lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"select",placeholder:"",selectDataKey:"basicData",selectObj:"unit"},stock:{lb:"\u0e22\u0e2d\u0e14\u0e2a\u0e15\u0e47\u0e2d\u0e04",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},priceLevel:{lb:"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e23\u0e32\u0e04\u0e32",templateType:"arrayObject",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc12","xc12"],placeholder:"",subFormTemplate:{price:{lb:"\u0e23\u0e32\u0e04\u0e32",templateType:"string",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",templateType:"string",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc4 alignSelfStart","xc8"],inputType:"text",placeholder:""}}},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",templateType:"string",cName:"pl-4 xc12 lc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2 alignSelfStart","xc10"],inputType:"textarea",placeholder:"",textRow:5,lastRef:!0},icon:{lb:"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e17\u0e35\u0e48\u0e40\u0e25\u0e37\u0e2d\u0e01\u0e44\u0e27\u0e49",templateType:"icon-group",cName:"pl-4 xc6 lc6 sc12  pt-1",subCName:["xc1 flex-center-center jc-start","xc11"],inputType:"searchIcon",iconActionIdx:0},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:"",disabled:"disabled"},detail:{lb:"\u0e23\u0e32\u0e22\u0e25\u0e30\u0e40\u0e2d\u0e35\u0e22\u0e14",templateType:"arrayObjectInTable",cName:"pl-4 xc12 lc12 sc12",subFormTemplate:{_id:{templateType:"string"},selectedLine:{templateType:"boolean"},id:{lb:"\u0e44\u0e2d\u0e14\u0e35",templateType:"number"},barcode:{lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",templateType:"string"},productName:{lb:"\u0e0a\u0e37\u0e48\u0e2d",templateType:"string"},groupId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21",templateType:"number"},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21",templateType:"string"},quantity:{lb:"\u0e08\u0e33\u0e19\u0e27\u0e19",templateType:"string"},unit:{lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22",templateType:"string"},price:{lb:"\u0e23\u0e32\u0e04\u0e32",templateType:"string"},result:{lb:"\u0e23\u0e27\u0e21",templateType:"string"},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",templateType:"string"},isRawMat:{lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a",templateType:"boolean"}}}},F=(Object(u.a)(C,["id"]),{shopChangePasswordForm:{shopName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e23\u0e49\u0e32\u0e19",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:"",autoFocus:"autoFocus"},password:{lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e23\u0e49\u0e32\u0e19",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"password",placeholder:""},newPassword1:{lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e23\u0e49\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"password",placeholder:""},newPassword2:{lb:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19\u0e23\u0e2b\u0e31\u0e2a\u0e23\u0e49\u0e32\u0e19\u0e43\u0e2b\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"password",placeholder:""}},addUserForm:{id:{lb:"\u0e23\u0e2b\u0e31\u0e2a",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:"",autoFocus:"autoFocus"},username:{lb:"\u0e22\u0e39\u0e2a\u0e40\u0e0b\u0e2d\u0e23\u0e4c\u0e40\u0e19\u0e21",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},password:{lb:"\u0e23\u0e2b\u0e31\u0e2a",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"password",placeholder:""},userLevel:{lb:"\u0e23\u0e30\u0e14\u0e31\u0e1a\u0e1c\u0e39\u0e49\u0e43\u0e0a\u0e49",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"select",placeholder:"",selectDataKey:"basicData",selectObj:"userLevel"},name:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e08\u0e23\u0e34\u0e07",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},surname:{lb:"\u0e19\u0e32\u0e21\u0e2a\u0e01\u0e38\u0e25",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},branch:{lb:"\u0e2a\u0e32\u0e02\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"select",placeholder:"",selectDataKey:"basicData",selectObj:"branch"}},partnerForm:S,partnerEditForm:T,groupForm:{id:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:"",autoFocus:"autoFocus"},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},parentId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21\u0e41\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""}},groupEditForm:{id:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:"",autoFocus:"autoFocus",disabled:"disabled"},newId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e2b\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},parentId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21\u0e41\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:"",disabled:"disabled"},newParentId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21\u0e41\u0e21\u0e48\u0e43\u0e2b\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""}},productForm:C,productEditForm:{id:Object(p.a)({},C.id,{inputType:"number"}),newId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e43\u0e2b\u0e21\u0e48",templateType:"string",cName:"pl-4 xc6 lc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"genId",placeholder:""},barcode:C.barcode,productName:C.productName,active:C.active,isRawMat:C.isRawMat,point:C.point,price:C.price,unit:C.unit,stock:C.stock,priceLevel:C.priceLevel,remark:C.remark,icon:C.icon,groupName:C.groupName,detail:C.detail},productDetailForm:{icon:{lb:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",templateType:"icon",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2","xc10"],inputType:"searchIcon",iconActionIdx:0},id:{lb:"\u0e44\u0e2d\u0e14\u0e35",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:"",autoFocus:"autoFocus"},barcode:{lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},name:{lb:"\u0e0a\u0e37\u0e48\u0e2d",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},groupId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"text",placeholder:""},unit:{lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"select",placeholder:"",selectDataKey:"basicData",selectObj:"unit"},isRawMat:{lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"checkbox",placeholder:""},quantity:{lb:"\u0e08\u0e33\u0e19\u0e27\u0e19",templateType:"string",cName:"pl-4 xc6 sc12 pt-1 bd-lightGrayxx",subCName:["xc4","xc8"],inputType:"number",placeholder:""},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",templateType:"string",cName:"pl-4 xc12 sc12 pt-1 bd-lightGrayxx",subCName:["xc2 alignSelfStart","xc10"],inputType:"textarea",placeholder:"",textRow:3}}}),D=h.sortColumn,I=w.createTableTemplateForPage,P=w.convertFormTemplateArrayToObj,R=c.a.createContext(),A=function(e){return!!localStorage.getItem(e)},M=function(e){console.log("MainContext....");var t=c.a.useState({reloadCheckToken:!0,haveShopToken:A("shopauthorization"),haveUserToken:A("userauthorization"),userName:null}),a=Object(i.a)(t,2),n=a[0],l=a[1],r=c.a.useState({reloadBasicData:!0,basicData:null,pageData:null,tableTemplate:null}),o=Object(i.a)(r,2),s=o[0],b=o[1];c.a.useEffect((function(){}),[s]);var h={headers:{"Content-Type":"application/json",Shopauthorization:localStorage.getItem("shopauthorization"),Userauthorization:localStorage.getItem("userauthorization")}};return c.a.useEffect((function(){var e=n.reloadCheckToken,t=(n.haveShopToken,n.haveUserToken,n.userName,Object(p.a)({},n));e&&(localStorage.getItem("shopauthorization")?t=Object(p.a)({},t,{haveShopToken:!0}):(t=Object(p.a)({},t,{haveShopToken:!1}),localStorage.removeItem("userauthorization"),localStorage.removeItem("username")),localStorage.getItem("userauthorization")&&localStorage.getItem("username")?t=Object(p.a)({},t,{haveUserToken:!0,userName:localStorage.getItem("username")}):(localStorage.removeItem("userauthorization"),localStorage.removeItem("username"),t=Object(p.a)({},t,{haveUserToken:!1,userName:null})),t=Object(p.a)({},t,{reloadCheckToken:!1}),l(t))}),[n]),c.a.useEffect((function(){console.log("------------");var e,t=s.reloadBasicData;s.basicData;if(t){var a=f.a.post("/p35basicdata/getcustom",{},h),n=f.a.post("/p35formtemplate/getcustom",{},h),c=f.a.post("/p35tabletemplate/getcustom",{},h),l=f.a.post("/p35branch/getcustom",{},h),r=f.a.post("/p35user/getuserbyid",{},h),o=P(k.a);Promise.all([a,n,c,l,r]).then((function(t){var a;console.log("2222222222222");var n=t[0].data.data[0],c=[];n.printPage.map((function(e){c=[].concat(Object(d.a)(c),[e.printPageName])}));var l=D(t[0].data.data[0].routeAuth,"id","number","a-b"),r=I(t[2].data.data),i=t[1].data.data,f=t[3].data.data[0],h=t[4].data.data[0],g=f.id,y=Object(u.a)(f,["id"]),v=Object(p.a)({},y,{branchId:g}),w=[],E={};i.map((function(e){var t={};e.template.map((function(e){t=Object(p.a)({},t,Object(m.a)({},e.key,e.lb))})),t=Object(p.a)({},t,Object(m.a)({},"thisId",e.id)),E=Object(p.a)({},E,Object(m.a)({},e.formLanguage,t)),w=[].concat(Object(d.a)(w),[e.formLanguage])}));var N=E[v.languageSetting],j={};Object.keys(F).map((function(e){var t={};Object.keys(F[e]).map((function(a){N[a];var n=Object(p.a)({},F[e][a],{lb:N[a]});if(F[e][a].subFormTemplate){var c={};Object.keys(F[e][a].subFormTemplate).map((function(t){N[t];var n=F[e][a].subFormTemplate[t];c=Object(p.a)({},c,Object(m.a)({},t,Object(p.a)({},n,{lb:N[t]})))})),n=Object(p.a)({},n,{subFormTemplate:c})}t=Object(p.a)({},t,Object(m.a)({},a,n))})),j=Object(p.a)({},j,Object(m.a)({},e,t))}));var x={};Object.keys(o).map((function(e){var t={};N["formHead-".concat(e)]&&(t=Object(m.a)({},"formHead",N["formHead-".concat(e)])),Object.keys(o[e]).map((function(e){N[e],"formHead"!=e&&(t=Object(p.a)({},t,Object(m.a)({},e,N[e])))})),x=Object(p.a)({},x,Object(m.a)({},e,t))}));var k=(a={},Object(m.a)(a,"productFilterForm",x.productFilterForm),Object(m.a)(a,"partnerFilterForm",x.partnerFilterForm),Object(m.a)(a,"transactionFilterForm",x.transactionFilterForm),a),S={};Object.keys(O).map((function(e){var t=[];O[e].map((function(e){var a=Object(p.a)({},e,{lb:N[e.keyName]});t=[].concat(Object(d.a)(t),[a])})),S=Object(p.a)({},S,Object(m.a)({},e,t))}));var T={};Object.keys(r).map((function(e){var t={};Object.keys(r[e]).map((function(a){t=Object(p.a)({},t,Object(m.a)({},a,Object(p.a)({},r[e][a],Object(m.a)({},"lb",N[a]))))})),T=Object(p.a)({},T,Object(m.a)({},e,t))})),e=Object(p.a)({},s,{reloadBasicData:!1,basicData:Object(p.a)({},n,{routeAuth:l},v,{listOfLanguage:w,listOfPrintPage:c}),pageData:x,tableTemplate:T,pageFilter:S,pageFilterForm:k,languageObj:E,modalFormTemplate:j,user:h}),console.log("tempSt"),console.log(e),b(e)})).catch((function(t){console.log("err"),console.log(t),e=Object(p.a)({},s,{reloadBasicData:!1}),b(e)}))}}),[s]),c.a.createElement(R.Provider,{value:{myheader:h,tokenSt:n,setTokenSt:l,setReloadCheckToken:function(e){l(Object(p.a)({},n,{reloadCheckToken:!0}))},basicDataSt:s,setReloadBasicData:function(e){b(Object(p.a)({},s,{reloadBasicData:!0}))},setBasicData:function(e){b(Object(p.a)({},s,{basicData:e}))}}},e.children)},B=a(18),L=a(6),G=a(7),U=a(26),H=a(17),_=a(48),z=a(25),K=(a(44),a(76),{FaHome:"\u0e2b\u0e19\u0e49\u0e32\u0e2b\u0e25\u0e31\u0e01",MdTune:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e2a\u0e32\u0e02\u0e32",MdPerson:"\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32",MdFastfood:"\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",SiBookstack:"\u0e1a\u0e34\u0e25",RiLogoutBoxRFill:"\u0e25\u0e47\u0e2d\u0e01\u0e40\u0e2d\u0e32",MdLogout:"\u0e25\u0e47\u0e2d\u0e01\u0e40\u0e2d\u0e32",MdRefresh:"\u0e23\u0e35\u0e42\u0e2b\u0e25\u0e14",MdSwapHoriz:"\u0e22\u0e49\u0e32\u0e22",MdSettings:"\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32",MdSearch:"\u0e04\u0e49\u0e19\u0e2b\u0e32",MdEdit:"\u0e41\u0e01\u0e49\u0e44\u0e02",MdAddCircle:"\u0e40\u0e1e\u0e34\u0e48\u0e21",MdDelete:"\u0e25\u0e1a",MdPrint:"\u0e1e\u0e34\u0e21\u0e1e\u0e4c",MdRadioButtonChecked:"\u0e40\u0e25\u0e37\u0e2d\u0e01",MdClose:"\u0e1b\u0e34\u0e14",RiShareForwardLine:"\u0e14\u0e36\u0e07\u0e04\u0e48\u0e32",FaFileCsv:"CSV\u0e44\u0e1f\u0e25\u0e4c",FaRegArrowAltCircleDown:"\u0e40\u0e25\u0e37\u0e48\u0e2d\u0e19\u0e25\u0e07",FaRegArrowAltCircleUp:"\u0e40\u0e25\u0e37\u0e48\u0e2d\u0e19\u0e02\u0e36\u0e49\u0e19",MdPassword:"\u0e41\u0e01\u0e49\u0e23\u0e2b\u0e31\u0e2a",MdSave:"\u0e1a\u0e31\u0e19\u0e17\u0e36\u0e01",MdMergeType:"\u0e23\u0e27\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",MdRawOn:"\u0e41\u0e15\u0e01\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a",SiAirtable:"\u0e42\u0e15\u0e4a\u0e30",FaRegFolderOpen:"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",GiCook:"\u0e04\u0e23\u0e31\u0e27",FaBullseye:"\u0e44\u0e21\u0e48\u0e40\u0e25\u0e37\u0e2d\u0e01",FaBarcode:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14",TiSortNumericallyOutline:"\u0e04\u0e34\u0e27",FaRegArrowAltCircleRight:"\u0e40\u0e25\u0e37\u0e2d\u0e01",RiHandCoinFill:"\u0e1b\u0e34\u0e14\u0e1a\u0e34\u0e25",BsShop:"POS",FaMoneyBillWave:"\u0e0a\u0e33\u0e23\u0e30\u0e04\u0e48\u0e32\u0e23\u0e32\u0e22\u0e40\u0e14\u0e37\u0e2d\u0e19"});function q(e){var t=e.iconName,a=e.className,n=e.textStyle,l=e.iconStyle,r=(c.a.useContext(R).basicDataSt,c.a.useState(!0)),o=Object(i.a)(r,2),s=o[0],m=o[1];c.a.useEffect((function(){s||setTimeout((function(){m(!0)}),[1e3])}),[s]);return c.a.createElement("div",{className:"",style:{display:"flex",alignItems:"center",flexWrap:"nowrap",height:"100%"},onMouseOver:function(e){m(!1)},onMouseLeave:function(e){m(!0)}},s?function(){switch(t){case"FaHome":return c.a.createElement(L.o,{className:a,style:l});case"MdTune":return c.a.createElement(G.C,{className:a,style:l});case"MdPerson":return c.a.createElement(G.r,{className:a,style:l});case"MdFastfood":return c.a.createElement(G.m,{className:a,style:l});case"SiBookstack":return c.a.createElement(z.b,{className:a,style:l});case"MdLogout":return c.a.createElement(G.o,{className:a,style:l});case"RiLogoutBoxRFill":return c.a.createElement(B.c,{className:a,style:l});case"MdRefresh":case"MdRefresh":return c.a.createElement(G.w,{className:a,style:l});case"MdSwapHoriz":return c.a.createElement(G.B,{className:a,style:l});case"MdSettings":return c.a.createElement(G.z,{className:a,style:l});case"MdSearch":return c.a.createElement(G.y,{className:a,style:l});case"MdEdit":return c.a.createElement(G.k,{className:a,style:l});case"MdAddCircle":return c.a.createElement(G.a,{className:a,style:l});case"MdDelete":return c.a.createElement(G.j,{className:a,style:l});case"MdPrint":return c.a.createElement(G.s,{className:a,style:l});case"MdRadioButtonChecked":return c.a.createElement(G.t,{className:a,style:l});case"MdClose":return c.a.createElement(G.i,{className:a,style:l});case"RiShareForwardLine":return c.a.createElement(B.d,{className:a,style:l});case"FaFileCsv":return c.a.createElement(L.k,{className:a,style:l});case"FaRegArrowAltCircleUp":return c.a.createElement(L.y,{className:a,style:l});case"FaRegArrowAltCircleDown":return c.a.createElement(L.v,{className:a,style:l});case"MdPassword":return c.a.createElement(G.q,{className:a,style:l});case"MdSave":return c.a.createElement(G.x,{className:a,style:l});case"MdMergeType":return c.a.createElement(G.p,{className:a,style:l});case"MdRawOn":return c.a.createElement(G.v,{className:a,style:l});case"SiAirtable":return c.a.createElement(z.a,{className:a,style:l});case"FaRegFolderOpen":return c.a.createElement(L.A,{className:a,style:l});case"GiCook":return c.a.createElement(U.a,{className:a,style:l});case"FaBullseye":return c.a.createElement(L.c,{className:a,style:l});case"FaBarcode":return c.a.createElement(L.b,{className:a,style:l});case"TiSortNumericallyOutline":return c.a.createElement(_.a,{className:a,style:l});case"FaRegArrowAltCircleRight":return c.a.createElement(L.x,{className:a,style:l});case"RiHandCoinFill":return c.a.createElement(B.a,{className:a,style:l});case"FaMoneyBillWave":return c.a.createElement(L.s,{className:a,style:l});case"BsShop":return c.a.createElement(H.b,{className:a,style:l});default:return null}}():c.a.createElement("div",{className:"flex-center-center",style:Object(p.a)({color:"white",whiteSpace:"nowrap",height:"100%",padding:"0.24rem"},n)},c.a.createElement("div",null,K[t])))}q.defaultProps={iconName:"",classNam:"",textStyle:null,iconStyle:null};var W=q,$=a(11),V=a.n($),Y=a(13),Q=a(31),X=a.n(Q);var J=function(e,t){return new Promise((function(t,a){var n={file:e,quality:.9,mimeType:e.type,maxWidth:900,maxHeight:900,width:800,height:800,minWidth:700,minHeight:700,convertSize:1/0,loose:!0,redressOrientation:!0,beforeCompress:function(e){},success:function(){var e=Object(Y.a)(V.a.mark((function e(a){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(a);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),error:function(e){console.error(e),a(e)}};new X.a(n)}))},Z=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a,n,c,l;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.files,n=t.arrayFile,c=t.setArrayFile,l=Array.from(new Set([].concat(Object(d.a)(n),Object(d.a)(a)))),c(l);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a,n,c,l,r,o,i,s,u,b;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=t.arrayFile,t.fileUrl,n=t.setFileUrl,c=t.inputState,l=t.setInputState,r=t.keyName,o=t.setShowImage,i=r.split("photoUrl")[1],s=[],u=[],b=0;b<a.length;b++)u=[].concat(Object(d.a)(u),[J(a[b])]);Promise.all(u).then((function(e){e.map((function(e){var t={name:e.name,blob:URL.createObjectURL(e)};s=[].concat(Object(d.a)(s),[t])})),n(s),l(Object(p.a)({},c,Object(m.a)({},"file".concat(i),e))),te({setShowImage:o})})).catch((function(e){}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(e){var t=e.setShowImage;t(!1),setTimeout((function(){t(!0)}),100)},ae={fileListItem:function(e){for(var t,a=t=(e=[].slice.call(Array.isArray(e)?e:arguments)).length,n=!0;a--&&n;)n=e[a]instanceof File;if(!n)throw new TypeError("expected argument to fileList1 is File or array of File objects");for(a=new ClipboardEvent("").clipboardData||new DataTransfer;t--;)a.items.add(e[t]);return a.files},changeArrayFile:ee,handleInputFile:Z,reloadImage:te,resetFile:function(e){var t=e.setArrayFile,a=e.setFileUrl;t([]),a([])},deleteFileUrl:function(e){for(var t=e.name,a=e.arrayFile,n=e.setArrayFile,c=e.reloadImage,l=e.setShowImage,r=[],o=0;o<a.length;o++)a[o].name!==t&&(r=[].concat(Object(d.a)(r),[a[o]]));n(r),c({setShowImage:l})},deletePhotoUrl:function(e){var t=e.name,a=e.inputState,n=e.setInputState,c=e.keyName,l=e.reloadImage,r=e.setShowImage,o=[],i=a[c].length;if(i>0)for(var s=0;s<i;s++)a[c][s]!=t&&(o=[].concat(Object(d.a)(o),[a[c][s]]));0==o.length&&(o=[""]);var u=Object(p.a)({},a,Object(m.a)({},c,o));n(Object(p.a)({},u)),l({setShowImage:r})},moveFirst:function(e){var t,a=e.idx,n=e.inputState,c=e.setInputState,l=e.keyName,r=e.reloadImage,o=e.setShowImage,i=[],s=n[l].length;if(s>0)for(var u=0;u<s;u++)u!=a?i=[].concat(Object(d.a)(i),[n[l][u]]):t=n[l][u];0==(i=[t].concat(Object(d.a)(i))).length&&(i=[""]);var b=Object(p.a)({},n,Object(m.a)({},l,i));c(Object(p.a)({},b)),r({setShowImage:o})},movePrevious:function(e){var t,a=e.idx,n=e.inputState,c=e.setInputState,l=e.keyName,r=e.reloadImage,o=e.setShowImage,i=[],s=n[l].length;if(s>0)for(var u=0;u<s;u++)u==a-1?t=n[l][u]:i=[].concat(Object(d.a)(i),u==a?[n[l][u],t]:[n[l][u]]);0==i.length&&(i=[""]);var b=Object(p.a)({},n,Object(m.a)({},l,i));c(Object(p.a)({},b)),r({setShowImage:o})},moveNext:function(e){var t,a=e.idx,n=e.inputState,c=e.setInputState,l=e.keyName,r=e.reloadImage,o=e.setShowImage,i=[],s=n[l].length;if(s>0)for(var u=0;u<s;u++)u==a?t=n[l][u]:i=[].concat(Object(d.a)(i),u==a+1?[n[l][u],t]:[n[l][u]]);0==i.length&&(i=[""]);var b=Object(p.a)({},n,Object(m.a)({},l,i));c(Object(p.a)({},b)),r({setShowImage:o})},moveLast:function(e){var t,a=e.idx,n=e.inputState,c=e.setInputState,l=e.keyName,r=e.reloadImage,o=e.setShowImage,i=[],s=n[l].length;if(s>0)for(var u=0;u<s;u++)u!=a?i=[].concat(Object(d.a)(i),[n[l][u]]):t=n[l][u];0==(i=[].concat(Object(d.a)(i),[t])).length&&(i=[""]);var b=Object(p.a)({},n,Object(m.a)({},l,i));c(Object(p.a)({},b)),r({setShowImage:o})},reduceImageSize:J},ne=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a,n,c,l,r,o,i,s,u,p,b,h;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.qCondition,n=t.RtAndCt,c=t.filterTemplate,l=t.inputState,r=t.setFilterData,o=t.pageNumber,i=t.setCount,s=t.sort,u=t.limitRow,p=t.setReload,b=[],c.map((function(e){if(l[e.keyName].toCheck)if("number"==e.templateType){var t=Object(m.a)({},e.filterCommand[0],{$gte:l[e.keyName].min,$lte:l[e.keyName].max});b=[].concat(Object(d.a)(b),[t])}else if("arrayNumber"==e.templateType){var a=Object(m.a)({},e.filterCommand[0],{$elemMatch:{$gte:l[e.keyName].min,$lte:l[e.keyName].max}});b=[].concat(Object(d.a)(b),[a])}else if("objectNumber"==e.templateType){var n=Object(m.a)({},e.filterCommand[0],{$gte:l[e.keyName].min,$lte:l[e.keyName].max});b=[].concat(Object(d.a)(b),[n])}else if("arrayObjectNumber"==e.templateType){var c=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$gte:l[e.keyName].min,$lte:l[e.keyName].max})});b=[].concat(Object(d.a)(b),[c])}else if("arrayObjectArrayNumber"==e.templateType){var r=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$elemMatch:{$gte:l[e.keyName].min,$lte:l[e.keyName].max}})});b=[].concat(Object(d.a)(b),[r])}else if("string"===e.templateType){var o=Object(m.a)({},e.filterCommand[0],{$regex:l[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"});b=[].concat(Object(d.a)(b),[o])}else if("arrayString"==e.templateType){var i=Object(m.a)({},e.filterCommand[0],{$elemMatch:{$regex:l[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"}});b=[].concat(Object(d.a)(b),[i])}else if("objectString"==e.templateType){var s=Object(m.a)({},e.filterCommand[0],{$regex:l[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"});b=[].concat(Object(d.a)(b),[s])}else if("arrayObjectString"==e.templateType){var u=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$regex:l[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"})});b=[].concat(Object(d.a)(b),[u])}else if("arrayObjectArrayString"==e.templateType){var p=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$elemMatch:{$regex:l[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"}})});b=[].concat(Object(d.a)(b),[p])}})),e.prev=3,"$and"!=a){e.next=10;break}return e.next=7,f.a.post(n,{pageNumber:o,sort:s,limitRow:u,$and:b},{headers:{"Content-Type":"application/json",Shopauthorization:localStorage.getItem("shopauthorization"),Userauthorization:localStorage.getItem("userauthorization")}});case 7:h=e.sent,e.next=13;break;case 10:return e.next=12,f.a.post(n,{pageNumber:o,sort:s,limitRow:u,$or:b},{headers:{"Content-Type":"application/json",Shopauthorization:localStorage.getItem("shopauthorization"),Userauthorization:localStorage.getItem("userauthorization")}});case 12:h=e.sent;case 13:r(Object(d.a)(h.data.data)),i(h.data.count),p(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),r([]),p(!1);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(e){var t=e.inputState,a=e.template,n=new FormData;return function e(t){var a=t.iSt,c=t.tPt,l=t.preFix;Object.keys(c).map((function(t,r){var o=c[t].stType;if("object"==o)e(""==l?{iSt:a[t],tPt:c[t].stChildren,preFix:t}:{iSt:a[t],tPt:c[t].stChildren,preFix:"".concat(l,"[").concat(t,"]")});else if("arrayObject"==o)a[t].map((function(a,n){e(""==l?{iSt:a,tPt:c[t].stChildren,preFix:"".concat(t,"[").concat(n,"]")}:{iSt:a,tPt:c[t].stChildren,preFix:"".concat(l,"[").concat(t,"][").concat(n,"]")})}));else if("array"==o)a[t].map((function(e,c){""==l?n.append("".concat(l).concat(t,"[").concat(c,"]"),a[t][c]):n.append("".concat(l,"[").concat(t,"][").concat(c,"]"),a[t][c])}));else if("file"==o){if(a[t])for(var i=0;i<a[t].length;i++){var s="".concat(a[t][i].name);n.append("imageUrl",a[t][i],s)}}else""==l?n.append("".concat(l).concat(t),a[t]):n.append("".concat(l,"[").concat(t,"]"),a[t])}))}({iSt:t,tPt:a,preFix:""}),n},le=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a,n,c,l,r,o,i,s,m,u,p,b,h,g,y;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.url,n=t.stateTemplate,c=t.inputState,l=t.setShow,r=t.setShowModalError,o=t.clearForm,i=t.actionAfterSuccess,s=t.useGenFD,console.log("inputState submitFunc Before"),console.log(c),s){if(m=[],c.file1)for(u=0;u<c.file1.length;u++)m=[].concat(Object(d.a)(m),[c.file1[u].name]);if(c.photoUrl1&&(c.photoUrl1=[].concat(Object(d.a)(c.photoUrl1),Object(d.a)(m))),p=[],c.file2)for(b=0;b<c.file2.length;b++)p=[].concat(Object(d.a)(p),[c.file2[b].name]);c.photoUrl2&&(c.photoUrl2=[].concat(Object(d.a)(c.photoUrl2),Object(d.a)(p)))}if(h=!0,g=s?ce({inputState:c,template:n}):c,!h){e.next=21;break}return e.prev=7,e.next=10,f.a.post(a,g,{headers:{"Content-Type":"application/json",Shopauthorization:localStorage.getItem("shopauthorization"),Userauthorization:localStorage.getItem("userauthorization")}});case 10:y=e.sent,i&&i(y),o&&o(),l&&l(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(7),r({status:!0,msg:e.t0});case 19:e.next=22;break;case 21:r({status:!0,msg:h});case 22:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}();var re={axiGet:ne,genFD:ce,submitFunc:le,addFileNameInPhotoUrl:function(e){var t=[];if(e.file1)for(var a=0;a<e.file1.length;a++)t=[].concat(Object(d.a)(t),[e.file1[a].name]);e.photoUrl1&&(e.photoUrl1=[].concat(Object(d.a)(e.photoUrl1),Object(d.a)(t)));var n=[];if(e.file2)for(var c=0;c<e.file2.length;c++)n=[].concat(Object(d.a)(n),[e.file2[c].name]);return e.photoUrl2&&(e.photoUrl2=[].concat(Object(d.a)(e.photoUrl2),Object(d.a)(n))),e},addSingleFileNameInsteadOfPhotoUrl:function(e){var t=[];e.file1&&e.photoUrl1&&(t=[].concat(Object(d.a)(t),[e.file1[0].name]),e.photoUrl1=t);var a=[];return e.file2&&e.photoUrl2&&(a=[].concat(Object(d.a)(a),[e.file2[0].name]),e.photoUrl2=a),e},genSortFromSortState:function(e){var t=[],a={},n=Object.keys(e);return n.map((function(a){null!=e[a].sortName&&(t=[].concat(Object(d.a)(t),[e[a].sortName]))})),(t=Array.from(new Set(t))).length>0&&t.map((function(t){for(var c=0;c<n.length;c++){var l=n[c];if(t==e[l].sortName){a=Object(p.a)({},a,Object(m.a)({},t,e[l].toAscending));break}}})),a},genSortStateFromSort:function(e){var t={order1:{toAscending:1,sortName:null},order2:{toAscending:1,sortName:null},order3:{toAscending:1,sortName:null}},a=Object.keys(e);return a[0]&&(t.order1={toAscending:e[a[0]],sortName:a[0]}),a[1]&&(t.order2={toAscending:e[a[1]],sortName:a[1]}),a[2]&&(t.order2={toAscending:e[a[2]],sortName:a[2]}),t},reloadAndSearch:function(e){var t=e.url,a=e.blankData,n=e.inputState,c=e.pageNumber,l=e.sort,r=e.filterOption,o=e.qry,i=e.setFilterData,s=e.setCount,m=e.setLastRecordId,u=e.setEditData,d=e.filterTemplate,b=e.reload,h=e.setReload,g=e.limitRow,y=function(){f.a.post(t,{pageNumber:c,sort:l,limitRow:g},{headers:{"Content-Type":"application/json",Shopauthorization:localStorage.getItem("shopauthorization"),Userauthorization:localStorage.getItem("userauthorization")}}).then((function(e){console.log("filterOption0: ".concat(t)),h(!1),i(e.data.data),s(e.data.count),m(e.data.lastRecordId)})).catch((function(e){h(!1)}))};1==c&&0==r&&b||0==r?y():1==r?ne({qCondition:"$and",RtAndCt:t,filterTemplate:d,inputState:n,setFilterData:i,pageNumber:c,setCount:s,sort:l,limitRow:g,setReload:h}):2==r?ne({qCondition:"$or",RtAndCt:t,filterTemplate:d,inputState:n,setFilterData:i,pageNumber:c,setCount:s,sort:l,limitRow:g,setReload:h}):3==r&&f.a.post(t,Object(p.a)({},o,{pageNumber:c,sort:l,limitRow:g}),{headers:{"Content-Type":"application/json",Shopauthorization:localStorage.getItem("shopauthorization"),Userauthorization:localStorage.getItem("userauthorization")}}).then((function(e){console.log("filterOption3: ".concat(t)),h(!1),i(e.data.data),s(e.data.count),u(a)})).catch((function(e){h(!1)}))},genArrayForFilterAxios:function(e){var t=e.filterTemplate,a=e.inputState,n=[];return t.map((function(e){if(a[e.keyName].toCheck)if("number"==e.templateType){var t=Object(m.a)({},e.filterCommand[0],{$gte:a[e.keyName].min,$lte:a[e.keyName].max});n=[].concat(Object(d.a)(n),[t])}else if("arrayNumber"==e.templateType){var c=Object(m.a)({},e.filterCommand[0],{$elemMatch:{$gte:a[e.keyName].min,$lte:a[e.keyName].max}});n=[].concat(Object(d.a)(n),[c])}else if("objectNumber"==e.templateType){var l=Object(m.a)({},e.filterCommand[0],{$gte:a[e.keyName].min,$lte:a[e.keyName].max});n=[].concat(Object(d.a)(n),[l])}else if("arrayObjectNumber"==e.templateType){var r=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$gte:a[e.keyName].min,$lte:a[e.keyName].max})});n=[].concat(Object(d.a)(n),[r])}else if("arrayObjectArrayNumber"==e.templateType){var o=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$elemMatch:{$gte:a[e.keyName].min,$lte:a[e.keyName].max}})});n=[].concat(Object(d.a)(n),[o])}else if("string"===e.templateType||"selectObj"==e.templateType||"selectArrayObj"==e.templateType){var i=Object(m.a)({},e.filterCommand[0],{$regex:a[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"});n=[].concat(Object(d.a)(n),[i])}else if("arrayString"==e.templateType){var s=Object(m.a)({},e.filterCommand[0],{$elemMatch:{$regex:a[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"}});n=[].concat(Object(d.a)(n),[s])}else if("objectString"==e.templateType){var u=Object(m.a)({},e.filterCommand[0],{$regex:a[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"});n=[].concat(Object(d.a)(n),[u])}else if("arrayObjectString"==e.templateType){var p=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$regex:a[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"})});n=[].concat(Object(d.a)(n),[p])}else if("arrayObjectArrayString"==e.templateType){var b=Object(m.a)({},e.filterCommand[0],{$elemMatch:Object(m.a)({},e.filterCommand[1],{$elemMatch:{$regex:a[e.keyName].value.trim().replace(/\s/,"|"),$options:"gi"}})});n=[].concat(Object(d.a)(n),[b])}else if("boolean"==e.templateType){var f=Object(m.a)({},e.filterCommand[0],a[e.keyName].value);n=[].concat(Object(d.a)(n),[f])}})),n},addAndUpdateSubField:function(e,t,a){var n=[];if(e)if(0==e[t].length)console.log("subFile.length==0"),n=[a];else for(var c=0;c<e[t].length;c++)e[t][c].id==a.id?n=[].concat(Object(d.a)(n),[a]):(n=[].concat(Object(d.a)(n),[e[t][c]]),c==e[t].length-1&&(n=[].concat(Object(d.a)(n),[a])));return n},deleteSubField:function(e,t,a){var n=[];if(e)for(var c=0;c<e[t].length;c++)e[t][c].id!=a.id&&(n=[].concat(Object(d.a)(n),[e[t][c]]));return n},catchErrorToMessage:function(e){return"string"==typeof e?e:e&&e.response&&e.response.data&&e.response.data.message?e.response.data.message:void 0},sleep:function(e){return new Promise((function(t){return setTimeout(t,e)}))},genId:function(){var e=(new Date).toISOString(),t=new Date(e).toLocaleString("fr-ca"),a=new Date(e).toLocaleString("en-GB"),n=t.substring(2,4)+t.substring(5,7)+t.substring(8,10)+a.substring(12,14)+a.substring(15,17)+a.substring(18,20);return parseInt(n)}},oe=a(10),ie=a.n(oe),se=/^\d{1,30}$/gi,me=/^[\u0e01-\u0e59\w\+\-\*\/\\.=]{1,200}$/gi,ue=/^\d{4}-\d{2}-\d{2}$/gi,de=/^[\w\-\*\/\.\\=]{1,200}$/gi,pe=/^(true)|(false)$/gi,be=function(e,t){return new RegExp(e).test(t)},fe=function(e,t){for(var a=!0,n=0;n<t.length&&(a=new RegExp(e).test(t[n]));n++);return a},he=function(){return!0},ge={partnerState:{id:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},newId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32\u0e43\u0e2b\u0e21\u0e48"},title:{stType:"string",validate:be,pattern:me,lb:"\u0e04\u0e33\u0e19\u0e33\u0e2b\u0e19\u0e49\u0e32"},name:{stType:"string",validate:be,pattern:me,lb:"\u0e0a\u0e37\u0e48\u0e2d"},active:{stType:"boolean",validate:be,pattern:pe,stDefault:!0,lb:"active"},phone:{stType:"array",validate:fe,pattern:se,lb:"\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c"},partnerType:{stType:"string",validate:be,pattern:me,lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},address:{stType:"array",validate:fe,pattern:se,lb:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"},remainingCustomerPoint:{stType:"number",validate:be,pattern:se,lb:"\u0e41\u0e15\u0e49\u0e21\u0e2a\u0e30\u0e2a\u0e21"},totalSpending:{stType:"number",validate:be,pattern:se,stDefault:0,lb:"\u0e22\u0e2d\u0e14\u0e43\u0e0a\u0e49\u0e08\u0e48\u0e32\u0e22"}},groupState:{id:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},gcode:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},groupName:{stType:"string",validate:be,pattern:me,lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},level:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"}},productState:{id:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},newId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32\u0e43\u0e2b\u0e21\u0e48"},barcode:{stType:"string",validate:be,pattern:me,lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14"},productName:{stType:"string",validate:be,pattern:me,lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},groupId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},groupName:{stType:"string",validate:be,pattern:me,lb:"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},unit:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22"},price:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e32\u0e04\u0e32"},priceLevel:{stType:"arrayObject",stChildren:{price:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e32\u0e04\u0e32\u0e22\u0e48\u0e2d\u0e22"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15"}}},active:{stType:"boolean",validate:be,pattern:pe,stDefault:!0,lb:"active"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"},isRawMat:{stType:"boolean",validate:be,pattern:pe,lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a"},hasDetailProduct:{stType:"boolean",validate:be,pattern:pe,lb:"",stDefault:!1},detail:{stType:"arrayObject",stChildren:{_id:{stType:"string",validate:be,pattern:me,lb:"_id"},selectedLine:{stType:"boolean",validate:be,pattern:pe,stDefault:!1,lb:""},id:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},barcode:{stType:"string",validate:be,pattern:me,lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14"},productName:{stType:"string",validate:be,pattern:me,lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},groupId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},groupName:{stType:"string",validate:be,pattern:me,lb:"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},unit:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22"},price:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e32\u0e04\u0e32"},quantity:{stType:"number",validate:be,pattern:se,lb:"\u0e08\u0e33\u0e19\u0e27\u0e19"},result:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e27\u0e21"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"},isRawMat:{stType:"boolean",validate:be,pattern:pe,lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a",stDefault:!1},hasDetailProduct:{stType:"boolean",validate:be,pattern:pe,lb:"",stDefault:!1}}},stock:{stType:"number",validate:be,pattern:se,lb:"\u0e2a\u0e15\u0e47\u0e2d\u0e01"},order:{stType:"number",validate:be,pattern:se,lb:"\u0e08\u0e2d\u0e07"},plan:{stType:"number",validate:be,pattern:se,lb:"\u0e41\u0e1c\u0e19"},point:{stType:"number",validate:be,pattern:se,lb:"\u0e41\u0e15\u0e49\u0e21"},file1:{stType:"file",validate:he,pattern:null,lb:"\u0e44\u0e1f\u0e25\u0e4c1"},photoUrl1:{stType:"array",validate:fe,pattern:de,lb:"\u0e23\u0e39\u0e1b1"}},shopInfoState:{id:{stType:"number",validate:be,pattern:se},file1:{stType:"file",validate:he,pattern:null},photoUrl1:{stType:"array",validate:fe,pattern:de},shopInfo:{stType:"object",stChildren:{nameOfShop:{stType:"string",validate:be,pattern:me},nameOfShopActive:{stType:"boolean",validate:be,pattern:pe},address:{stType:"string",validate:be,pattern:me},addressActive:{stType:"boolean",validate:be,pattern:pe},contact:{stType:"string",validate:be,pattern:me},contactActive:{stType:"boolean",validate:be,pattern:pe},branch:{stType:"string",validate:be,pattern:me},branchActive:{stType:"boolean",validate:be,pattern:pe},other:{stType:"string",validate:be,pattern:me},otherActive:{stType:"boolean",validate:be,pattern:pe},logoActive:{stType:"boolean",validate:be,pattern:pe}}}},shopPaymentState:{file1:{stType:"file",validate:he,pattern:null},photoUrl1:{stType:"array",validate:fe,pattern:de}},transactionState:{id:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23"},newId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23\u0e43\u0e2b\u0e21\u0e48"},date:{stType:"date",validate:be,pattern:ue,lb:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48"},remindDate:{stType:"date",validate:be,pattern:ue,lb:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48\u0e41\u0e08\u0e49\u0e07\u0e40\u0e15\u0e37\u0e2d\u0e19"},branch:{stType:"string",validate:be,pattern:me,lb:"\u0e2a\u0e32\u0e02\u0e32"},transactionType:{stType:"string",validate:be,pattern:me,lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23"},transactionStatus:{stType:"string",validate:be,pattern:me,lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23"},active:{stType:"string",validate:be,pattern:me,lb:"\u0e41\u0e2d\u0e04\u0e17\u0e35\u0e1f"},table:{stType:"string",validate:be,pattern:me,lb:"\u0e42\u0e15\u0e4a\u0e30"},tableStatus:{stType:"string",validate:be,pattern:me,lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e42\u0e15\u0e4a\u0e30"},paymentType:{stType:"string",validate:be,pattern:me,lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e01\u0e32\u0e23\u0e0a\u0e33\u0e23\u0e30\u0e40\u0e07\u0e34\u0e19"},effectStock:{stType:"string",validate:be,pattern:me,lb:"\u0e01\u0e23\u0e30\u0e17\u0e1a\u0e2a\u0e15\u0e47\u0e2d\u0e01"},effectSpending:{stType:"string",validate:be,pattern:me,lb:"\u0e01\u0e23\u0e30\u0e17\u0e1a\u0e08\u0e2d\u0e07"},effectCustomerPoint:{stType:"string",validate:be,pattern:me,lb:"\u0e01\u0e23\u0e30\u0e17\u0e1a\u0e41\u0e1c\u0e19"},partnerId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},partnerType:{stType:"string",validate:be,pattern:me,lb:"\u0e1b\u0e23\u0e30\u0e40\u0e20\u0e17\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32"},title:{stType:"string",validate:be,pattern:me,lb:"\u0e04\u0e33\u0e19\u0e33\u0e2b\u0e19\u0e49\u0e32"},name:{stType:"string",validate:be,pattern:me,lb:"\u0e0a\u0e37\u0e48\u0e2d"},phone:{stType:"array",validate:fe,pattern:se,lb:"\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c"},address:{stType:"string",validate:be,pattern:me,lb:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"},total:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e27\u0e21"},totalReduction:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e27\u0e21\u0e2a\u0e48\u0e27\u0e19\u0e25\u0e14"},totalTax:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e27\u0e21\u0e20\u0e32\u0e29\u0e35"},grandTotal:{stType:"number",validate:be,pattern:se,lb:"\u0e2a\u0e38\u0e17\u0e3a\u0e18\u0e34"},totalPoint:{stType:"number",validate:be,pattern:se,lb:"\u0e41\u0e15\u0e49\u0e21"},customerPointReduction:{stType:"number",validate:be,pattern:se,lb:"\u0e2b\u0e31\u0e01\u0e41\u0e15\u0e49\u0e21\u0e2a\u0e30\u0e2a\u0e21"},detail:{stType:"arrayObject",stChildren:{id:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},barcode:{stType:"string",validate:be,pattern:me,lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e49\u0e14"},productName:{stType:"string",validate:be,pattern:me,lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},groupId:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},groupName:{stType:"string",validate:be,pattern:me,lb:"\u0e01\u0e25\u0e38\u0e48\u0e21\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32"},unit:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22"},price:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e32\u0e04\u0e32"},priceLevel:{stType:"arrayObject",stChildren:{price:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e32\u0e04\u0e32"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"}}},quantity:{stType:"number",validate:be,pattern:se,lb:"\u0e08\u0e33\u0e19\u0e27\u0e19"},result:{stType:"number",validate:be,pattern:se,lb:"\u0e23\u0e27\u0e21"},remark:{stType:"string",validate:be,pattern:me,lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38"},isRawMat:{stType:"boolean",validate:be,pattern:pe,stDefault:!0,lb:"\u0e40\u0e1b\u0e47\u0e19\u0e27\u0e31\u0e15\u0e16\u0e38\u0e14\u0e34\u0e1a"},jobStatus:{stType:"string",validate:be,pattern:me,lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30\u0e07\u0e32\u0e19"},point:{stType:"number",validate:be,pattern:se,lb:"\u0e41\u0e15\u0e49\u0e21"}}}}},ye=(a(79),ae.reloadImage),ve=ae.deleteFileUrl,we=ae.deletePhotoUrl;function Ee(e){var t,a=e.fileUrl,n=e.arrayFile,l=e.setArrayFile,r=e.keyName,o=e.setShowImage,s=e.inputState,m=e.setInputState,u=(e.useYoutubeLink,[]);s[r].map((function(e){""!=e&&(u=[].concat(Object(d.a)(u),[e]))}));var p=(t=a.length>0?[a[0]]:[u[0]]).length;1==p&&(t[0]||(p=0));var b=c.a.useState(""),f=Object(i.a)(b,2),h=f[0],g=f[1],y=c.a.useRef(),v=c.a.useRef();c.a.useEffect((function(){if(t&&t.length>0){var e=100*t.length;g("".concat(e,"%"))}}),[]);return c.a.createElement("div",{className:"bgc-lightGray",style:{height:"100%",overflow:"hidden"}},c.a.createElement("input",{type:"file",accept:"image/jpeg,image/png,image/jpg,image/*",style:{display:"none"},ref:v,onChange:function(e){l(e.target.files)}}),c.a.createElement("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"flex-start",flexWrap:"wrap",width:"100%",height:"10%"}},c.a.createElement("button",{onClick:function(e){v.current.click()}},c.a.createElement(B.b,null)),c.a.createElement("p",null,"# = ",p)),t?c.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},c.a.createElement("div",{className:"img-frame",id:"img-id",ref:y,style:{height:"60%",width:"60%"},onClick:function(e){}},c.a.createElement("div",{className:"img-track",style:{display:"flex",width:h,height:"80%",marginBottom:"2rem"}},function(e){for(var t=e.length,a=0;a<t;a++)if(e[a]&&e[a].blob){!1;break}if(e)return e.map((function(e,t){return e?(e.blob?(u=!0,a=e.blob,i=e.name):(u=!1,a=e,i=e),c.a.createElement("div",{key:t,style:{height:"100%",width:"100%",display:"grid",placeItems:"center",position:"relative"},onClick:function(e){ye({setShowImage:o})}},c.a.createElement("img",{className:"img",src:a,style:{width:"100%",height:"auto"}}),c.a.createElement(G.j,{style:{position:"absolute",border:u?"3px solid red":"3px solid green",fontSize:"2rem",backgroundColor:"white",top:"0.2rem",right:"0.2rem",zIndex:"0",borderRadius:"50%"},onClick:function(e){u?(console.log("isFile True......"),ve({name:i,arrayFile:n,setArrayFile:l,reloadImage:ye,setShowImage:o})):(console.log("isFile false........................"),we({name:i,inputState:s,setInputState:m,keyName:r,reloadImage:ye,setShowImage:o}))}}))):null;var a,i,u}))}(t)))):null)}Ee.defaultProps={useYoutubeLink:!0};var Ne=re.genFD,je=re.addSingleFileNameInsteadOfPhotoUrl;var Oe=function(e){var t=e.setShowShopMonthlyFee,a=c.a.createRef(),n=c.a.createRef(),l={shopName:c.a.createRef(),username:c.a.createRef(),password:c.a.createRef()},r=c.a.useState(!1),o=Object(i.a)(r,2),s=o[0],u=o[1],b=c.a.useState(!0),h=Object(i.a)(b,2),g=h[0],y=h[1],v={formHead:"Shop Log In Before Payment",shopName:"Shop Name",password:"Password"},w={shopName:"Shop Name",expirationDate:"Expiration Date",monthlyFee:"Monthly Fee"},E=c.a.useState({shopName:"",token:"",expirationDate:"",monthlyFee:"",photoUrl1:[""],file1:null}),N=Object(i.a)(E,2),j=N[0],O=N[1],x=c.a.useState({shopName:"",password:""}),k=Object(i.a)(x,2),S=k[0],T=k[1],C={shopName:function(){return l.password.current.focus()},password:function(){return a.current.focus()}},F=ae.changeArrayFile,D=c.a.useState(!0),I=Object(i.a)(D,2),P=I[0],R=I[1],A=c.a.useState([]),M=Object(i.a)(A,2),B=M[0],U=M[1],H=c.a.useState([]),_=Object(i.a)(H,2),z=_[0],K=_[1];c.a.useEffect((function(){}),[z]),c.a.useEffect((function(){F({arrayFile:B,fileUrl:z,setFileUrl:K,inputState:j,setInputState:O,keyName:"photoUrl1",setShowImage:R})}),[B]);var q=function(e){console.log("shopLogInForPayment......"),f.a.post("/p35shop/shoploginforpayment",e).then((function(e){var t=e.data,a=t.shopName,n=t.monthlyFee,c=t.expirationDate,l=t.token;O(Object(p.a)({},j,{shopName:a,monthlyFee:n,expirationDate:c,token:l})),T({shopName:"",password:""}),u(!0)})).catch((function(e){}))},W=function(e){var t=e.pageForm,r=e.setInputState,o=e.inputState,i=e.submitFunc,s=e.submitCancel,u=e.nextRef,d=Object.keys(t),b=Object.keys(o);return c.a.createElement("div",{className:"w-100",style:{padding:"1rem"}},c.a.createElement("div",{className:"flex-center-center w-100",style:{marginBottom:"1rem"}},c.a.createElement("h3",null,t[d[0]])),b.map((function(e,a){return function(e,a){return"password"==e||"newPassword1"==e||"newPassword2"==e||"confirmPassword"==e?c.a.createElement("div",{key:a,className:"flex-center-center jc-start w-100",style:{marginBottom:"1rem"}},c.a.createElement("div",{className:"xc4"},t[e]),c.a.createElement("div",{className:"xc8",style:{position:"relative"}},c.a.createElement("input",{type:g?"password":"text",value:o[e],ref:l[e],onChange:function(t){r(Object(p.a)({},o,Object(m.a)({},e,t.target.value)))},onKeyDown:function(t){"Enter"==t.key&&u[e]()},autoComplete:"one-time-code"}),g?c.a.createElement(G.E,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){y(!g)}}):c.a.createElement(G.D,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){y(!g)}}))):c.a.createElement("div",{key:a,className:"flex-center-center jc-start w-100",style:{marginBottom:"1rem"}},c.a.createElement("div",{className:"xc4"},t[e]),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{ref:l[e],type:"id"==e?"number":"text",value:o[e],onChange:function(t){r(Object(p.a)({},o,Object(m.a)({},e,t.target.value)))},onKeyDown:function(t){"Enter"==t.key&&u[e]()}})))}(e,a)})),c.a.createElement("div",{className:"flex-center-center jc-end jc-start w-100"},c.a.createElement("button",{ref:a,onClick:function(e){return i(o,r)}},c.a.createElement(L.f,null)),s&&c.a.createElement("button",{ref:n,onClick:function(e){return s()}},c.a.createElement(L.a,null))))},$=function(){var e=Object.keys(j),a=[];return e.map((function(e){"token"==e||"photoUrl1"==e||"file1"==e||(a=[].concat(Object(d.a)(a),[e]))})),e=a,c.a.createElement("div",{style:{}},c.a.createElement("div",{className:"w-100",style:{padding:"1rem"}},c.a.createElement("div",{className:"flex-center-center w-100",style:{marginBottom:"1rem"}},c.a.createElement("h3",null,"Update Your Payment Slip")),e.map((function(e,t){return c.a.createElement("div",{key:t,className:"flex-center-center jc-start w-100",style:{marginBottom:"1rem"}},c.a.createElement("div",{className:"xc4"},w[e]),c.a.createElement("div",{className:"xc8",style:{position:"relative"}},"expirationDate"==e?new Date(j[e]).toLocaleString("en-GB").substring(0,17):j[e]))})),c.a.createElement("div",{className:"xc12 form-row h-100",style:{justifyContent:"space-around"}},c.a.createElement("div",{className:"xc4 sc10 bgc-darkGray bd-lightGray h-100"},P?c.a.createElement(Ee,{fileUrl:z,arrayFile:B,setArrayFile:U,keyName:"photoUrl1",setShowImage:R,inputState:j,setInputState:O}):null)),c.a.createElement("div",{className:"flex-center-center jc-end jc-start w-100"},c.a.createElement("button",{ref:n,onClick:function(e){!function(e){var a={headers:{"Content-Type":"application/json",Shopauthorization:"b ".concat(j.token)}};console.log("submitShopPayment"),console.log(j);var n,c=e.file1,l=e.photoUrl1;if(c&&c.length&&c[0].name){n=je({file1:c,photoUrl1:l}),console.log("tempFormInputState2"),console.log(n);var r=Ne({inputState:n,template:{file1:ge.shopPaymentState.file1,photoUrl1:ge.shopPaymentState.photoUrl1}});f.a.post("/p35shoppayment/payshopfee",r,a).then((function(e){console.log("result"),console.log(e),t(!1),s(!1)})).catch((function(e){}))}}(j)}},c.a.createElement(L.f,null)),c.a.createElement("button",{onClick:function(e){u(!1),t(!1)}},c.a.createElement(L.a,null)))))};return s?$():c.a.createElement("div",{className:"w-100 h-100"},W({pageForm:v,setInputState:T,inputState:S,submitFunc:q,nextRef:C,submitCancel:function(){T({shopName:"",password:""}),t(!1)}}))};a(30);function xe(e){var t=e.useShopLogOut,a=e.tokenSt,n=e.setReloadCheckToken,l=e.user,r=e.useHomeIcon,o=e.myheader,m=e.useBillWaveIcon;console.log("LogOutTool");var u=a.haveShopToken,d=a.haveUserToken,p=c.a.createRef(),b=c.a.useState(!1),f=Object(i.a)(b,2),h=f[0],g=f[1];return c.a.createElement("div",{className:"",style:{position:"fixed",right:"0.1rem",top:"0.1rem"}},c.a.createElement("div",{className:"",style:{borderRadius:"1.2rem",padding:"0 0.5rem",height:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"nowrap"}},r&&c.a.createElement("div",{className:"iconbox",onClick:function(e){return p.current.click()}},c.a.createElement(W,{iconName:"FaHome",className:"navIcon",iconStyle:function(){var e=new Date,t=localStorage.getItem("expirationDate"),a=new Date(t);if(!t)return null;var n=new Date(a.toISOString());n.setDate(n.getDate()-3);var c=new Date(n);e.getTime(),a.getTime();return e>a?{color:"red"}:e>c?{color:"yellow"}:{color:"green"}}()})),l?c.a.createElement("div",{className:"flex-center-center h-100",style:{color:"white",margin:"0 0.4rem"}},"".concat(l.username,"@").concat(l.shopId)):null,d?c.a.createElement("div",{className:"iconbox",onClick:function(e){localStorage.removeItem("userauthorization"),localStorage.removeItem("username"),n(!0),window.location.reload()}},c.a.createElement(W,{iconName:"RiLogoutBoxRFill",className:"navIcon"})):u?t&&c.a.createElement("div",{className:"iconbox",onClick:function(e){localStorage.removeItem("shopauthorization"),localStorage.removeItem("expirationDate"),n(!0),window.location.reload()}},c.a.createElement(W,{iconName:"MdLogout",className:"navIcon"})):null),m&&c.a.createElement("div",{className:"iconbox",style:{width:"100%",display:"flex",justifyContent:"center",paddingRight:"",padding:"0.5rem"},onClick:function(e){g(!0)}},c.a.createElement(W,{iconName:"FaMoneyBillWave",className:"navIconCircle"})),h&&c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box"},c.a.createElement(Oe,{myheader:o,setShowShopMonthlyFee:g}))),c.a.createElement("div",{style:{display:"none"}},c.a.createElement("div",null,c.a.createElement(s.b,{ref:p,to:"/pos/home"}))))}xe.defaultProps={useShopLogOut:!0,useHomeIcon:!0};var ke=xe;function Se(){var e=c.a.useContext(R),t=e.basicDataSt,a=e.setReloadCheckToken,n=e.tokenSt,l=c.a.createRef(),r=c.a.createRef(),o=c.a.createRef(),i=c.a.createRef(),m=c.a.createRef(),u=c.a.createRef();return c.a.createElement("div",{className:"navFrame flex-center-center jc-space-between"},c.a.createElement("div",{id:"1",className:"h-100",style:{position:"absolute",top:"0",left:"0",width:"87%",display:"flex",alignItems:"center",justifyContent:"start",overflowX:"auto",overflowY:"hidden"}},c.a.createElement("div",{className:"navLink",onClick:function(e){return l.current.click()}},c.a.createElement("div",{className:"navIconBox",style:{position:"relative"}},c.a.createElement(W,{iconName:"FaHome",className:"navIcon",iconStyle:function(){var e=new Date,t=localStorage.getItem("expirationDate"),a=new Date(t);if(!t)return null;var n=new Date(a.toISOString());n.setDate(n.getDate()-3);var c=new Date(n);e.getTime(),a.getTime();return e>a?{color:"red"}:e>c?{color:"yellow"}:{color:"#74b979"}}()}))),c.a.createElement("div",{className:"navLink",onClick:function(e){return r.current.click()}},c.a.createElement("div",{className:"navIconBox"},c.a.createElement(W,{iconName:"MdTune",className:"navIcon"}))),c.a.createElement("div",{className:"navLink",onClick:function(e){return o.current.click()}},c.a.createElement("div",{className:"navIconBox"},c.a.createElement(W,{iconName:"MdPerson",className:"navIcon"}))),c.a.createElement("div",{className:"navLink",onClick:function(e){return i.current.click()}},c.a.createElement("div",{className:"navIconBox"},c.a.createElement(W,{iconName:"MdFastfood",className:"navIcon"}))),c.a.createElement("div",{className:"navLink",onClick:function(e){return u.current.click()}},c.a.createElement("div",{className:"navIconBox"},c.a.createElement(W,{iconName:"BsShop",className:"navIcon"})))),c.a.createElement("div",{id:"2",className:"hide-logouttool"},n&&a&&t&&c.a.createElement(ke,{tokenSt:n,setReloadCheckToken:a,user:t.user,useHomeIcon:!1,useShopLogOut:!1})),c.a.createElement("div",{className:"d-none"},c.a.createElement(s.b,{ref:l,to:"/pos/home"}),c.a.createElement(s.b,{ref:r,to:"/pos/branch"}),c.a.createElement(s.b,{ref:o,to:"/pos/partner"}),c.a.createElement(s.b,{ref:i,to:"/pos/product"}),c.a.createElement(s.b,{ref:m,to:"/pos/transaction"}),c.a.createElement(s.b,{ref:u,to:"/pos/bill"})))}var Te=function(e){var t=e.template,a={},n={};try{return function e(t){var a=t.tPt,n=t.stObj,l=t.refObj;Object.keys(a).map((function(t,r){var o=a[t],i=o.stType,s=(o.valPattern,o.stChildren),m=o.stDefault;"object"==i?(n[t]={},l[t]={},e({tPt:s,stObj:n[t],refObj:l[t]})):"arrayObject"==i?(n[t]=[{}],l[t]=[{}],e({tPt:s,stObj:n[t][0],refObj:l[t][0]})):"file"==i?(l[t]=c.a.createRef(),n[t]=m||null):"array"==i?(l[t]=[c.a.createRef()],n[t]=m||[""]):"number"==i?(isNaN(m)?n[t]=0:n[t]=m,l[t]=c.a.createRef()):"boolean"==i?(n[t]=(0==m||1==m)&&m,l[t]=c.a.createRef()):(n[t]=m||"",l[t]=c.a.createRef())}))}({tPt:t,stObj:a,refObj:n}),{state:a,ref:n}}catch(l){return null}},Ce={dateNow:function(){var e=new Date;return e=(e=e.toISOString()).substring(0,10)},combineLoadDataBlankState:function(e){var t=e.template,a=e.loadData,n=Te({template:t}),c={};try{return function e(t){var a=t.tPt,n=t.stObj,c=t.lDt,l=t.bDt;Object.keys(a).map((function(t,r){var o=a[t],i=o.stType,s=(o.valPattern,o.stChildren),m=o.stDefault;if("object"==i)n[t]={},e({tPt:s,stObj:n[t],lDt:c[t],bDt:l[t]});else if("arrayObject"==i){var u=[];c[t]?0==c[t].length?n[t]=l[t]:(c[t].map((function(e){u=[].concat(Object(d.a)(u),[{}])})),n[t]=u,c[t].map((function(a,r){e({tPt:s,stObj:n[t][r],lDt:c[t][r],bDt:l[t][0]})}))):n[t]=l[t]}else if("file"==i)c[t]?n[t]=c[t]:n[t]=m||null;else if("array"==i)c[t]?0==c[t].length?n[t]=m||[""]:n[t]=c[t]:n[t]=m||[""];else if("boolean"==i)1==c[t]||0==c[t]?n[t]=c[t]:n[t]=(1==m||0==m)&&m;else if("number"==i){var p=c[t];isNaN(p)?isNaN(m)?n[t]=0:n[t]=m:n[t]=c[t]}else c[t]?n[t]=c[t]:n[t]=m||""}))}({tPt:t,stObj:c,lDt:a,bDt:n.state}),c}catch(l){return null}},genBlankState:Te,genRefAndValue:function(e){var t=e.template,a=e.FData,n={},l=[],r=[];!function e(t){var a=t.tPt,o=t.fDt,i=t.location,s=t.obj;Object.keys(a).map((function(t,m){var u=a[t],p=u.templateType,b=u.subFormTemplate,f=(u.ref,u.nextRef,u.first,u.lastRef);u.outSideRef;if("object"==p)s[t]={},e({tPt:b,fDt:o[t],location:[].concat(Object(d.a)(i),[t]),obj:s[t]});else if("array"==p){var h=[];o[t].map((function(e,a){var o=[].concat(Object(d.a)(i),[t,a]),s={value:e,ref:c.a.createRef(),location:o};if(h=[].concat(Object(d.a)(h),[s]),0==a){var m=n;l.map((function(e){m=m[e]})),m.nextRef=o}else h[a-1].nextRef=o;f&&(r=o),l=o})),s[t]=h}else if("arrayObject"==p){s[t]=[];for(var g=0;g<o[t].length;g++)s[t]=[].concat(Object(d.a)(s[t]),[{}]);o[t].map((function(a,n){e({tPt:b,fDt:a,location:[].concat(Object(d.a)(i),[t,n]),obj:s[t][n]})}))}else if("icon"==p);else{var y=[].concat(Object(d.a)(i),[t]),v={value:o[t],ref:c.a.createRef(),location:y};s[t]=v;var w=n;l.map((function(e){w=w[e]})),w.nextRef=y,f&&(r=y),l=y}}))}({tPt:t,fDt:a,location:[],obj:n});var o=n;l.map((function(e){o=o[e]})),o.nextRef=null;var i=n;return r.map((function(e){i=i[e]})),i.lastRef=!0,n},revRefAndValue:function(e){var t={};return function e(t){var a=t.tPt,n=t.rAv,c=t.obj;Object.keys(a).map((function(t,l){var r=a[t],o=r.templateType,i=r.subFormTemplate;r.ref,r.nextRef,r.first,r.lastRef,r.outSideRef;if("object"==o)c[t]={},e({tPt:i,rAv:n[t],obj:c[t]});else if("array"==o){var s=[];n[t].map((function(e){s=[].concat(Object(d.a)(s),[e.value])})),c[t]=s}else if("arrayObject"==o){c[t]=[];for(var m=0;m<n[t].length;m++)c[t]=[].concat(Object(d.a)(c[t]),[{}]);n[t].map((function(a,l){e({tPt:i,rAv:n[t][l],obj:c[t][l]})}))}else"icon"==o||(c[t]=n[t].value)}))}({tPt:e.template,rAv:e.refAndValue,obj:t}),t},findEmptyArrayInData:function e(t,a,n,c){var l=!1;Object.keys(t).map((function(c){"array"==t[c].stType&&Array.isArray(a[c])&&0==a[c].length&&(a[c]=n[c],l=!0),"arrayObject"==t[c].stType&&Array.isArray(a[c])&&(0==a[c].length?(a[c]=n[c],l=!0):t[c].stChildren&&e(t[c].stChildren,a[c],n[c]))})),l&&c(a)},convertFilterDataToGraphData:function(e){var t=e.template,a=e.filterData,n=e.inputState;if(e.totalSwapPage<3)return null;if(!a)return null;var c,l,r=Object.keys(t),o=[];t.detail&&(c=Object.keys(t.detail.stChildren),(l=c.map((function(e){return"detail_".concat(e)}))).map((function(e,t){n[e].toCheck&&(o=[].concat(Object(d.a)(o),[e]))})));var i=[],s=[];a.map((function(e){if(t.detail){var a=function(e){var a={};return r.map((function(n,c){"string"!=t[n].stType&&"date"!=t[n].stType||(e[n]?a[n]=e[n]:a[n]=""),"number"==t[n].stType&&(e[n]?a[n]=e[n]:a[n]=0)})),a}(e);s=[].concat(Object(d.a)(s),[a]);var n=Object(p.a)({},a);e.detail.map((function(e){c.map((function(a,c){var r=l[c];"string"!=t.detail.stChildren[a].stType&&"date"!=t.detail.stChildren[a].stType||(n=e[a]?Object(p.a)({},n,Object(m.a)({},r,e[a])):Object(p.a)({},n,Object(m.a)({},r,""))),"number"==t.detail.stChildren[a].stType&&(n=e[a]?Object(p.a)({},n,Object(m.a)({},r,e[a])):Object(p.a)({},n,Object(m.a)({},r,0)))})),i=[].concat(Object(d.a)(i),[n])}))}}));var u=[];return i.map((function(e){var t=!1;o.map((function(a,c){var l=e[a],r=n[a].min,o=n[a].max,i=n[a].value;r&&o?l>r&&l<o&&(t||(t=!0)):r?l>r&&(t=!0):o&&l<o&&(t=!0),i&&function(e){var t=e.pttn,a=e.str;return new RegExp(t).test(a)}({pttn:i,str:l})&&(t=!0)})),t&&(u=[].concat(Object(d.a)(u),[e]))})),{noDetail:s,wiDetail:u,allDetail:i}}},Fe=w.createTableTemplateForPage,De=w.convertTableTemplateObjToArray,Ie=re.genArrayForFilterAxios,Pe=re.genFD,Re=re.addSingleFileNameInsteadOfPhotoUrl,Ae=re.catchErrorToMessage,Me={reloadAxiosAll:function(e,t){var a=e.pageNumber,n=e.limitRow,c=e.sort,l=e.qry,r=e.dataUrl,o=e.tableTemplateUrl,i=e.tableTemplateName,s=e.detailTableTemplateName,m=e.detailTableTemplateForFormName,u=e.selectProduct;return new Promise((function(b,h){var g=f.a.post("/".concat(r,"/getlimit"),Object(p.a)({pageNumber:a,limitRow:n,sort:c},l),t),y=f.a.post("/".concat(o,"/getcustom"),{},t);Promise.all([g,y]).then((function(t){var a=Fe(t[1].data.data),n=function(e,t){var a;a=t||[];var n=[];e.map((function(e,t){var a=Object(p.a)({},e,{selectedLine:!1,_id:ie()()});n=[].concat(Object(d.a)(n),[a])}));var c=[];return n.map((function(e){var t=e;a.map((function(a){e.id==a.id&&(t=Object(p.a)({},t,{selectedLine:a.selectedLine}))})),c=[].concat(Object(d.a)(c),[t])})),c}(t[0].data.data,u),c=Object(p.a)({},e,{data0:n,count:t[0].data.count,lastRecordId:t[0].data.lastRecordId,tableTemplate:a[i],detailTableTemplate:a[s],detailTableTemplateForForm:a[m],reloadData:!1});b(c)})).catch((function(t){console.log(t);var a=Object(p.a)({},e,{reloadData:!1,message:Ae(t),showModalConfirm:!1,showModalError:!0});console.log("tempError"),h(a)}))}))},reloadAxiosTableTemplate:function(e,t){e.pageNumber,e.limitRow,e.sort,e.qry,e.dataUrl;var a=e.tableTemplateUrl,n=e.tableTemplateName,c=e.detailTableTemplateName,l=e.detailTableTemplateForFormName;e.selectProduct;return new Promise((function(r,o){f.a.post("/".concat(a,"/getcustom"),{},t).then((function(t){var a=Fe(t.data.data),o=Object(p.a)({},e,{tableTemplate:a[n],detailTableTemplate:a[c],detailTableTemplateForForm:a[l],reloadData:!1});r(o)})).catch((function(t){var a=Object(p.a)({},e,{reloadData:!1,message:Ae(t),showModalConfirm:!1,showModalError:!0});o(a)}))}))},saveTableTemplate:function(e,t,a,n){console.log("saveTableTemplate"),console.log(t),console.log(a),console.log(e);var c={};Object.keys(e).map((function(t){var a=e[t];c=Object(p.a)({},c,Object(m.a)({},t,Object(p.a)({},a,Object(m.a)({},"showColHead",!0))))}));var l={tableName:a,template:De(c)};console.log("temp"),console.log(l),f.a.post("/".concat(t,"/updatetabletemplate"),l,n).then((function(e){console.log(e)})).catch((function(e){console.log(Ae(e))}))},updateFilterData:function(e,t,a){var n=a.data0,c=a.selectProduct,l=[];n.map((function(e){l=e._id==t._id?[].concat(Object(d.a)(l),[t]):[].concat(Object(d.a)(l),[e])}));var r=[];return c.map((function(e){e._id==t._id||(r=[].concat(Object(d.a)(r),[e]))})),r=[].concat(Object(d.a)(r),[t]),{data0:l,selectProduct:r}},updateDetailOfFilterData:function(e,t,a){var n=a.detail0,c=a.selectProduct,l=[];n.map((function(e){l=e._id==t._id?[].concat(Object(d.a)(l),[t]):[].concat(Object(d.a)(l),[e])}));var r=[];return c.map((function(e){e._id==t._id||(r=[].concat(Object(d.a)(r),[e]))})),r=[].concat(Object(d.a)(r),[t]),{detail0:l,selectProduct:r}},submitFunctionEdit:function(e,t,a,n){return new Promise((function(c,l){var r=t.dataUrl,o="updatecustom";r.includes("transaction")&&(o="updatetransaction");var i=e.id,s=e.file1,m=e.photoUrl1,b=e.detail,h=Object(u.a)(e,["id","file1","photoUrl1","detail"]),g=Object(p.a)({id:i},h,{hasDetailProduct:!1}),y=null;if(b&&(y=[],b.map((function(e){e._id;var t=Object(u.a)(e,["_id"]);y=[].concat(Object(d.a)(y),[t])})),g=Object(p.a)({},g,{detail:y}),b.length>0&&b[0]&&(g=Object(p.a)({},g,{hasDetailProduct:!0}))),s){console.log("have file1------------------");var v=Re({id:i,file1:s,photoUrl1:m}),w=Pe({inputState:v,template:{id:a.id,file1:a.file1,photoUrl1:a.photoUrl1}});f.a.post("/".concat(r,"/").concat(o),w,n).then((function(e){return f.a.post("/".concat(r,"/").concat(o),g,n)})).then((function(e){var a=Object(p.a)({},t,{reloadData:!0,showEdit:!1,showAdd:!1,heightTop:95,editData:null,selectGroup:null});c(a)})).catch((function(e){var a=Object(p.a)({},t,{reloadData:!1,message:Ae(e),showModalConfirm:!1,showModalError:!0,editData:g,selectGroup:null});l(a)}))}else f.a.post("/".concat(r,"/").concat(o),Object(p.a)({},g,{photoUrl1:m}),n).then((function(e){var a=Object(p.a)({},t,{reloadData:!0,showEdit:!1,showAdd:!1,heightTop:95,editData:null});c(a)})).catch((function(e){var a=Object(p.a)({},t,{reloadData:!1,message:Ae(e),showModalConfirm:!1,showModalError:!0,editData:g});l(a)}))}))},submitFunctionAdd:function(e,t,a,n){return new Promise((function(c,l){var r=t.dataUrl,o="addcustom",i="updatecustom";r.includes("transaction")&&(o="addtransaction",i="updatetransaction");var s=e.id,m=e.file1,b=e.detail,h=e.photoUrl1,g=Object(u.a)(e,["id","file1","detail","photoUrl1"]),y=Object(p.a)({id:s},g,{hasDetailProduct:!1}),v=null;if(b&&(v=[],b.map((function(e){e._id;var t=Object(u.a)(e,["_id"]);v=[].concat(Object(d.a)(v),[t])})),y=Object(p.a)({},y,{detail:v}),b.length>0&&b[0]&&(y=Object(p.a)({},y,{hasDetailProduct:!0}))),m){var w=Re({id:s,file1:m,photoUrl1:h}),E=Pe({inputState:w,template:{id:a.id,file1:a.file1,photoUrl1:a.photoUrl1}});f.a.post("/".concat(r,"/").concat(o),y,n).then((function(e){return f.a.post("/".concat(r,"/").concat(i),E,n)})).then((function(e){var a=Object(p.a)({},t,{reloadData:!0,showEdit:!1,showAdd:!1,selectGroup:null,heightTop:95});c(a)})).catch((function(e){var a=Object(p.a)({},t,{reloadData:!1,message:Ae(e),showModalConfirm:!1,showModalError:!0,editData:y,selectGroup:null});l(a)}))}else f.a.post("/".concat(r,"/").concat(o),Object(p.a)({},y,{photoUrl1:h}),n).then((function(e){var a=Object(p.a)({},t,{reloadData:!0,showEdit:!1,showAdd:!1,heightTop:95});c(a)})).catch((function(e){var a=Object(p.a)({},t,{reloadData:!1,message:Ae(e),showModalConfirm:!1,showModalError:!0,editData:y});l(a)}))}))},filterAxios:function(e,t,a,n,c,l){console.log("filterAxios.....");var r="getlimit";return l&&(r=l),new Promise((function(l,o){var i=n.pageNumber,s=n.limitRow,m=n.sort,u=n.dataUrl,d=Ie({filterTemplate:a,inputState:t}),b=null;"and"==e&&(b={$and:d}),"or"==e&&(b={$or:d}),f.a.post("/".concat(u,"/").concat(r),Object(p.a)({pageNumber:i,limitRow:s,sort:m},b),c).then((function(e){var t=Object(p.a)({},n,{data0:e.data.data,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1,pageNumber:1,qry:b});l(t)})).catch((function(e){var t=Object(p.a)({},n,{reloadData:!1,message:Ae(e),showModalConfirm:!1,showModalError:!0,pageNumber:1,qry:b});o(t)}))}))},setUnSelectAll:function(e){var t=[];return e.data0.map((function(e){t=[].concat(Object(d.a)(t),[Object(p.a)({},e,{selectedLine:!1})])})),Object(p.a)({},e,{selectProduct:[],data0:t})},submitFunctionDelete:function(e,t){return new Promise((function(a,n){var c=e.dataUrl,l=e.selectProduct,r="deletemany";"transaction"==c&&(r="deletetransaction");var o=[];l.map((function(e){e.selectedLine&&(o=[].concat(Object(d.a)(o),[e.id]))}));var i={id:{$in:o}};f.a.post("/".concat(c,"/").concat(r),i,t).then((function(t){var n=Object(p.a)({},e,{reloadData:!0,showModalConfirm:!1,selectProduct:[]});a(n)})).catch((function(t){var a=Object(p.a)({},e,{reloadData:!1,message:Ae(t),showModalConfirm:!1,showModalError:!0});n(a)}))}))}};a(16);function Be(e){var t=e.pageData,a=(e.lb,e.setShow),n=e.submitFunction,l=c.a.useState(!1),r=Object(i.a)(l,2),o=r[0],s=r[1];c.a.useEffect((function(){o||s(!0)}),[o]);var u=c.a.createRef(),d=c.a.createRef(),b=(c.a.createRef(),c.a.createRef()),f=c.a.createRef(),h=c.a.createRef(),g=c.a.useState(!0),y=Object(i.a)(g,2),v=y[0],w=y[1],E=c.a.useState({shopName:"",password:"",newPassword1:"",newPassword2:""}),N=Object(i.a)(E,2),j=N[0],O=N[1];c.a.useEffect((function(){}),[j]);var x=function(e){return"shopName"==e||"password"==e?b:"newPassword1"==e?f:"newPassword2"==e?h:null},k=function(e){return"shopName"==e?"text":v?"password":"text"};return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",null,c.a.createElement("h5",null,t.shopChangePassword.formHead)),c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:u,onKeyDown:function(e){},onClick:function(e){n&&n(j)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:d,onKeyDown:function(e){},onClick:function(e){a(!1)}},c.a.createElement(L.a,null))))),c.a.createElement("div",{className:"Modal-body"},c.a.createElement("div",{className:"ModalInsideBody"},["shopName","password","newPassword1","newPassword2"].map((function(e,a){return c.a.createElement("div",{key:a,className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-30"},t.shopChangePassword[e]),c.a.createElement("div",{className:"w-70",style:{position:"relative"}},c.a.createElement("input",{ref:x(e),type:k(e),onChange:function(t){!function(e,t){O(Object(p.a)({},j,Object(m.a)({},t,e.target.value)))}(t,e)},onKeyDown:function(t){!function(e,t){"Enter"==e.key&&("shopName"==t&&b.current.focus(),"password"==t&&f.current.focus(),"newPassword1"==t&&h.current.focus(),"newPassword2"==t&&u.current.focus())}(t,e)},autoComplete:"password"==e||"newPassword1"==e||"newPassword2"==e?"one-time-code":null,autoFocus:"shopName"==e?"autoFocus":null}),"shopName"!=e?v?c.a.createElement(G.E,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){w(!v)}}):c.a.createElement(G.D,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){w(!v)}}):null))}))))))}Be.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var Le=Be;function Ge(e){e.pageData;var t=e.basicValueSetting,a=e.setShow,n=e.submitFunction;console.log("basicValueSetting");var l,r=c.a.createRef(),o=c.a.createRef(),s=function(e){var t=[];return e.map((function(e){t=[].concat(Object(d.a)(t),[c.a.createRef()])})),t},m=c.a.useState(0==(l=t.array).length?[""]:l),u=Object(i.a)(m,2),p=u[0],b=u[1],f=c.a.useState(s(p)),h=Object(i.a)(f,2),g=h[0],y=h[1];c.a.useEffect((function(){}),[p]);c.a.useEffect((function(){}),[p]);return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"60%",minHeight:"100px",maxWidth:"70%"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",null,c.a.createElement("h5",null,t.lb)),c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:r,onKeyDown:function(e){"ArrowRight"==e.key&&o.current.focus()},onClick:function(e){n&&(console.log(t),n(p))}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:o,onKeyDown:function(e){"ArrowLeft"==e.key&&o.current.focus()},onClick:function(e){a(!1)}},c.a.createElement(L.a,null))))),c.a.createElement("div",{className:"Modal-body"},c.a.createElement("div",{className:"ModalInsideBody"},c.a.createElement("div",{className:"w-100 flex-center-start jc-start",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-100"},p.map((function(e,t){return c.a.createElement("div",{className:"flex-center-center",key:t,style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-10"},c.a.createElement(L.u,{className:"sm-icon",onClick:function(e){!function(e){var t=[];p.map((function(a,n){t=[].concat(Object(d.a)(t),n==e?[a,""]:[a])})),y(s(t)),b(t)}(t)}})),c.a.createElement("div",{className:"w-10"},t>0?c.a.createElement(L.r,{className:"sm-icon",onClick:function(e){!function(e){var t=[];p.map((function(a,n){n==e||(t=[].concat(Object(d.a)(t),[a]))})),y(s(t)),b(t)}(t)}}):null),c.a.createElement("div",{className:"w-80"},c.a.createElement("input",{type:"text",ref:g[t],value:e,onKeyDown:function(e){"Enter"==e.key&&(t==p.length-1?r.current.focus():g[t+1].current.focus())},onChange:function(e){!function(e,t){var a=[];p.map((function(n,c){a=[].concat(Object(d.a)(a),c==t?[e.target.value]:[n])})),b(a)}(e,t)},disabled:0==t&&"admin"==e?"disabled":""})))}))))))))}Ge.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var Ue=Ge;function He(e){e.pageData;var t=e.basicValueSetting,a=e.setShow,n=e.submitFunction;console.log("basicValueSetting2...............");var l=c.a.createRef(),r=c.a.createRef(),o=function(e){var t=[];return e.map((function(a,n){var c=a.branchId+1;t=n==e.length-1||c<e[n+1].branchId?[].concat(Object(d.a)(t),[Object(p.a)({},a,{nextBranchId:c})]):[].concat(Object(d.a)(t),[Object(p.a)({},a,{nextBranchId:null})])})),t},s=c.a.useState(o(t.array)),m=Object(i.a)(s,2),u=m[0],b=m[1],f=c.a.useState({_id:null,branchId:null,branchName:"",status:null}),h=Object(i.a)(f,2),g=h[0],y=h[1];c.a.useEffect((function(){}),[g]),c.a.useEffect((function(){console.log("formInputState"),console.log(u)}),[u]);return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"60%",minHeight:"100px",maxWidth:"70%"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",null,c.a.createElement("h5",null,t.lb)),c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:l,onKeyDown:function(e){"ArrowRight"==e.key&&r.current.focus()},onClick:function(e){n&&n(u,g)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:r,onKeyDown:function(e){"ArrowLeft"==e.key&&r.current.focus()},onClick:function(e){a(!1)}},c.a.createElement(L.a,null))))),c.a.createElement("div",{className:"Modal-body"},c.a.createElement("div",{className:"ModalInsideBody"},c.a.createElement("div",{className:"w-100 flex-center-start jc-start",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-100"},u.map((function(e,t){return c.a.createElement("div",{className:"flex-center-center",key:t,style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-10"},!g._id&&e.nextBranchId?c.a.createElement(L.u,{className:"sm-icon",onClick:function(t){!function(e){var t=[];u.map((function(a,n){if(a._id==e._id){var c={_id:ie()(),branchId:e.nextBranchId,branchName:"",nextBranchId:null};t=[].concat(Object(d.a)(t),[a,c])}else t=[].concat(Object(d.a)(t),[a])}));var a=o(t);b(a)}(e)}}):null),c.a.createElement("div",{className:"w-10"},t>0&&!g._id?c.a.createElement(L.r,{className:"sm-icon",onClick:function(e){!function(e){var t=[];u.map((function(a,n){n!=e&&(t=[].concat(Object(d.a)(t),[a]))}));var a=o(t);b(a)}(t)}}):null),c.a.createElement("div",{className:"w-80",style:{display:"flex"}},c.a.createElement("div",null,"".concat(e.branchId,".")),e._id==g._id?c.a.createElement("input",{type:"text",value:g.branchName,onChange:function(e){y(Object(p.a)({},g,{branchName:e.target.value}))}}):c.a.createElement("div",{className:"w-100",onClick:function(t){!function(e,t){if(t._id){var a=[];u.map((function(e){a=e._id==t._id?[].concat(Object(d.a)(a),[t]):[].concat(Object(d.a)(a),[e])})),b(a),y({_id:null,branchId:null,branchName:"",status:null})}else y(e)}(e,g)}},e.branchName)))}))))))))}He.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var _e=He,ze={showArray:function(e){if(e&&e.length>0){var t="";return e.forEach((function(a,n){t="".concat(t," ").concat(a),n!=e.length-1&&(t="".concat(t,", "))})),t}},showObject:function(e,t){var a=Object.keys(e),n="";return a.map((function(t,c){e[t]&&("_id"==t||(n+=" ".concat(e[t]),c!=a.length-1&&(n="".concat(n,","))))})),n},showAddress:function(e){if(e){var t=e.number,a=e.building,n=e.tambon,c=e.district,l=e.province,r=e.postcode;return(t=t?"\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48 ".concat(t):"")+(a=a?" \u0e2d\u0e32\u0e04\u0e32\u0e23 ".concat(a):"")+(n=n?" \u0e15\u0e33\u0e1a\u0e25 ".concat(a):"")+(c=c?" \u0e2d\u0e33\u0e40\u0e20\u0e2d ".concat(a):"")+(l=l?" \u0e08\u0e31\u0e07\u0e2b\u0e27\u0e31\u0e14 ".concat(l):"")+(r=r?" \u0e23\u0e2b\u0e31\u0e2a\u0e44\u0e1b\u0e23\u0e29\u0e13\u0e35\u0e22\u0e4c ".concat(r):"")}}},Ke=function(e){var t=e.show,a=e.setShow,n=e.imgSrc,l=e.modalImageWidth,r=e.setModalImageWidth;return t?c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{style:{width:"90%",height:"90%",border:"solid black 1px",position:"relative",overflow:"scroll"}},c.a.createElement("img",{className:"",onClick:function(e){a(!1)},src:n,style:{width:"".concat(l,"%")}}),c.a.createElement("div",{style:{position:"fixed",top:"5px",width:"90vw"}},c.a.createElement("input",{type:"range",min:"10",max:"200",value:l,onChange:function(e){r(e.target.value)}})))):null};function qe(e){var t=e.imgarrs,a=e.width,n=c.a.useState(!1),l=Object(i.a)(n,2),r=l[0],o=l[1],s=c.a.useState(null),m=Object(i.a)(s,2),u=m[0],d=m[1],b=c.a.useState(100),f=Object(i.a)(b,2),h=f[0],g=f[1];return c.a.createElement("div",{style:{width:"100%"}},Ke({show:r,setShow:o,imgSrc:u,modalImageWidth:h,setModalImageWidth:g}),t?c.a.createElement("div",{className:"img-frame border",id:"img-id",style:Object(p.a)({},function(e){if(a){var t=a.length;return"%"==a.substring(t-1,t)||"px"==a.substring(t-2,t)||"rem"==a.substring(t-3,t)?{width:a}:{width:"".concat(a,"px")}}}(),{overflow:"auto"})},c.a.createElement("div",{className:"img-track",style:Object(p.a)({display:"flex"},function(e,t){if(e){var a=e.length;if("%"==e.substring(a-1,a)){var n=parseInt(e.substring(0,a-1));return{width:"".concat(n*t.length,"%")}}if("px"==e.substring(a-2,a)){var c=parseInt(e.substring(0,a-2));return{width:"".concat(c*t.length,"px")}}if("rem"==e.substring(a-3,a)){var l=parseInt(e.substring(0,a-3));return{width:"".concat(l*t.length,"rem")}}return{width:"".concat(e*t.length,"px")}}}(a,t))},function(e){if(e)return e.map((function(e,t){var a;if(""!==e)return e.blob?(!0,a=e.blob,e.name):(!1,a=e,e),c.a.createElement("div",{key:t,style:{height:"100%",width:"100%"}},c.a.createElement("img",{className:"img",src:a,style:{width:"100%",objectFit:"cover"},onDoubleClick:function(e){d(a),setTimeout((function(){o(!0)}),50)}}))}))}(t))):c.a.createElement("p",null,"No Photo"))}qe.defaultProps={imgarrs:[]};var We=qe;function $e(e){var t=e.i,a=e.idx,n=e.objKeys,l=e.tableTemplate,r=e.showTable,o=e.updateFilterData,s=e.basicData,u=e.findProductIdByKeyDown,d=e.findBarcodeByKeyDown,b=e.calDigit;console.log("LineForm i....");var f=c.a.useState(t),h=Object(i.a)(f,2),g=h[0],y=h[1],v=c.a.useState(!1),w=Object(i.a)(v,2),E=w[0],N=w[1];c.a.useEffect((function(){y(t)}),[t]);var j={padding:"0.3rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem",border:"0.5px solid #777"},O={display:"grid",gridTemplateColumns:"100px 200px",gridAutoRows:"1.2rem",backgroundColor:"#ccc"},x={display:"grid",gridTemplateColumns:"100px 200px",gridAutoRows:"1.2rem",backgroundColor:"white"},k=function(e){return c.a.createElement("select",{style:{height:"100%",backgroundColor:"#e6ffcc"},defaultValue:g[e],onChange:function(t){y(Object(p.a)({},g,Object(m.a)({},e,t.target.value))),o(a,Object(p.a)({},g,Object(m.a)({},e,t.target.value)))}},c.a.createElement("option",{value:"",hidden:!0},"list below..."),c.a.createElement("option",{selected:!0}," ",g[e]),function(e){return s?s[e].map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)})):null}(e))};return c.a.createElement("div",{className:"TableGrid-body",style:{display:"grid",gridTemplateColumns:r.gridCol,gridAutoRows:"minmax(2rem,auto)"}},n.map((function(e,t){return l[e].showCol?c.a.createElement("div",{key:t,style:{textAlign:"left",width:"".concat(l[e].width,"px"),display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#e6ffcc"},onClick:function(e){}},"radio"==l[e].type?function(e,t){return t?c.a.createElement(G.t,{className:"sm-icon",onClick:function(t){y(Object(p.a)({},g,{selectedLine:!1})),o(e,Object(p.a)({},g,{selectedLine:!1}))}}):c.a.createElement(G.u,{className:"sm-icon",onClick:function(t){y(Object(p.a)({},g,{selectedLine:!0})),o(e,Object(p.a)({},g,{selectedLine:!0}))}})}(a,g[e]):function(e){return"boolean"==l[e].type?c.a.createElement("div",{className:"flex-center-center",style:{height:"100%",width:"100%"}},c.a.createElement("div",{style:{height:"80%",width:"1.2rem"}},c.a.createElement("input",{type:"checkbox",checked:g[e],style:{margin:"0",padding:"0"},onChange:function(t){var a=Object(p.a)({},g,Object(m.a)({},e,t.target.checked));y(a)},onBlur:function(e){o(a,g)}}))):"price"==l[e].type?c.a.createElement("div",{className:"flex-center-center h-100 w-100",style:{position:"relative"}},E?c.a.createElement("div",{style:{backgroundColor:"white",position:"absolute",top:"2.5rem"}},c.a.createElement("div",{style:O},c.a.createElement("div",{style:j},"\u0e23\u0e32\u0e04\u0e32"),c.a.createElement("div",{style:j},"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38")),g.priceLevel.map((function(e,t){return c.a.createElement("div",{key:t,style:x,onClick:function(t){var n,c=parseInt(e.price*b)/b,l=Object(p.a)({},g,(n={},Object(m.a)(n,"price",c),Object(m.a)(n,"result",parseInt(c*g.quantity*b)/b),n));y(l),N(!1),o(a,l)}},c.a.createElement("div",{style:j},e.price),c.a.createElement("div",{style:j},e.remark))}))):null,c.a.createElement("div",{className:"w-15",style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement(L.B,{onClick:function(e){N(!E)}})),c.a.createElement("div",{className:"w-85 h-100"},c.a.createElement("input",{value:g[e],checked:g[e],style:{height:"selectedLine"==e?"50%":"100%",backgroundColor:"#e6ffcc"},type:"number",onChange:function(t){if("radio"!=l[e].type){var a,n=parseInt(t.target.value*b)/b,c=Object(p.a)({},g,(a={},Object(m.a)(a,e,n),Object(m.a)(a,"result",parseInt(n*g.quantity*b)/b),a));y(c)}},onBlur:function(e){o(a,g)}}))):"unit"==e||"jobStatus"==e||"effectSpending"==e||"effectCustomerPoint"==e||"effectStock"==e||"position"==e?k(e):"id"==e||"barcode"==e?c.a.createElement("input",{value:g[e],style:{height:"100%",backgroundColor:"#e6ffcc"},type:l[e].type,onChange:function(t){var a,n=t.target.value;a=Object(p.a)({},g,Object(m.a)({},e,n)),y(a)},onKeyDown:function(t){"id"==e&&u(t,e,g[e],a),"barcode"==e&&d(t,e,g[e],a)},onBlur:function(e){o(a,g)}}):c.a.createElement("input",{value:g[e],checked:g[e],style:{height:"selectedLine"==e?"50%":"100%",backgroundColor:"#e6ffcc"},type:l[e].type,onChange:function(t){if("radio"!=l[e].type){var a,n,c=t.target.value;if("number"==l[e].type)if("price"==e)c=parseInt(t.target.value*b)/b,a=Object(p.a)({},g,(n={},Object(m.a)(n,e,c),Object(m.a)(n,"result",parseInt(g.quantity*c*b)/b),n)),y(a);else if("quantity"==e){var r;c=parseInt(t.target.value*b)/b,a=Object(p.a)({},g,(r={},Object(m.a)(r,e,c),Object(m.a)(r,"result",parseInt(g.price*c*b)/b),r)),y(a)}else a=Object(p.a)({},g,Object(m.a)({},e,c)),y(a);else a=Object(p.a)({},g,Object(m.a)({},e,c)),y(a)}},onBlur:function(e){o(a,g)}})}(e)):null})))}$e.defaultProps={calDigit:100};var Ve=$e,Ye=(a(85),ze.showArray),Qe=ze.showObject,Xe=h.sortColumn,Je=h.numberWithCommas,Ze=function(e){var t=e.colorHead,a=e.tableTemplate,n=e.setTableTemplate,l=e.filterData,r=e.setFilterData,o=e.editData,i=e.setEditData,s=e.showTable,u=e.isSubTable,b=e.sumAmount,f=e.setShowTableSetting,h=e.saveTableTemplateFunc,g=e.updateFilterData,y=e.useInput,v=e.basicData,w=e.findProductIdByKeyDown,E=e.findBarcodeByKeyDown,N=e.showSearchHeader,j=(e.XY,e.setXY,e.captureClientXY),O=e.calDigit,x=e.editIconField,k=e.editIconFieldFunc,S=e.genObjKeysByColOrder,T=function(e){var t="black";return o&&o._id==e._id&&(t="red"),t},C=function(e,t){console.log("tableTemplateI");e.lb,e.showCol,e.showColHead;var a=e.type;e.width;return c.a.createElement("div",{className:"",style:{paddingBottom:"5px",display:"flex",alignItems:"center",justifyContent:"center",height:"1.9rem"}},"boolean"==a?c.a.createElement("div",{style:{height:"100%",width:"1.7rem",display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement("input",{type:"checkbox",onKeyDown:function(e){"Enter"==e.key&&function(e){var a=[];l.map((function(n){n[t]==e&&(a=[].concat(Object(d.a)(a),[n]))})),r(a)}(e.target.checked)}})):"radio"==a?null:c.a.createElement("input",{type:a,onKeyDown:function(e){"Enter"==e.key&&("number"==a?function(e){var a=[],n=e.toString();l.map((function(e){new RegExp(n,"gi").test(e[t])&&(a=[].concat(Object(d.a)(a),[e]))})),r(a)}(e.target.value):function(e){var a=[],n="w*"+e+"w*";l.map((function(e){new RegExp(n,"gi").test(e[t])&&(a=[].concat(Object(d.a)(a),[e]))})),r(a)}(e.target.value))}}))},F=function(e){return c.a.createElement("div",{className:"",style:{width:"300px",height:"70px",backgroundColor:"#3b5d52",borderRadius:"15px",boxShadow:"5px 5px 10px",position:"absolute",top:"80px",left:"0px",zIndex:"600"}},c.a.createElement("input",{style:{width:"100%"},type:"range",min:"10",max:"1000",value:a[e].width,onChange:function(t){!function(e,t){var c=a[e];c=Object(p.a)({},c,{width:t}),n(Object(p.a)({},a,Object(m.a)({},e,c)))}(e,t.target.value)}}),c.a.createElement("div",{style:{width:"100%",display:"flex",alignContent:"center",justifyContent:"space-around"}},c.a.createElement(G.z,{className:"md-icon",onClick:function(e){f&&f(!0)}}),c.a.createElement(G.x,{className:"md-icon",onClick:function(e){h(a)}}),u?null:c.a.createElement(G.b,{className:"md-icon",onClick:function(t){var n=Xe(l,e,a[e].type,"a-b");Array.isArray(n)&&r(n)}}),u?null:c.a.createElement(G.c,{className:"md-icon",onClick:function(t){var n=Xe(l,e,a[e].type,"b-a");Array.isArray(n)&&r(n)}}),c.a.createElement(G.i,{className:"md-icon",onClick:function(t){var c=a[e],l=a[e].showColHead;c=Object(p.a)({},c,{showColHead:!l}),n(Object(p.a)({},a,Object(m.a)({},e,c)))}})))},D=S(a);return c.a.createElement("div",{className:"w-100 h-100 overflow-hide-on-print",style:{padding:"0 0 2rem 0"}},c.a.createElement("div",{style:{width:"".concat(s.width,"px")}},c.a.createElement("div",{className:"TableGrid-head",style:{display:"grid",gridTemplateColumns:s.gridCol,gridAutoRows:"minmax(1rem,auto)",position:"sticky",top:"0",backgroundColor:t,zIndex:"10"}},D.map((function(e,t){return a[e].showCol?c.a.createElement("div",{key:t,style:{width:"".concat(a[e].width,"px"),padding:"0 0.3rem",position:"relative",display:"flex",alignItems:"center",justifyContent:"space-around"}},a[e].showColHead?null:F(e),a[e].showColHead?c.a.createElement("div",{className:"w-100"},c.a.createElement("p",{className:"tablehead-p",style:{textAlign:"center"},onClick:function(t){var c=a[e],l=a[e].showColHead;c=Object(p.a)({},c,{showColHead:!l}),n(Object(p.a)({},a,Object(m.a)({},e,c)))}},a[e].lb),N?C(a[e],e):null):c.a.createElement("div",{className:"flex-center-center flex-no-wrap"},c.a.createElement(G.i,Object(m.a)({className:"md-icon",onClick:function(t){var c=a[e],l=a[e].showColHead;c=Object(p.a)({},c,{showColHead:!l}),n(Object(p.a)({},a,Object(m.a)({},e,c)))}},"className","md-icon")))):null}))),l.map((function(e,t){var n=!1;return o&&y&&o._id==e._id&&(n=!0),n?c.a.createElement(Ve,{i:e,key:t,idx:t,objKeys:D,tableTemplate:a,showTable:s,updateFilterData:g,basicData:v,findProductIdByKeyDown:w,findBarcodeByKeyDown:E,calDigit:O}):c.a.createElement("div",{key:t,className:"TableGrid-body",style:{display:"grid",gridTemplateColumns:s.gridCol}},D.map((function(n,l){return a[n].showCol?c.a.createElement("div",{key:l,style:{display:"flex",textAlign:"left",width:"".concat(a[n].width,"px")},onClick:function(t){"radio"!=a[n].type&&(i(e,t),j(t.clientX,t.clientY))}},function(e,t,a,n,l,r){var i="black";if(o&&e._id==o._id&&(i="red"),"selectedLine"==t)return e.selectedLine?c.a.createElement("div",{className:"w-100 h-100",style:{position:"relative",zIndex:"1"}},c.a.createElement(G.t,{className:"sm-icon",style:{margin:"5px auto",width:"100%"},onClick:function(t){g(r,Object(p.a)({},e,{selectedLine:!1}))}}),c.a.createElement("p",{className:"table-p",style:{position:"absolute",top:"0"}},r+1)):c.a.createElement("div",{className:"w-100 h-100",style:{position:"relative",zIndex:"1"}},c.a.createElement(G.u,{className:"sm-icon",style:{margin:"5px auto",width:"100%"},onClick:function(t){g(r,Object(p.a)({},e,{selectedLine:!0}))}}),c.a.createElement("p",{className:"table-p",style:{position:"absolute",top:"0"}},r+1));if("array"==a)return c.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"}},Ye(e[t]));if("arrayObject"==a)return e[t].map((function(e,t){return c.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"},key:t},Qe(e,l))}));if("arrayPhoto"==a)return c.a.createElement(We,{imgarrs:e[t],width:n});if("boolean"==a)return c.a.createElement("div",{className:"flex-center-center",style:{marginTop:"0.3rem"}},e[t]?c.a.createElement(G.e,{className:"sm-icon"}):c.a.createElement(G.f,{className:"sm-icon"}));if("date"==a){var s=null;if(e[t]){var m=new Date(e[t]).toISOString();s=new Date(m).toLocaleString("en-GB").substring(0,10)}return c.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"}},s?"".concat(s):null)}if("time"==a){var u=null;if(e[t]){var d=new Date(e[t]).toISOString();u=new Date(d).toLocaleString("en-GB").substring(12,17)}return c.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"}},u?"".concat(u):null)}return"point"==t||"totalPoint"==t||"price"==a||"result"==t||"quantity"==t||"price"==t||"total"==t||"grandTotal"==t||"totalReduction"==t||"totalTax"==t?c.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"}},Je(e[t],O,t)):"number"==a?c.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"}},e[t]):"object"==a?null:c.a.createElement("p",{className:"table-p",style:{color:i,margin:"0.1rem 0"}},e[t])}(e,n,a[n].type,a[n].width,a[n].children,t),x==n&&c.a.createElement(G.k,{className:"sm-icon",style:{color:T(e)},onClick:function(t){k(e)}})):null})))})),b?c.a.createElement("div",{className:"TableGrid-body",style:{display:"grid",gridTemplateColumns:s.gridCol,backgroundColor:"#2184A0"}},D.map((function(e,t){var n=!1;return"number"==a[e].type&&(n=!e.includes("id")&&!e.includes("Id")&&"queue"!=e),a[e].showCol?c.a.createElement("div",{key:t,style:{textAlign:"left",width:"".concat(a[e].width,"px")}},n?Je(b[e],O,e):null):null}))):null))},et={changeKey:function(e){var t=e.key,a=e.value,n=e.inputState;(0,e.setInputState)(Object(p.a)({},n,Object(m.a)({},t,a)))},changeArray:function(e){var t=e.key,a=e.value,n=e.idx,c=e.inputState,l=e.setInputState,r=[];c[t].forEach((function(e,t){r=[].concat(Object(d.a)(r),t==n?[a]:[e])})),l(Object(p.a)({},c,Object(m.a)({},t,r)))},addArray:function(e){var t=e.key,a=e.inputState,n=e.setInputState,c=[].concat(Object(d.a)(a[t]),[""]);n(Object(p.a)({},a,Object(m.a)({},t,c)))},deleteArray:function(e){var t=e.key,a=e.idx,n=e.inputState,c=e.setInputState,l=[];n[t].forEach((function(e,t){t!=a&&(l=[].concat(Object(d.a)(l),[e]))})),c(Object(p.a)({},n,Object(m.a)({},t,l)))},addArrayObject:function(e){var t=e.key,a=e.newObj,n=e.inputState,c=e.setInputState,l=[].concat(Object(d.a)(n[t]),[a]);c(Object(p.a)({},n,Object(m.a)({},t,l)))},deleteArrayObject:function(e){var t=e.key,a=e.idx,n=e.inputState,c=e.setInputState,l=[];n[t].forEach((function(e,t){t!=a&&(l=[].concat(Object(d.a)(l),[e]))})),c(Object(p.a)({},n,Object(m.a)({},t,l)))},changeArrayObjectKey:function(e){var t=e.key,a=e.idx,n=e.subKey,c=e.value,l=e.inputState,r=e.setInputState,o=[];l[t].forEach((function(e,t){if(t==a){var l=Object(p.a)({},e,Object(m.a)({},n,c));o=[].concat(Object(d.a)(o),[l])}else o=[].concat(Object(d.a)(o),[e])})),r(Object(p.a)({},l,Object(m.a)({},t,o)))},changeArrayObjectArray:function(e){var t=e.key,a=e.value,n=e.idx,c=e.subKey,l=e.subIdx,r=e.inputState,o=e.setInputState,i=[];r[t].forEach((function(e,t){if(t==n){var r=[];e[c].forEach((function(e,t){r=[].concat(Object(d.a)(r),t==l?[a]:[e])}));var o=Object(p.a)({},e,Object(m.a)({},c,r));i=[].concat(Object(d.a)(i),[o])}else i=[].concat(Object(d.a)(i),[e])})),o(Object(p.a)({},r,Object(m.a)({},t,i)))},deleteArrayObjectArray:function(e){var t=e.key,a=e.idx,n=e.subKey,c=e.subIdx,l=e.inputState,r=e.setInputState,o=[];l[t].forEach((function(e,t){if(t==a){var l=[];e[n].forEach((function(e,t){t!=c&&(l=[].concat(Object(d.a)(l),[e]))}));var r=Object(p.a)({},e,Object(m.a)({},n,l));o=[].concat(Object(d.a)(o),[r])}else o=[].concat(Object(d.a)(o),[e])})),r(Object(p.a)({},l,Object(m.a)({},t,o)))},addArrayObjectArray:function(e){var t=e.key,a=e.idx,n=e.subKey,c=e.inputState,l=e.setInputState,r=[];c[t].forEach((function(e,t){if(t==a){var c=[].concat(Object(d.a)(e[n]),[""]),l=Object(p.a)({},e,Object(m.a)({},n,c));r=[].concat(Object(d.a)(r),[l])}else r=[].concat(Object(d.a)(r),[e])})),l(Object(p.a)({},c,Object(m.a)({},t,r)))},changeKeyKey:function(e){var t=e.key,a=e.subKey,n=e.value,c=e.inputState,l=e.setInputState,r=Object(p.a)({},c[t],Object(m.a)({},a,n)),o=Object(p.a)({},c,Object(m.a)({},t,r));l(Object(p.a)({},o))}},tt=et.changeKeyKey,at=function(e){var t=e.setShowTableSetting,a=e.tableTemplate,n=e.setTableTemplate,l=e.pageData,r=e.moveup,o=e.movedown,i=(0,e.genObjKeysByColOrder)(a);return console.log("objKeys............"),console.log(i),c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box"},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",null,c.a.createElement("h5",null,l.formHead))),c.a.createElement("div",{className:"w-100"},c.a.createElement("div",{className:"flex-center-baseline jc-start"},c.a.createElement("div",{className:"xc6",style:{textAlign:"center"}},c.a.createElement("div",null,l.subject)),c.a.createElement("div",{className:"xc2",style:{textAlign:"center"}},c.a.createElement("div",null,l.show))),i.map((function(e,t){return c.a.createElement("div",{className:"flex-center-baseline flex-no-wrap m-1",key:t},c.a.createElement("div",{className:"xc6"},c.a.createElement("div",null,a[e].lb)),c.a.createElement("div",{className:"xc2"},c.a.createElement("input",{type:"checkbox",checked:a[e].showCol,onChange:function(c){t>0&&tt({key:"".concat(e),subKey:"showCol",value:c.target.checked,inputState:a,setInputState:n})}})),c.a.createElement("div",{className:"xc2"},c.a.createElement("div",{className:"flex-center-center"},c.a.createElement(L.y,{className:"md-icon",style:{opacity:t>1?1:0},onClick:function(n){r(t,e,a[e])}}))),c.a.createElement("div",{className:"xc2"},c.a.createElement("div",{className:"flex-center-center"},c.a.createElement(L.v,{className:"md-icon",style:{opacity:t>0&&t<i.length-1?1:0},onClick:function(n){o(t,e,a[e])}}))))}))),c.a.createElement("div",{className:"Modal-footer"},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){t(!1)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){t(!1)}},c.a.createElement(L.a,null))))))},nt=h.tableResize;function ct(e){var t=e.colorHead,a=e.tableTemplate,n=(e.setTableTemplate,e.filterDataKey,e.filterData),l=e.setFilterData,r=e.editData,o=e.setEditData,s=e.saveTableTemplateFunc,u=e.isSubTable,b=e.updateFilterData,f=e.useInput,h=e.basicData,g=e.findProductIdByKeyDown,y=e.findBarcodeByKeyDown,v=e.showSearchHeader,w=e.calDigit,E=e.pageData,N=e.captureClientXY,j=e.editIconField,O=e.editIconFieldFunc,x=function(e){for(var t=Object.keys(e),a=[],n=function(n){t.map((function(t){e[t].colOrder==n&&(a=[].concat(Object(d.a)(a),[t]))}))},c=1;c<=t.length;c++)n(c);return a},k=c.a.useState(null),S=Object(i.a)(k,2),T=S[0],C=S[1],F=c.a.useState(!1),D=Object(i.a)(F,2),I=D[0],P=D[1],R=c.a.useState({x:0,y:0}),A=Object(i.a)(R,2),M=(A[0],A[1],c.a.useState(a)),B=Object(i.a)(M,2),L=B[0],G=B[1];c.a.useEffect((function(){}),[a]),c.a.useEffect((function(){if(n&&L){var e=Object.keys(L),t={},a=!1;e.map((function(e){L[e].showSum&&(t=Object(p.a)({},t,Object(m.a)({},e,0)),a=!0)})),n.map((function(a,c){e.map((function(e){if(L[e].showSum){var l=t[e]+parseInt(1e4*a[e]);t=c==n.length-1?Object(p.a)({},t,Object(m.a)({},e,l/1e4)):Object(p.a)({},t,Object(m.a)({},e,l))}}))})),a&&C(t)}}),[n]);var U=c.a.useState(nt({tableTemplate:x(a)})),H=Object(i.a)(U,2),_=H[0],z=H[1];c.a.useEffect((function(){}),[_]),c.a.useEffect((function(){var e=nt({tableTemplate:L});z(Object(p.a)({},_,{},e))}),[L]);return c.a.createElement("div",{className:"w-100 h-100",style:{position:"relative"}},Ze({colorHead:t,tableTemplate:L,setTableTemplate:G,filterData:n,setFilterData:l,editData:r,setEditData:o,showTable:_,setShowTable:z,sumAmount:T,setShowTableSetting:P,saveTableTemplateFunc:s,isSubTable:u,updateFilterData:b,useInput:f,basicData:h,findProductIdByKeyDown:g,findBarcodeByKeyDown:y,showSearchHeader:v,captureClientXY:N,editIconField:j,editIconFieldFunc:O,genObjKeysByColOrder:x,calDigit:w}),L&&I?at({setShowTableSetting:P,tableTemplate:L,setTableTemplate:G,pageData:E,moveup:function(e,t,a){var n=x(L),c={},l=e-1;n.map((function(n,r){if(r==l){var o=Object(m.a)({},n,Object(p.a)({},L[n],{colOrder:a.colOrder})),i=Object(m.a)({},t,Object(p.a)({},L[t],{colOrder:l}));c=Object(p.a)({},c,{},i,{},o)}else r==e||(c=Object(p.a)({},c,Object(m.a)({},n,L[n])))})),console.log("tempObj Up"),console.log(c),G(c)},movedown:function(e,t,a){var n=x(L),c={},l=e+1;n.map((function(n,r){if(r==l){var o=Object(m.a)({},n,Object(p.a)({},L[n],{colOrder:a.colOrder})),i=Object(m.a)({},t,Object(p.a)({},L[t],{colOrder:l}));c=Object(p.a)({},c,{},o,{},i)}else r==e||(c=Object(p.a)({},c,Object(m.a)({},n,L[n])))})),console.log("tempObj Up"),console.log(c),G(c)},genObjKeysByColOrder:x}):null)}ct.defaultProps={colorHead:"#4b6d62",tableTemplate:{},setTableTemplate:function(){},filterData:[],setFilterData:function(){},editData:null,setEditData:function(){},saveTableTemplateFunc:function(){},isSubTable:!1,useInput:!1,basicData:null,showSearchHeader:!1,pageData:{formHead:"Table Setting",subject:"Subject",show:"Show"},captureClientXY:function(){},editIconField:null,editIconFieldFunc:function(){}};var lt=ct;function rt(e){var t=e.pageData,a=e.basicData,n=e.setShow,l=e.submitFunction,r=e.loadData;console.log("AddUser"),console.log(t);var o=c.a.createRef(),s=c.a.createRef(),u=c.a.createRef(),d=c.a.createRef(),b=c.a.createRef(),f=c.a.createRef(),h=c.a.createRef(),g=c.a.createRef(),y=c.a.useState(!0),v=Object(i.a)(y,2),w=v[0],E=v[1],N=c.a.useState(r),j=Object(i.a)(N,2),O=j[0],x=j[1];c.a.useEffect((function(){}),[O]);var k=function(e){return"id"==e?u:"username"==e?d:"password"==e?b:"userLevel"==e?f:"name"==e?h:"surname"==e?g:null},S=function(e,t){"Enter"==e.key&&("id"==t&&d.current.focus(),"username"==t&&b.current.focus(),"password"==t&&f.current.focus(),"userLevel"==t&&h.current.focus(),"name"==t&&g.current.focus(),"surname"==t&&o.current.focus())},T=function(e,t){x(Object(p.a)({},O,Object(m.a)({},t,e.target.value)))},C=function(e){return"password"==e?w?"password":"text":"id"==e?"number":"text"};return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",null,c.a.createElement("h5",null,t.addUser.formHead)),c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:o,onKeyDown:function(e){},onClick:function(e){l&&l(O)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:s,onKeyDown:function(e){},onClick:function(e){n(!1)}},c.a.createElement(L.a,null))))),c.a.createElement("div",{className:"Modal-body"},c.a.createElement("div",{className:"ModalInsideBody"},["id","username","password","userLevel","name","surname"].map((function(e,n){return c.a.createElement("div",{key:n,className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-30"},t.addUser[e]),"userLevel"==e||"branch"==e?"branch"==e?c.a.createElement("div",{className:"w-70"},c.a.createElement("select",{ref:k(e),onChange:function(e){e.target.value.split("."),x(Object(p.a)({},O))},onKeyDown:function(t){S(t,e)}},c.a.createElement("option",{value:"",hidden:!0},"..."))):c.a.createElement("div",{className:"w-70"},c.a.createElement("select",{ref:k(e),onChange:function(t){T(t,e)},onKeyDown:function(t){S(t,e)}},c.a.createElement("option",{value:"",hidden:!0},"..."),a[e].map((function(e,t){return c.a.createElement("option",{key:t},e)})))):c.a.createElement("div",{className:"w-70",style:{position:"relative"}},c.a.createElement("input",{ref:k(e),type:C(e),onChange:function(t){T(t,e)},onKeyDown:function(t){S(t,e)},autoComplete:"password"==e?"one-time-code":null,autoFocus:"id"==e?"autoFocus":null}),"password"==e?w?c.a.createElement(G.E,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){E(!w)}}):c.a.createElement(G.D,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){E(!w)}}):null))}))))))}rt.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var ot=rt;function it(e){var t=e.pageData,a=e.basicData,n=e.setShow,l=e.submitFunction,r=e.loadData;console.log("EditUser"),console.log(t);var o=c.a.createRef(),s=c.a.createRef(),u=c.a.createRef(),d=c.a.createRef(),b=c.a.createRef(),f=c.a.createRef(),h=c.a.createRef(),g=(c.a.createRef(),c.a.useState(r)),y=Object(i.a)(g,2),v=y[0],w=y[1];c.a.useEffect((function(){console.log("formInputState"),console.log(v)}),[v]);var E=function(e){return"id"==e?u:"username"==e?d:"userLevel"==e?b:"name"==e?f:"surname"==e?h:null},N=function(e,t){"Enter"==e.key&&("id"==t&&d.current.focus(),"username"==t&&b.current.focus(),"userLevel"==t&&f.current.focus(),"name"==t&&h.current.focus(),"surname"==t&&o.current.focus())},j=function(e,t){w(Object(p.a)({},v,Object(m.a)({},t,e.target.value)))},O=function(e){return"id"==e?"number":"text"};return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",null,c.a.createElement("h5",null,t.editUser.formHead)),c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:o,onKeyDown:function(e){},onClick:function(e){l&&l(v)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:s,onKeyDown:function(e){},onClick:function(e){n(!1)}},c.a.createElement(L.a,null))))),c.a.createElement("div",{className:"Modal-body"},c.a.createElement("div",{className:"ModalInsideBody"},["id","username","userLevel","name","surname"].map((function(e,n){return c.a.createElement("div",{key:n,className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-30"},t.editUser[e]),"userLevel"==e||"branch"==e?"branch"==e?c.a.createElement("div",{className:"w-70"},c.a.createElement("select",{ref:E(e),onChange:function(e){var t=e.target.value.split(".");w(Object(p.a)({},v,{branchId:parseInt(t[0]),branchName:t[1]}))},onKeyDown:function(t){N(t,e)}},c.a.createElement("option",{value:"",hidden:!0},"..."),a.branch.map((function(e,t){var a="".concat(e.branchId,".").concat(e.branchName);return c.a.createElement("option",{key:t,selected:v.branchId+"."+v.branchName==a?"selected":""},a)})))):c.a.createElement("div",{className:"w-70"},c.a.createElement("select",{ref:E(e),onChange:function(t){j(t,e)},onKeyDown:function(t){N(t,e)}},c.a.createElement("option",{value:"",hidden:!0},"..."),a[e].map((function(t,a){return c.a.createElement("option",{key:a,selected:v[e]==t?"selected":""},t)})))):c.a.createElement("div",{className:"w-70",style:{position:"relative"}},c.a.createElement("input",{ref:E(e),type:O(e),value:v[e],onChange:function(t){j(t,e)},onKeyDown:function(t){N(t,e)},autoFocus:"id"==e?"autoFocus":null})))}))))))}it.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var st=it;function mt(e){var t=e.pageData,a=(e.basicData,e.setShow),n=e.submitFunction,l=e.loadData;console.log("ChangeUserPasswordModal");var r=c.a.createRef(),o=c.a.createRef(),s=c.a.createRef(),u=c.a.createRef(),d=c.a.useState(l),b=Object(i.a)(d,2),f=b[0],h=b[1],g=c.a.useState(!0),y=Object(i.a)(g,2),v=y[0],w=y[1];c.a.useEffect((function(){}),[f]);return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",null,c.a.createElement("h5",null,t.changeUserPassword.formHead)),c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:r,onKeyDown:function(e){},onClick:function(e){n&&n(f)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:o,onKeyDown:function(e){},onClick:function(e){a(!1)}},c.a.createElement(L.a,null))))),c.a.createElement("div",{className:"Modal-body"},c.a.createElement("div",{className:"ModalInsideBody"},["id","newPassword1"].map((function(e,a){return c.a.createElement("div",{key:a,className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-30"},t.changeUserPassword[e]),c.a.createElement("div",{className:"w-70",style:{position:"relative"}},"id"==e?c.a.createElement("input",{ref:s,type:"number",value:f[e],onKeyDown:function(e){"Enter"==e.key&&u.current.focus()},disabled:"disabled"}):c.a.createElement("input",{ref:u,type:v?"password":"text",value:f.password,onKeyDown:function(e){"Enter"==e.key&&r.current.focus()},onChange:function(e){!function(e,t){h(Object(p.a)({},f,Object(m.a)({},t,e.target.value)))}(e,"password")},autoComplete:"one-time-code",autoFocus:"autoFocus"}),"newPassword1"==e?v?c.a.createElement(G.E,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){w(!v)}}):c.a.createElement(G.D,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){w(!v)}}):null))}))))))}mt.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var ut=mt,dt=a(50),pt=a.n(dt);function bt(e){var t=e.setShow,a=e.submitFunction,n=c.a.createRef(),l=c.a.createRef(),r=c.a.useState(!1),o=Object(i.a)(r,2),s=o[0],m=o[1];return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box"},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",null,c.a.createElement(L.j,{style:{fontSize:"1.5rem",marginRight:"0.3rem"}}),c.a.createElement(L.p,{style:{fontSize:"1.2rem"}}),c.a.createElement(L.p,{style:{fontSize:"1.2rem"}}),c.a.createElement(G.j,{style:{fontSize:"2rem"}}))),c.a.createElement("div",{className:"Modal-footer"},c.a.createElement("div",null,c.a.createElement("button",{ref:n,onClick:function(e){a()},onKeyDown:function(e){"ArrowRight"==e.key&&l.current.focus()}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:l,onKeyDown:function(e){"ArrowLeft"==e.key&&n.current.focus()},onClick:function(e){t&&t(!1)}},c.a.createElement(L.a,null)))),s?pt()({show:s,setShow:m}):null))}bt.defaultProps={setShow:function(){},submitFunction:function(){}};var ft=bt,ht=function(e){e.show;var t=e.setShow,a=e.message;e.setMessage;return console.log("renderModalError"),c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box"},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",null,c.a.createElement(G.l,{style:{fontSize:"2.5rem",color:"red"}}))),c.a.createElement("div",{className:"Modal-body"},c.a.createElement("div",{className:"flex-center-center"},a?c.a.createElement("div",null,a):null)),c.a.createElement("div",{className:"Modal-footer"},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){t(!1)}},c.a.createElement(L.a,null))))))},gt=re.catchErrorToMessage,yt=Me.saveTableTemplate;function vt(e){var t=e.pageData,a=e.basicData,n=e.tableTemplate,l=e.myheader,r=e.setShow,o=(e.submitFunction,c.a.useState({data0:null,count:0,lastRecordId:null,reloadData:!0})),s=Object(i.a)(o,2),u=s[0],d=s[1],b=c.a.useState(n.userListTableTemplate),h=Object(i.a)(b,2),g=h[0],y=h[1],v=c.a.useState(null),w=Object(i.a)(v,2),E=w[0],N=w[1],j=c.a.useState(!1),O=Object(i.a)(j,2),x=O[0],k=O[1],S=c.a.useState(!1),T=Object(i.a)(S,2),C=T[0],F=T[1],D=c.a.useState(!1),I=Object(i.a)(D,2),P=I[0],R=I[1],A=c.a.useState(!1),M=Object(i.a)(A,2),B=M[0],L=M[1],U=c.a.useState({showModalError:!1,message:""}),H=Object(i.a)(U,2),_=H[0],z=H[1];c.a.useEffect((function(){}),[u]),c.a.useEffect((function(){u.reloadData&&f.a.post("/p35user/getuser",{sort:{id:1}},l).then((function(e){console.log("result.data.data....."),console.log(e.data.data);var t=Object(p.a)({},u,{data0:e.data.data,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});d(t)})).catch((function(e){var t=Object(p.a)({},u,{reloadData:!1,message:gt(e),showModalConfirm:!1,showModalError:!0});d(t)}))}),[u]);var K={position:"fixed",top:"3rem",right:"0.5rem",zIndex:"100",width:"",backgroundColor:"white",borderRadius:"10px",margin:""},q={position:"fixed",top:"3rem",Left:"0.5rem",zIndex:"100",width:"",backgroundColor:"white",borderRadius:"10px",margin:""},$=c.a.useState(!0),V=Object(i.a)($,2),Y=V[0],Q=V[1];return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("h5",null,t.user.formHead)),c.a.createElement("div",{className:"Modal-body"},u.data0&&c.a.createElement(lt,{tableTemplate:g,setTableTemplate:y,filterData:u.data0,setFilterData:function(){},editData:E,setEditData:N,saveTableTemplateFunc:function(e){var t={};Object.keys(e).map((function(a){var n=Object(p.a)({},e[a],{showColHead:!0});t=Object(p.a)({},t,Object(m.a)({},a,n))})),y(t),yt(e,"p35tabletemplate","userListTableTemplate",l)},isSubTable:!1,updateFilterData:function(){},useInput:!1,basicData:a,pageData:t.tableSettingModal})),c.a.createElement("div",{className:"",style:{display:"flex",justifyContent:"flex-end"}},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){N(null),r(!1)}},c.a.createElement(G.i,null)))),E&&c.a.createElement("div",{style:Y?K:q},c.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){L(!0)}},c.a.createElement(W,{iconName:"MdDelete",className:"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){k(!0)}},c.a.createElement(W,{iconName:"MdAddCircle",className:"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){F(!0)}},c.a.createElement(W,{iconName:"MdEdit",className:"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){R(!0)}},c.a.createElement(W,{iconName:"MdPassword",className:"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){Q(!Y)}},c.a.createElement(W,{iconName:"MdSwapHoriz",className:"xl-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){N(null),r(!1)}},c.a.createElement(W,{iconName:"MdClose",className:"md-icon",textStyle:{color:"black"}}))),C&&c.a.createElement(st,{pageData:t,basicData:a,setShow:F,submitFunction:function(e){f.a.post("/p35user/updateuser",e,l).then((function(e){console.log("result....."),console.log(e);var t=Object(p.a)({},u,{reloadData:!0});d(t),F(!1)})).catch((function(e){var t=Object(p.a)({},u,{reloadData:!1,message:gt(e),showModalConfirm:!1,showModalError:!0});d(t)}))},loadData:E}),P&&c.a.createElement(ut,{pageData:t,basicData:a,setShow:R,submitFunction:function(e){var t=e.id,a=e.password;f.a.post("/p35user/changeuserpassword",{id:t,password:a},l).then((function(e){var t=Object(p.a)({},u,{reloadData:!0});d(t),R(!1)})).catch((function(e){Object(p.a)({},u,{reloadData:!1,message:gt(e),showModalConfirm:!1,showModalError:!0})}))},loadData:E}),x&&c.a.createElement(ot,{pageData:t,basicData:a,setShow:k,submitFunction:function(e){f.a.post("/p35user/adduser",e,l).then((function(e){console.log("result....."),console.log(e);var t=Object(p.a)({},u,{reloadData:!0});d(t),k(!1)})).catch((function(e){var t=Object(p.a)({},u,{reloadData:!1,message:gt(e),showModalConfirm:!1,showModalError:!0});d(t)}))},loadData:{id:"",username:"",password:"",active:!0,userLevel:"staff",name:"",surname:""}})),B&&c.a.createElement(ft,{setShow:L,submitFunction:function(){1==E.id?z({showModalError:!0,message:"Do not delete ID=1"}):f.a.post("/p35user/deleteuser",{id:E.id},l).then((function(e){var t=Object(p.a)({},u,{reloadData:!0});d(t),L(!1)})).catch((function(e){Object(p.a)({},u,{reloadData:!1,message:gt(e),showModalConfirm:!1,showModalError:!0})}))}}),_.showModalError&&ht({show:_.showModalError,setShow:function(e){z({showModalError:e,message:""})},message:_.message,setMessage:function(){}}))}vt.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var wt=vt;function Et(e){var t=e.pageData,a=e.basicData,n=e.basicDataTableTemplate,l=(e.lb,e.setShow),r=e.submitFunction,o=c.a.useState(!1),s=Object(i.a)(o,2),m=s[0],u=s[1];c.a.useEffect((function(){m||u(!0)}),[m]);var b=c.a.createRef(),f=c.a.createRef(),h=c.a.useState(a.routeAuth),g=Object(i.a)(h,2),y=g[0],v=g[1],w=c.a.useState(n),E=Object(i.a)(w,2),N=E[0],j=E[1],O=c.a.useState(null),x=Object(i.a)(O,2),k=x[0],S=x[1],T=c.a.useState(!1),C=Object(i.a)(T,2),F=C[0],D=C[1];c.a.useEffect((function(){}),[y]);var I=function(){},P=function(e){j(e)},R=function(e){var t=[];k.userLevel.map((function(a,n){t=[].concat(Object(d.a)(t),n==e?[a,""]:[a])})),S(Object(p.a)({},k,{userLevel:t}))},A=function(e){var t=[];k.userLevel.map((function(a,n){n==e||(t=[].concat(Object(d.a)(t),[a]))})),S(Object(p.a)({},k,{userLevel:t}))},M=function(e,t){var a=[];k.userLevel.map((function(n,c){a=[].concat(Object(d.a)(a),c==t?[e.target.value]:[n])})),S(Object(p.a)({},k,{userLevel:a}))},B=function(){var e=[];y.map((function(t){k._id==t._id?(console.log("_id"),e=[].concat(Object(d.a)(e),[k])):e=[].concat(Object(d.a)(e),[t])})),v(e),D(!1)},U=function(e){var t=e.id,n=(e.routeAddress,e.routeName,e.userLevel);return c.a.createElement("div",{className:"w-100 flex-center-start jc-start",style:{margin:"0.2rem 0"}},c.a.createElement("div",{className:"w-10"},"".concat(t,".")),c.a.createElement("div",{className:"w-90"},n.map((function(e,t){return c.a.createElement("div",{key:t,className:"flex-center-center",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-10"},c.a.createElement(L.u,{className:"sm-icon",onClick:function(e){R(t)}})),c.a.createElement("div",{className:"w-10"},t>0?c.a.createElement(L.r,{className:"sm-icon",onClick:function(e){A(t)}}):null),c.a.createElement("div",{className:"w-80"},0==t?c.a.createElement("input",{value:e,onChange:function(e){},disabled:"disabled"}):c.a.createElement("select",{style:{height:"100%"},onChange:function(e){M(e,t)}},c.a.createElement("option",null,"...."),function(e,t){return t?t.map((function(t,a){return c.a.createElement("option",{key:a,selected:e==t?"selected":""},t)})):null}(e,a.userLevel))))}))),c.a.createElement("div",{className:"w-100",style:{display:"flex",justifyContent:"flex-end"}},c.a.createElement("button",{onClick:function(e){return B()}},c.a.createElement(L.f,null)),c.a.createElement("button",{onClick:function(e){return D(!1)}},c.a.createElement(G.i,null))))};return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",{className:"flex-center-center"},c.a.createElement("h5",null,t.setting.routeAuth)),!F&&c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:b,onKeyDown:function(e){"ArrowRight"==e.key&&f.current.focus()},onClick:function(e){r&&r(y)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:f,onKeyDown:function(e){"ArrowLeft"==e.key&&f.current.focus()},onClick:function(e){l(!1)}},c.a.createElement(L.a,null))))),c.a.createElement("div",{className:"Modal-body"},c.a.createElement("div",{className:"ModalInsideBody"},c.a.createElement("div",{className:"w-100 h-100"},c.a.createElement("div",{className:"h-100",style:{paddingBottom:"2rem"}},c.a.createElement(lt,{tableTemplate:N,setTableTemplate:P,setFilterData:v,filterData:y,editData:k,setEditData:S,saveTableTemplateFunc:I,pageData:t.tableSettingModal,editIconField:"userLevel",editIconFieldFunc:function(){return D(!0)}})))))),F&&k?c.a.createElement("div",{className:"",style:{position:"fixed",top:"0",left:"0",height:"100vh",width:"100vw",opacity:"1",display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("div",{className:"w-50 bgc-darkGray",style:{padding:"0.3rem",borderRadius:"5px",backgroundColor:"#5b7d72"}},U(k))):null)}Et.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var Nt=Et,jt={selectedLine:{lb:"_",type:"radio",width:40,showCol:!0,showColHead:!0},id:{lb:"ID",type:"number",width:65,showCol:!0,showColHead:!0},barcode:{lb:"\u0e1a\u0e32\u0e23\u0e4c\u0e42\u0e04\u0e14",type:"string",width:65,showCol:!0,showColHead:!0},name:{lb:"\u0e0a\u0e37\u0e48\u0e2d",type:"string",width:100,showCol:!0,showColHead:!0},groupId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e01\u0e25\u0e38\u0e48\u0e21",type:"number",width:40,showCol:!0,showColHead:!0},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e01\u0e25\u0e38\u0e48\u0e21",type:"string",width:60,showCol:!0,showColHead:!0},unit:{lb:"\u0e2b\u0e19\u0e48\u0e27\u0e22",type:"string",width:40,showCol:!0,showColHead:!0},price:{lb:"\u0e23\u0e32\u0e04\u0e32",type:"number",width:60,showCol:!0,showColHead:!0}},Ot=Object(p.a)({},jt,{stock:{lb:"\u0e22\u0e2d\u0e14\u0e2a\u0e15\u0e47\u0e2d\u0e04",type:"number",width:60,showCol:!0,showColHead:!0},order:{lb:"\u0e22\u0e2d\u0e14\u0e08\u0e2d\u0e07",type:"number",width:60,showCol:!0,showColHead:!0},plan:{lb:"\u0e22\u0e2d\u0e14\u0e41\u0e1c\u0e19",type:"number",width:60,showCol:!0,showColHead:!0},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",type:"string",width:200,showCol:!0,showColHead:!0},photoUrl1:{lb:"\u0e23\u0e39\u0e1b",type:"arrayPhoto",width:200,showCol:!0,showColHead:!0}}),xt={id:{lb:"ID",type:"number",width:40,showCol:!0,showColHead:!0},date:{lb:"\u0e27\u0e31\u0e19\u0e17\u0e35\u0e48",type:"date",width:90,showCol:!0,showColHead:!0},groupId:{lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23",type:"number",width:50,showCol:!0,showColHead:!0},groupName:{lb:"\u0e0a\u0e37\u0e48\u0e2d\u0e40\u0e2d\u0e01\u0e2a\u0e32\u0e23",type:"string",width:80,showCol:!0,showColHead:!0},partnerId:{lb:"\u0e44\u0e2d\u0e14\u0e35\u0e04\u0e39\u0e48\u0e04\u0e49\u0e32",type:"number",width:60,showCol:!0,showColHead:!0},title:{lb:"\u0e04\u0e33\u0e19\u0e33\u0e2b\u0e19\u0e49\u0e32",type:"string",width:60,showCol:!0,showColHead:!0},name:{lb:"\u0e0a\u0e37\u0e48\u0e2d",type:"string",width:100,showCol:!0,showColHead:!0}},kt=Object(p.a)({},xt,{total:{lb:"\u0e23\u0e27\u0e21",type:"number",width:70,showCol:!0,showColHead:!0,showSum:!0},reduction:{lb:"\u0e2a\u0e48\u0e27\u0e19\u0e25\u0e14",type:"number",width:70,showCol:!0,showColHead:!0,showSum:!0},grandTotal:{lb:"\u0e2a\u0e38\u0e17\u0e18\u0e34",type:"number",width:80,showCol:!0,showColHead:!0,showSum:!0},phone:{lb:"\u0e42\u0e17\u0e23\u0e28\u0e31\u0e1e\u0e17\u0e4c",type:"array",width:110,showCol:!0,showColHead:!0},address:{lb:"\u0e17\u0e35\u0e48\u0e2d\u0e22\u0e39\u0e48",type:"arrayObject",width:200,showCol:!0,showColHead:!0,children:{number:{lb:"\u0e40\u0e25\u0e02\u0e17\u0e35\u0e48"},tambon:{lb:"\u0e15\u0e33\u0e1a\u0e25"},district:{lb:"\u0e2d\u0e33\u0e40\u0e20\u0e2d"},province:{lb:"\u0e08\u0e31\u0e07\u0e2b\u0e27\u0e31\u0e14"},postcode:{lb:"\u0e23\u0e2b\u0e31\u0e2a\u0e44\u0e1b\u0e23\u0e29\u0e13\u0e35\u0e22\u0e4c"}}},remark:{lb:"\u0e2b\u0e21\u0e32\u0e22\u0e40\u0e2b\u0e15\u0e38",type:"string",width:200,showCol:!0,showColHead:!0},photoUrl1:{lb:"\u0e23\u0e39\u0e1b",type:"arrayPhoto",width:200,showCol:!0,showColHead:!0}}),St=Object(p.a)({status:{lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30",type:"string",width:60,showCol:!0,showColHead:!0}},kt);Object(p.a)({},St),Object(p.a)({status:{lb:"\u0e2a\u0e16\u0e32\u0e19\u0e30",type:"string",width:60,showCol:!0,showColHead:!0}},xt,{total:{lb:"\u0e23\u0e27\u0e21",type:"number",width:70,showCol:!0,showColHead:!0,showSum:!0},reduction:{lb:"\u0e2a\u0e48\u0e27\u0e19\u0e25\u0e14",type:"number",width:70,showCol:!0,showColHead:!0,showSum:!0},grandTotal:{lb:"\u0e2a\u0e38\u0e17\u0e18\u0e34",type:"number",width:80,showCol:!0,showColHead:!0,showSum:!0}}),Object(p.a)({detail_id:jt.id,detail_barcode:jt.barcode,detail_name:jt.name,detail_groupId:jt.groupId,detail_groupName:jt.groupName,detail_unit:jt.unit,detail_price:jt.price,detail_quantity:{lb:"\u0e08\u0e33\u0e19\u0e27\u0e19",type:"number",width:60,showCol:!0,showColHead:!0,showSum:!0},detail_result:{lb:"\u0e23\u0e27\u0e21",type:"number",width:90,showCol:!0,showColHead:!0,showSum:!0}},xt);function Tt(e){var t=e.pageData,a=(e.pageDataStandard,e.basicData,e.lb,e.setShow),n=e.submitFunction,l=e.submitFunction2,r=(e.myheader,e.languageObj),o=e.addLanguage,s=e.deleteLanguage,u=c.a.createRef(),b=c.a.createRef(),f=c.a.useState(function(e){var t=Object.keys(e),a=[],n=[];t.map((function(t){n=[].concat(Object(d.a)(n),[parseInt(e[t].thisId)]);var c=[];Object.keys(e[t]).map((function(a){if("thisId"!=a){var n={key:a,lb:e[t][a]};c=[].concat(Object(d.a)(c),[n])}}));var l={id:parseInt(e[t].thisId),formLanguage:t,template:e[t]};a=[].concat(Object(d.a)(a),[l])}));var c=n.sort(),l=[];return c.map((function(e){a.map((function(t){e==t.id&&(l=[].concat(Object(d.a)(l),[t]))}))})),l}(r)),h=Object(i.a)(f,2),g=h[0],y=h[1],v=c.a.useState(function(e){var t=[];return e.map((function(e){t=[].concat(Object(d.a)(t),[c.a.createRef()])})),t}(g)),w=Object(i.a)(v,2),E=w[0],N=(w[1],c.a.useState(null)),j=Object(i.a)(N,2),O=j[0],x=j[1],k=c.a.useState([]),S=Object(i.a)(k,2),T=S[0],C=S[1],F=c.a.useState({key:null,lb:""}),D=Object(i.a)(F,2),I=D[0],P=D[1];c.a.useEffect((function(){}),[g]),c.a.useEffect((function(){}),[I]);return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",{className:"flex-center-center"},c.a.createElement("h5",null,t.setting.language))),c.a.createElement("div",{className:"Modal-body"},c.a.createElement("div",{className:"ModalInsideBody"},O?null:c.a.createElement("div",{className:"w-100 flex-center-start jc-start",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-100"},g.map((function(e,t){return c.a.createElement("div",{className:"flex-center-center",style:{marginBottom:"0.2rem"},key:t},t>0?c.a.createElement("div",{className:"w-10"},c.a.createElement(L.r,{className:"sm-icon",onClick:function(t){s(e.id)}})):c.a.createElement("div",{className:"w-10"},c.a.createElement(L.u,{className:"sm-icon",onClick:function(e){o(g)}})),c.a.createElement("div",{className:"w-70"},c.a.createElement("input",{type:"text",value:e.formLanguage,ref:E[t],onKeyDown:function(e){"Enter"==e.key&&(t==g.length-1?u.current.focus():E[t+1].current.focus())},onChange:function(e){!function(e,t){var a=null,n=[];g.map((function(c,l){if(t==l){var r=Object(p.a)({},c,{formLanguage:e.target.value});n=[].concat(Object(d.a)(n),[r]),a=c.id}else n=[].concat(Object(d.a)(n),[c])}));var c=[].concat(Object(d.a)(T),[a]);C(Object(d.a)(new Set(c))),y(n)}(e,t)}})),c.a.createElement("div",{className:"w-10"},c.a.createElement(G.k,{className:"sm-icon",onClick:function(t){x(e)}})))}))),c.a.createElement("div",{style:{display:"flex",width:"100%",marginTop:"2rem"}},c.a.createElement("div",{className:"xc9"}),c.a.createElement("div",{className:"xc3",style:{display:"flex"}},c.a.createElement("div",null,c.a.createElement("button",{ref:u,onKeyDown:function(e){},onClick:function(e){n&&n(g,T)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:b,onKeyDown:function(e){},onClick:function(e){a(!1)}},c.a.createElement(L.a,null)))))))),O&&Object.keys(g[0].template).map((function(e,t){if("thisId"!=e)return c.a.createElement("div",{key:t,className:"w-80",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{key:t,className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-30"},g[0].template[e]),I.key==e?c.a.createElement("div",{className:"w-70",style:{position:"relative",display:"flex"}},c.a.createElement("input",{type:"text",value:I.lb,onKeyDown:function(e){"Enter"==e.key&&u.current.focus()},onChange:function(e){P({key:I.key,lb:e.target.value})},onBlur:function(e){x(Object(p.a)({},O,{template:Object(p.a)({},O.template,Object(m.a)({},I.key,I.lb))}))}})):c.a.createElement("div",{className:"w-70",style:{position:"relative",display:"flex"},onClick:function(t){P({key:e,lb:O.template[e]})}},c.a.createElement("div",null,O.template[e]))))})),O&&c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:u,onKeyDown:function(e){},onClick:function(e){n&&l(O)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:b,onKeyDown:function(e){},onClick:function(e){a(!1)}},c.a.createElement(L.a,null))))))}Tt.defaultProps={lb:"Form",setShow:function(){},submitFunction:null};var Ct=Tt;var Ft=function(e){var t=e.printPageEditData,a=e.tableTemplate,n=e.pageData,l=e.setShow,r=e.confirmFunc2,o=e.saveTableTemplateFunc;console.log("PrintPageForm");var s=function(e,t){var a=e.toString(),n=Array.from(a).length-1;return t.toFixed(n)},u={id:1,date:(new Date).toISOString(),dateOut:(new Date).toISOString(),branch:"main",transactionType:"\u0e1a\u0e34\u0e25\u0e02\u0e32\u0e22",transactionStatus:"open",active:!0,table:"A1",tableStatus:"open",paymentType:"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14",effectStock:"unChange",effectSpending:"unChange",effectCustomerPoint:"unChange",partnerId:1,partnerType:"\u0e1c\u0e39\u0e49\u0e0b\u0e37\u0e49\u0e2d",title:"\u0e19\u0e32\u0e22",name:"\u0e08\u0e34\u0e15\u0e15\u0e34",phone:["0924424349 ","0459213311"],address:"12 \u0e15.\u0e17\u0e48\u0e32\u0e02\u0e49\u0e32\u0e21 \u0e2d.\u0e19\u0e04\u0e23\u0e04\u0e35\u0e23\u0e35 \u0e08.\u0e21\u0e2b\u0e32\u0e2a\u0e32\u0e23\u0e04\u0e32\u0e21 70183",remark:"\u0e02\u0e2d\u0e07\u0e41\u0e17\u0e49",total:100,totalReduction:10,reduction:[{reductionName:"vat",reductionActive:!0,reductionRate:7,reductionInPercentage:!0,reductionAmount:100},{reductionName:"vat",reductionActive:!0,reductionRate:70,reductionInPercentage:!1,reductionAmount:70}],grandTotal:280,totalTax:300,tax:[{taxName:"vat",taxActive:!0,taxRate:7,taxInPercentage:!0,taxAmount:100},{taxName:"viso",taxActive:!0,taxRate:10,taxInPercentage:!0,taxAmount:200}],totalPoint:2,customerPointReduction:2,shopId:"shopa",userId:"1",detail:[{id:1,barcode:"1",productName:"\u0e2a\u0e32\u0e22\u0e1e\u0e32\u0e19",groupId:1,groupName:"main",unit:"\u0e40\u0e2a\u0e49\u0e19",price:100,priceLevel:[{price:100,remark:"\u0e17\u0e38\u0e19"}],quantity:1,result:100,remark:"ok",isRawMat:!1,point:1,jobStatus:"open"},{id:2,barcode:"2",productName:"\u0e19\u0e49\u0e33\u0e1e\u0e23\u0e34\u0e01",groupId:1,groupName:"main",unit:"\u0e16\u0e38\u0e07",price:50,priceLevel:[{price:50,remark:"\u0e17\u0e38\u0e19"}],quantity:1,result:50,remark:"ok",isRawMat:!1,point:1,jobStatus:"open"}]},b=c.a.useState(null),f=Object(i.a)(b,2),h=f[0],g=f[1],y=c.a.useState(!1),v=Object(i.a)(y,2),w=(v[0],v[1],function(e,t){console.log("setEditDataFunc"),g(e)}),E=function(e){console.log("setPageSetupFunc"),console.log(e)},N=function(e,t){var a=Object(p.a)({},k);["header1","header2","table1","footer1","footer2"].map((function(e){var n=[];k[e].map((function(e,a){n=e._id==t._id?t.printFieldName&&t.printValue?[].concat(Object(d.a)(n),[e]):[].concat(Object(d.a)(n),[t]):[].concat(Object(d.a)(n),[e])})),a=Object(p.a)({},a,Object(m.a)({},e,n))})),S(a)},j={widthUnit:["cm","%","mm"],fontUnit:["em","rem","px"]},O=c.a.useState(function(e){e.header1,e.header2,e.table1,e.footer1,e.footer2;var t=Object(p.a)({},e);return["header1","header2","table1","footer1","footer2"].map((function(a){var n=[];e[a].map((function(e){var t=Object(p.a)({},e,{selectedLine:!1,_id:ie()()});n=[].concat(Object(d.a)(n),[t])})),t=Object(p.a)({},t,Object(m.a)({},a,n))})),t}(t)),x=Object(i.a)(O,2),k=x[0],S=x[1];c.a.useEffect((function(){console.log("pageSetup"),console.log(k)}),[k]);var T=k.widthUnit,C=k.fontUnit,F=k.totalWidth,D=k.showTableHead,I=k.header1,P=k.header2,R=k.table1,A=k.footer1,M=k.footer2,B=c.a.useState(!0),U=Object(i.a)(B,2),H=U[0],_=U[1],z=c.a.useState(a.printTableTemplate),K=Object(i.a)(z,2),q=K[0],W=K[1],$={position:"fixed",top:"3rem",right:"0.5rem",zIndex:"100",width:"3rem",backgroundColor:"white",borderRadius:"10px",margin:"1rem"},V={position:"fixed",top:"3rem",Left:"0.5rem",zIndex:"100",width:"3rem",backgroundColor:"white",borderRadius:"10px",margin:"1rem"},Y=function(e){return e.map((function(e,t){return e.show?c.a.createElement("div",{key:t,style:{width:"".concat(e.printWidth).concat(T)}},c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(C),textAlign:e.printPosition}},"".concat(e.printLb).concat(e.printValue))):null}))},Q=function(e,t){return e.map((function(e,a){if(e.show)return"tax"==e.printFieldName||"reduction"==e.printFieldName?(console.log(e.printFieldName),t[e.printFieldName].map((function(t,n){return c.a.createElement("div",{key:"".concat(a,"-").concat(n),style:{width:"".concat(e.printWidth).concat(T)}},c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(C),textAlign:e.printPosition}},""==e.printLb?s(100,t["".concat(e.printFieldName,"Amount")]):c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(C)}},"".concat(e.printLb,"  ").concat(t["".concat(e.printFieldName,"Name")])),c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(C)}},s(100,t["".concat(e.printFieldName,"Amount")])))))}))):c.a.createElement("div",{key:a,style:{width:"".concat(e.printWidth).concat(T)}},c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(C),textAlign:e.printPosition}},e.printFieldName?"totalTax"==e.printFieldName||"totalReduction"==e.printFieldName||"total"==e.printFieldName||"grandTotal"==e.printFieldName?"".concat(e.printLb).concat(s(100,t[e.printFieldName])):"".concat(e.printLb).concat(t[e.printFieldName]):"".concat(e.printLb).concat(e.printValue)))}))};return c.a.createElement("div",{style:{width:"100%"}},c.a.createElement("div",{className:"bd-green",style:{margin:"0",width:"".concat(F).concat(T),display:"flex",flexWrap:"wrap"}},Y(I),Q(P,u),D&&R.map((function(e,t){return c.a.createElement("div",{key:t,style:{width:"".concat(e.printWidth).concat(T)}},c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(C),textAlign:e.printPosition}},"".concat(e.printLb)))})),function(e,t){return t.map((function(t,a){return e.map((function(e,n){return c.a.createElement("div",{key:"".concat(a,"-").concat(n),style:{width:"".concat(e.printWidth).concat(T)}},c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(C),textAlign:e.printPosition}},"result"==e.printFieldName?s(100,t[e.printFieldName]):"".concat(t[e.printFieldName])))}))}))}(R,u.detail),Q(A,u),Y(M)),c.a.createElement("div",{className:"w-100 hide-on-print"},Object.keys(k).map((function(e,t){return"widthUnit"==e||"fontUnit"==e?c.a.createElement("div",{key:t,className:"flex-center-center jc-start w-50",style:{padding:"0.3rem",display:"flex",justifyContent:"flex-start",alignItems:"center"}},c.a.createElement("div",{className:"xc4"},n.printForm[e]),c.a.createElement("select",{className:"xc8"},j[e].map((function(t,a){return c.a.createElement("option",{key:a,selected:t==k[e]?"selected":""},t)})))):"totalWidth"==e?c.a.createElement("div",{key:t,className:"flex-center-center jc-start w-50",style:{padding:"0.3rem",display:"flex",justifyContent:"flex-start",alignItems:"center"}},c.a.createElement("div",{className:"xc4"},n.printForm[e]),c.a.createElement("input",{className:"xc8",value:k[e],type:"number",onChange:function(t){return S(Object(p.a)({},k,Object(m.a)({},e,t.target.value)))}})):"showTableHead"==e?c.a.createElement("div",{key:t,className:"flex-center-center jc-start w-50",style:{padding:"0.3rem",display:"flex",justifyContent:"flex-start",alignItems:"center"}},c.a.createElement("div",{className:"xc4"},n.printForm[e]),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{type:"checkbox",style:{height:"1.4rem",padding:"0",margin:"0"},checked:k[e],onChange:function(t){return S(Object(p.a)({},k,Object(m.a)({},e,t.target.checked)))}}))):"header1"==e||"header2"==e||"table1"==e||"footer1"==e||"footer2"==e?c.a.createElement("div",{key:t,className:"w-100"},c.a.createElement("div",{className:"w-100",style:{padding:"0.3rem",display:"flex",justifyContent:"flex-start",alignItems:"center"}},n.printForm[e]),q&&c.a.createElement(lt,{tableTemplate:q,setTableTemplate:W,filterData:k[e],setFilterData:E,editData:h,setEditData:w,saveTableTemplateFunc:o,isSubTable:!1,updateFilterData:N,useInput:!0,pageData:n.tableSettingModal})):void 0}))),c.a.createElement("div",{className:"w-100 hide-on-print"},h&&c.a.createElement("div",{className:"",style:H?$:V},c.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},c.a.createElement(G.j,{className:"lg-icon",onClick:function(e){!function(){if(h){var e=Object(p.a)({},k);["header1","header2","table1","footer1","footer2"].map((function(t){var a=[];k[t].map((function(e){e._id!=h._id&&(a=[].concat(Object(d.a)(a),[e]))})),e=Object(p.a)({},e,Object(m.a)({},t,a))})),S(e)}}()}})),c.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},c.a.createElement(L.t,{className:"lg-icon",onClick:function(e){!function(){if(h){var e={printLb:"",printValue:"",printFieldName:null,printFontSize:"1",printWidth:"50",printPosition:"center",_id:ie()(),selectedLine:!1},t=Object(p.a)({},k);["header1","header2","table1","footer1","footer2"].map((function(a){var n=[];k[a].map((function(t){n=t._id==h._id?[].concat(Object(d.a)(n),[e,t]):[].concat(Object(d.a)(n),[t])})),t=Object(p.a)({},t,Object(m.a)({},a,n))})),S(t)}}()}})),c.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},c.a.createElement(L.y,{className:"lg-icon",onClick:function(e){!function(){if(h){var e=Object(p.a)({},k);["header1","header2","table1","footer1","footer2"].map((function(t){var a=[],n=null;k[t].map((function(e,t){e._id==h._id&&(n=t)})),(n||n>0)&&(k[t].map((function(e,c){a=[].concat(Object(d.a)(a),c==n-1?[k[t][n]]:c==n?[k[t][n-1]]:[e])})),e=Object(p.a)({},e,Object(m.a)({},t,a)))})),S(e)}}()}})),c.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},c.a.createElement(L.v,{className:"lg-icon",onClick:function(e){!function(){if(h){var e=Object(p.a)({},k);["header1","header2","table1","footer1","footer2"].map((function(t){var a=[],n=null,c=k[t].length-1;k[t].map((function(e,t){e._id==h._id&&(n=t)})),null!=n&&n<c&&(k[t].map((function(e,c){a=[].concat(Object(d.a)(a),c==n?[k[t][n+1]]:c==n+1?[k[t][n]]:[e])})),e=Object(p.a)({},e,Object(m.a)({},t,a)))})),S(e)}}()}})),c.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},c.a.createElement(G.B,{className:"xl-icon",onClick:function(e){_(!H)}})),c.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},c.a.createElement(G.s,{className:"xl-icon",onClick:function(e){window.print()}})),c.a.createElement("div",{className:"flex-center-center",style:{margin:"0.5rem 0"}},c.a.createElement(G.i,{className:"lg-icon",onClick:function(e){g(null)}})))),c.a.createElement("div",{className:"w-100 hide-on-print"},c.a.createElement("div",{className:"",style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){r&&r(k)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){l(!1)}},c.a.createElement(L.a,null))))))};var Dt=function(e){var t=e.printPage,a=e.printPageSetting,n=e.calDigit,l=e.transaction,r=function(e,t){var a=e.toString(),n=Array.from(a).length-1;return t.toFixed(n)},o=c.a.useState(function(e,t){var a=null;return e.map((function(e){e.printPageName==t&&(a=function(e){e.header1,e.header2,e.table1,e.footer1,e.footer2;var t=Object(p.a)({},e);return["header1","header2","table1","footer1","footer2"].map((function(a){var n=[];e[a].map((function(e){var t=Object(p.a)({},e,{selectedLine:!1,_id:ie()()});n=[].concat(Object(d.a)(n),[t])})),t=Object(p.a)({},t,Object(m.a)({},a,n))})),t}(e))})),a}(t,a)),s=Object(i.a)(o,2),u=s[0],b=(s[1],u.widthUnit),f=u.fontUnit,h=u.totalWidth,g=(u.showTableHead,u.header1,u.header2,u.table1);u.footer1,u.footer2,c.a.useEffect((function(){}),[u]);var y=function(e){return e.map((function(e,t){return e.show?c.a.createElement("div",{key:t,style:{width:"".concat(e.printWidth).concat(b)}},c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(f),textAlign:e.printPosition}},"".concat(e.printLb).concat(e.printValue))):null}))},v=function(e,t){return e.map((function(e,a){if(e.show)return"tax"==e.printFieldName||"reduction"==e.printFieldName?(console.log(e.printFieldName),t[e.printFieldName].map((function(t,l){return c.a.createElement("div",{key:"".concat(a,"-").concat(l),style:{width:"".concat(e.printWidth).concat(b)}},c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(f),textAlign:e.printPosition}},""==e.printLb?r(n,t["".concat(e.printFieldName,"Amount")]):c.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(f)}},"".concat(e.printLb,"  ").concat(t["".concat(e.printFieldName,"Name")])),c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(f)}},r(n,t["".concat(e.printFieldName,"Amount")])))))}))):c.a.createElement("div",{key:a,style:{width:"".concat(e.printWidth).concat(b)}},c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(f),textAlign:e.printPosition}},e.printFieldName?"totalTax"==e.printFieldName||"totalReduction"==e.printFieldName||"total"==e.printFieldName||"grandTotal"==e.printFieldName?"".concat(e.printLb).concat(r(n,t[e.printFieldName])):"".concat(e.printLb).concat(t[e.printFieldName]):"".concat(e.printLb).concat(e.printValue)))}))};return c.a.createElement("div",{className:"bd-greens",style:{position:"absolute",top:"0",left:"0",zIndex:"500",width:"".concat(h).concat(b),display:"flex",flexWrap:"wrap",backgroundColor:"white"}},y(u.header1),v(u.header2,l),u.showTableHead&&g.map((function(e,t){return c.a.createElement("div",{key:t,style:{width:"".concat(e.printWidth).concat(b)}},c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(f),textAlign:e.printPosition}},"".concat(e.printLb)))})),function(e,t){return t.map((function(t,a){return e.map((function(e,l){return c.a.createElement("div",{key:"".concat(a,"-").concat(l),style:{width:"".concat(e.printWidth).concat(b)}},c.a.createElement("div",{style:{fontSize:"".concat(e.printFontSize).concat(f),textAlign:e.printPosition}},"result"==e.printFieldName?r(n,t[e.printFieldName]):"".concat(t[e.printFieldName])))}))}))}(u.table1,l.detail),v(u.footer1,l),y(u.footer2))},It={id:1,date:(new Date).toISOString(),dateOut:(new Date).toISOString(),branch:"main",transactionType:"\u0e1a\u0e34\u0e25\u0e02\u0e32\u0e22",transactionStatus:"open",active:!0,table:"A1",tableStatus:"open",paymentType:"\u0e40\u0e07\u0e34\u0e19\u0e2a\u0e14",effectStock:"unChange",effectSpending:"unChange",effectCustomerPoint:"unChange",partnerId:1,partnerType:"\u0e1c\u0e39\u0e49\u0e0b\u0e37\u0e49\u0e2d",title:"\u0e19\u0e32\u0e22",name:"\u0e08\u0e34\u0e15\u0e15\u0e34",phone:["0924424349 ","0459213311"],address:"12 \u0e15.\u0e17\u0e48\u0e32\u0e02\u0e49\u0e32\u0e21 \u0e2d.\u0e19\u0e04\u0e23\u0e04\u0e35\u0e23\u0e35 \u0e08.\u0e21\u0e2b\u0e32\u0e2a\u0e32\u0e23\u0e04\u0e32\u0e21 70183",remark:"\u0e02\u0e2d\u0e07\u0e41\u0e17\u0e49",total:100,totalReduction:10,reduction:[{reductionName:"vat",reductionActive:!0,reductionRate:7,reductionInPercentage:!0,reductionAmount:100},{reductionName:"vat",reductionActive:!0,reductionRate:70,reductionInPercentage:!1,reductionAmount:70}],grandTotal:280,totalTax:300,tax:[{taxName:"vat",taxActive:!0,taxRate:7,taxInPercentage:!0,taxAmount:100},{taxName:"viso",taxActive:!0,taxRate:10,taxInPercentage:!0,taxAmount:200}],totalPoint:2,customerPointReduction:2,shopId:"shopa",userId:"1",detail:[{id:1,barcode:"1",productName:"\u0e2a\u0e32\u0e22\u0e1e\u0e32\u0e19",groupId:1,groupName:"main",unit:"\u0e40\u0e2a\u0e49\u0e19",price:100,priceLevel:[{price:100,remark:"\u0e17\u0e38\u0e19"}],quantity:1,result:100,remark:"ok",isRawMat:!1,point:1,jobStatus:"open"},{id:2,barcode:"2",productName:"\u0e19\u0e49\u0e33\u0e1e\u0e23\u0e34\u0e01",groupId:1,groupName:"main",unit:"\u0e16\u0e38\u0e07",price:50,priceLevel:[{price:50,remark:"\u0e17\u0e38\u0e19"}],quantity:1,result:50,remark:"ok",isRawMat:!1,point:1,jobStatus:"open"}]};var Pt=function(e){var t=e.pageData,a=e.setShow,n=e.submitFunction,l=e.submitFunction2,r=e.printPage,o=(e.basicData,e.tableTemplate),s=e.addPrintPage,m=e.deletePrintPage,u=e.saveTableTemplateFunc,b=c.a.createRef(),f=c.a.createRef();console.log("printPage"),console.log(r);var h=c.a.useState(r),g=Object(i.a)(h,2),y=g[0],v=g[1];c.a.useEffect((function(){console.log("filterData"),console.log(y)}),[y]);var w=c.a.useState(null),E=Object(i.a)(w,2),N=E[0],j=E[1],O=c.a.useState(function(e){var t=[];return Array&&Array.isArray(e)&&e.map((function(e){t=[].concat(Object(d.a)(t),[c.a.createRef()])})),t}(r)),x=Object(i.a)(O,2),k=x[0];return x[1],c.a.createElement("div",null,N&&c.a.createElement("div",{className:"hide-on-screen"},c.a.createElement(Dt,{printPage:[N],printPageSetting:N.printPageName,transaction:It,calDigit:100})),c.a.createElement("div",{className:"Modal-background hide-on-print"},N?null:c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"30%"}},c.a.createElement("div",{className:"w-100 hide-on-print"},c.a.createElement("div",{className:"flex-center-center"},c.a.createElement("h5",null,"".concat(t.setting.printPage)))),c.a.createElement("div",{className:"Modal-body hide-on-print"},c.a.createElement("div",{className:"ModalInsideBody"},c.a.createElement("div",{className:"hide-on-print w-100 flex-center-start jc-start",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-100"},y.map((function(e,t){return c.a.createElement("div",{className:"flex-center-center",style:{marginBottom:"0.2rem"},key:t},t>0?c.a.createElement("div",{className:"w-10"},c.a.createElement(L.r,{className:"sm-icon",onClick:function(t){m(e.printId)}})):c.a.createElement("div",{className:"w-10"},c.a.createElement(L.u,{className:"sm-icon",onClick:function(e){s(y)}})),c.a.createElement("div",{className:"w-70"},c.a.createElement("input",{type:"text",ref:k[t],onKeyDown:function(e){"Enter"==e.key&&(t==y.length-1?b.current.focus():k[t+1].current.focus())},value:e.printPageName,onChange:function(e){!function(e,t){var a=[];y.map((function(n,c){if(t==c){var l=Object(p.a)({},n,{printPageName:e.target.value});a=[].concat(Object(d.a)(a),[l])}else a=[].concat(Object(d.a)(a),[n])})),v(a)}(e,t)}})),c.a.createElement("div",{className:"w-10"},c.a.createElement(G.k,{className:"sm-icon",onClick:function(t){j(e)}})))}))),c.a.createElement("div",{style:{display:"flex",width:"100%",marginTop:"2rem"}},c.a.createElement("div",{className:"xc9"}),c.a.createElement("div",{className:"xc3",style:{display:"flex"}},c.a.createElement("div",null,c.a.createElement("button",{ref:b,onKeyDown:function(e){},onClick:function(e){n&&n(y)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:f,onKeyDown:function(e){},onClick:function(e){a(!1)}},c.a.createElement(L.a,null))))))))),N&&c.a.createElement("div",{className:"Modal-box hide-on-print",style:{width:"100%",height:"100%",padding:"0"}},c.a.createElement(Ft,{printPageEditData:N,tableTemplate:o,pageData:t,setShow:a,confirmFunc2:function(e){l(e,y)},saveTableTemplateFunc:u}))))};function Rt(e){var t=e.pageData,a=e.basicData,n=e.setShow,l=e.submitFunction,r=c.a.createRef(),o=c.a.createRef(),s=c.a.useState({widthLeft:a.widthLeft}),m=Object(i.a)(s,2),u=m[0],d=m[1];return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",{className:"flex-center-center"},c.a.createElement("h5",null,t.widthLeftForm.formHead))),c.a.createElement("div",{className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-30"},t.widthLeftForm.widthLeft),c.a.createElement("div",{className:"w-70",style:{position:"relative"}},c.a.createElement("input",{type:"number",value:u.widthLeft,onChange:function(e){d({widthLeft:parseInt(e.target.value)})}}))),c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:r,onKeyDown:function(e){"ArrowRight"==e.key&&o.current.focus()},onClick:function(e){l&&l(u)}},"Confirm")),c.a.createElement("div",null,c.a.createElement("button",{ref:o,onKeyDown:function(e){"ArrowLeft"==e.key&&o.current.focus()},onClick:function(e){n(!1)}},"Cancel")))))}Rt.defaultProps={};var At=function(e){var t=e.modalTableState,a=e.submitFunc,n=e.basicData,l=e.cancelFunc,r=e.saveTableTemplateFunc,o=e.pageData;console.log("modalTableState");var s=t.pageForm,m=t.tableTemplate,u=t.data,b=t.blankData,f=c.a.useState(function(e){var t=[];return e.map((function(e){var a=Object(p.a)({},e,{selectedLine:!1,_id:ie()()});t=[].concat(Object(d.a)(t),[a])})),t}(u)),h=Object(i.a)(f,2),g=h[0],y=h[1],v=c.a.useState(null),w=Object(i.a)(v,2),E=w[0],N=w[1],j=c.a.useState(m),O=Object(i.a)(j,2),x=O[0],k=O[1],S=c.a.useState(!0),T=Object(i.a)(S,2),C=T[0],F=T[1],D={position:"fixed",top:"3rem",right:"0.5rem",zIndex:"100",width:"",backgroundColor:"white",borderRadius:"10px",margin:""},I={position:"fixed",top:"3rem",Left:"0.5rem",zIndex:"100",width:"",backgroundColor:"white",borderRadius:"10px",margin:""},P=c.a.useState(!0),R=Object(i.a)(P,2),A=R[0],M=R[1];return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{minWidth:"70%",minHeight:"40%"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("h5",null,s.formHead)),c.a.createElement("div",{className:"flex-center-center w-80",style:{width:"100%"}},c.a.createElement(lt,{tableTemplate:x,setTableTemplate:k,filterData:g,setFilterData:function(){},editData:E,setEditData:N,saveTableTemplateFunc:r,isSubTable:!1,updateFilterData:function(e,t){var a=[];g.map((function(e){a=e._id==E._id?[].concat(Object(d.a)(a),[t]):[].concat(Object(d.a)(a),[e])})),y(a)},useInput:!0,basicData:n,pageData:o.tableSettingModal})),C&&E?c.a.createElement("div",{style:A?D:I},c.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){!function(){if(E&&g&&g.length>1){var e=[];g.map((function(t,a){t._id!=E._id&&(e=[].concat(Object(d.a)(e),[t]))})),y(e)}}()}},c.a.createElement(W,{iconName:"MdDelete",className:"lg-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){!function(){if(E){var e=[];g.map((function(t,a){if(t._id==E._id){var n=Object(p.a)({},b,{selectedLine:!1,_id:ie()()});e=[].concat(Object(d.a)(e),[n,t])}else e=[].concat(Object(d.a)(e),[t])})),y(e)}else{var t=Object(p.a)({},b,{selectedLine:!1,_id:ie()()});y([t])}}()}},c.a.createElement(W,{iconName:"MdAddCircle",className:"lg-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){!function(){if(E){var e=[],t=null;g.map((function(e,a){e._id==E._id&&(t=a)})),null!=t&&t>0&&(g.map((function(a,n){e=[].concat(Object(d.a)(e),n==t-1?[g[t]]:n==t?[g[t-1]]:[a])})),y(e))}}()}},c.a.createElement(W,{iconName:"FaRegArrowAltCircleUp",className:"lg-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){!function(){if(E){var e=[],t=null,a=g.length-1;g.map((function(e,a){e._id==E._id&&(t=a)})),null!=t&&t<a&&(g.map((function(a,n){e=[].concat(Object(d.a)(e),n==t?[g[t+1]]:n==t+1?[g[t]]:[a])})),y(e))}}()}},c.a.createElement(W,{iconName:"FaRegArrowAltCircleDown",className:"lg-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){M(!A)}},c.a.createElement(W,{iconName:"MdSwapHoriz",className:"xl-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",style:{height:"3.5rem"},onClick:function(e){N(null),F(!1)}},c.a.createElement(W,{iconName:"MdClose",className:"lg-icon",textStyle:{color:"black"}}))):null,c.a.createElement("div",{className:"Modal-footer"},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){a(g)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){l(),F(!1)}},c.a.createElement(L.a,null))))))},Mt=re.catchErrorToMessage,Bt=Me.saveTableTemplate;var Lt=function(e){var t=e.pageData,a=e.basicData,n=(e.FormTemplate,e.StateTemplate,e.basicDataTableTemplate),l=(e.pageDataStandard,e.languageObj),r=e.myheader,o=e.setReloadBasicData,s=e.tableTemplate;console.log("shopInfo........");var b=c.a.useState(null),h=Object(i.a)(b,2),g=(h[0],h[1],c.a.useState(!1)),y=Object(i.a)(g,2),v=(y[0],y[1],c.a.useState(!1)),w=Object(i.a)(v,2),E=w[0],N=w[1],j=c.a.useState(!1),O=Object(i.a)(j,2),x=O[0],k=O[1],S=c.a.useState(!1),T=Object(i.a)(S,2),C=T[0],F=T[1],D=c.a.useState({showModalError:!1,message:null}),I=Object(i.a)(D,2),P=I[0],R=I[1],A=c.a.useState({key:null,show:!1,lb:null,array:null}),M=Object(i.a)(A,2),B=M[0],L=M[1],U=c.a.useState({key:null,show:!1,lb:null,array:null}),H=Object(i.a)(U,2),_=H[0],z=H[1],K=c.a.useState(!1),q=Object(i.a)(K,2),W=q[0],$=q[1],V=c.a.useState(!1),Y=Object(i.a)(V,2),Q=Y[0],X=Y[1],J=c.a.useState(!1),Z=Object(i.a)(J,2),ee=(Z[0],Z[1],c.a.useState(!1)),te=Object(i.a)(ee,2),ae=(te[0],te[1],c.a.useState(s)),ne=Object(i.a)(ae,2),ce=ne[0],le=ne[1],re=c.a.useState({key:null,showModalTable:!1,pageForm:null,tableTemplate:null,data:null,blankData:null}),oe=Object(i.a)(re,2),ie=oe[0],se=oe[1],me=function(){N(!0)},ue=function(){k(!0)},de=function(){F(!0)},pe=function(){$(!0)},be=function(){X(!0)},fe=function(e,t){var a=[];return e.map((function(e){a=[].concat(Object(d.a)(a),[e[t]])})),a},he=function(e,n,c){var l,r;(console.log("tempFunc2"),"tax"==e||"reduction"==e||"transaction"==e)?("tax"==e&&(l="Tax",r={taxName:"",taxActive:!1,taxRate:0,taxInPercentage:!1}),"reduction"==e&&(l="Reduction",r={reductionName:"",reductionActive:!1,reductionRate:0,reductionInPercentage:!1}),"transaction"==e&&(l="Transaction",r={transactionType:"",effectStock:"unChange",effectSpending:"unChange",effectCustomerPoint:"unChange"}),se({key:e,showModalTable:!0,pageForm:t["".concat(e,"Form")],tableTemplate:ce["basicData".concat(l,"TableTemplate")],data:a[e],blankData:r})):"branch"==e?z({key:e,show:!0,lb:n,array:a.branch}):L({key:e,show:!0,lb:n,array:c})},ge=function(e,t){return c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",null,e),c.a.createElement(G.k,{className:"sm-icon",style:{marginLeft:"0rem"},onClick:function(){return t()}}))},ye=function(e,a,n){var l=t.basicValue[e];return c.a.createElement("div",{className:"xc6 sc12",style:{margin:"0.2rem 0"}},c.a.createElement("div",{style:{display:"flex",width:"100%"}},c.a.createElement("div",{className:"w-35"},l),c.a.createElement("div",{className:"w-50"},c.a.createElement("select",null,n.map((function(e,t){return c.a.createElement("option",{key:t},e)})))),c.a.createElement(G.k,{className:"sm-icon",style:{marginLeft:"0rem"},onClick:function(){return a(e,l,n)}})))};return c.a.createElement("div",{className:"w-100 h-100",style:{overflowY:"auto"}},t&&function(){var e=t.setting,a=e.formHead,n=e.changePassword,l=e.addNewUser,r=e.routeAuth,o=e.language,i=e.printPage;e.widthLeft;return c.a.createElement("div",{className:"w-100",style:{marginBottom:"0.5rem",padding:"0.5rem"}},c.a.createElement("div",{className:"w-100 bd-pureWhite",style:{padding:"0.5rem"}},c.a.createElement("h5",null,a),ge(n,me),ge(l,ue),ge(r,pe),ge(o,be),ge(i,de)))}(),t&&c.a.createElement("div",{className:"w-100",style:{marginBottom:"0.5rem",padding:"0.5rem"}},c.a.createElement("div",{className:"w-100 bd-pureWhite",style:{padding:"0.5rem"}},c.a.createElement("div",null,c.a.createElement("h5",null,t.basicValue.formHead)),c.a.createElement("div",{className:"flex-center-center jc-start"},ye("title",he,a.title),ye("unit",he,a.unit),ye("userLevel",he,a.userLevel),ye("partnerType",he,a.partnerType),ye("paymentType",he,a.paymentType),ye("tax",he,fe(a.tax,"taxName")),ye("reduction",he,fe(a.reduction,"reductionName")),ye("transaction",he,fe(a.transaction,"transactionType"))))),C&&a.printPage?c.a.createElement(Pt,{pageData:t,submitFunction:function(e){f.a.post("/p35basicdata/updatecustom",{id:a.id,printPage:e},r).then((function(e){F(!1),o(!0)})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))},submitFunction2:function(e,t){console.log("updatePrintPageFunc2");e._id;var n=Object(u.a)(e,["_id"]);["header1","header2","table1","footer1","footer2"].map((function(t){var a=[];e[t].map((function(e){e._id;var t=Object(u.a)(e,["_id"]);a=[].concat(Object(d.a)(a),[t])})),n=Object(p.a)({},n,Object(m.a)({},t,a))}));var c=[];t.map((function(t){c=t.printId==e.printId?[].concat(Object(d.a)(c),[n]):[].concat(Object(d.a)(c),[t])})),f.a.post("/p35basicdata/updatecustom",{id:a.id,printPage:c},r).then((function(e){F(!1),o(!0)})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))},setShow:function(e){return F(e)},printPage:a.printPage,basicData:a,addPrintPage:function(e){var t=e.length-1,n=parseInt(e[t].printId)+1,c=e,l=Object(p.a)({},e[0],{printId:n,printPageName:n.toString()});c=[].concat(Object(d.a)(c),[l]),f.a.post("/p35basicdata/updatecustom",{id:a.id,printPage:c},r).then((function(e){F(!1),o(!0)})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))},deletePrintPage:function(e){var t=[];a.printPage.map((function(a){a.printId!=e&&(t=[].concat(Object(d.a)(t),[a]))})),f.a.post("/p35basicdata/updatecustom",{id:a.id,printPage:t},r).then((function(e){F(!1),o(!0)})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))},tableTemplate:s,saveTableTemplateFunc:function(e){var t={};Object.keys(e).map((function(a){var n=Object(p.a)({},e[a],{showColHead:!0});t=Object(p.a)({},t,Object(m.a)({},a,n))}));Bt(t,"p35tabletemplate","printTableTemplate",r)}}):null,E?c.a.createElement(Le,{pageData:t,setShow:N,submitFunction:function(e){f.a.post("/shop/shopchangepassword",e,r).then((function(e){N(!1)})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))}}):null,x?c.a.createElement(wt,{pageData:t,basicData:a,tableTemplate:s,myheader:r,setShow:k,submitFunction:function(e){console.log("updateAddUserFunc........."),f.a.post("/user/adduser",e,r).then((function(e){k(!1)})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))}}):null,B.show?c.a.createElement(Ue,{pageData:t,basicData:a,basicValueSetting:B,setShow:function(e){L(Object(p.a)({},B,{show:e}))},submitFunction:function(e){console.log("updateBasicDataFunc........");var t=Object(m.a)({id:a.id},B.key,e);f.a.post("/p35basicdata/updatecustom",t,r).then((function(e){console.log("result"),o(!0),L(Object(p.a)({},B,{show:!1}))})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))}}):null,_.show?c.a.createElement(_e,{pageData:t,basicData:a,basicValueSetting:_,setShow:function(e){z(Object(p.a)({},_,{show:e}))},submitFunction:function(e,t){console.log("updateBasicValueSettingFunc2"),console.log(e),console.log(t);var n=[];t._id?e.map((function(e){if(t._id==e._id){t._id;var a=Object(u.a)(t,["_id"]);n=[].concat(Object(d.a)(n),[a])}else{e._id;var c=Object(u.a)(e,["_id"]);n=[].concat(Object(d.a)(n),[c])}})):e.map((function(e){e._id;var t=Object(u.a)(e,["_id"]);n=[].concat(Object(d.a)(n),[t])}));var c=Object(m.a)({id:a.id},"branch",n);f.a.post("/p35basicdata/updatecustom",c,r).then((function(e){console.log("result"),o(!0),z({key:null,show:!1,lb:null,array:null})})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))}}):null,W?c.a.createElement(Nt,{pageData:t,basicData:a,setShow:$,submitFunction:function(e){var t=Object(p.a)({},a,{routeAuth:e});f.a.post("/p35basicdata/updatecustom",t,r).then((function(e){o(!0),$(!1)})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))},basicDataTableTemplate:n}):null,Q?c.a.createElement(Ct,{pageData:t,basicData:a,setShow:X,submitFunction:function(e,t){console.log("updateLanguageSettingFunc");var a=[];t&&t.length>0&&t.map((function(t){e.map((function(e){if(t==e.id){var n=f.a.post("/p35formtemplate/updatecustom",e,r);a=[].concat(Object(d.a)(a),[n])}}))})),Promise.all(a).then((function(e){X(!1),o(!0)})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))},submitFunction2:function(e){console.log("updateLanguageSettingFunc2");var t=[];Object.keys(e.template).map((function(a){var n={key:a,lb:e.template[a]};t=[].concat(Object(d.a)(t),[n])}));var a={id:e.id,formLanguage:e.formLanguage,template:t};f.a.post("/p35formtemplate/updatecustom",a,r).then((function(e){X(!1),o(!0)})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))},myheader:r,languageObj:l,addLanguage:function(e){var t=e.length-1,a=parseInt(e[t].id)+1,n=[];Object.keys(e[0].template).map((function(t){var a={key:t,lb:e[0].template[t]};n=[].concat(Object(d.a)(n),[a])}));var c={id:a,formLanguage:a.toString(),template:n};f.a.post("/p35formtemplate/addcustom",c,r).then((function(e){X(!1),o(!0)})).catch((function(e){console.log("error");var t={showModalError:!0,message:Mt(e)};R(t)}))},deleteLanguage:function(e){f.a.post("/p35formtemplate/deletecustom",{id:e},r).then((function(e){X(!1),o(!0)})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))}}):null,ie.showModalTable?c.a.createElement(At,{modalTableState:ie,submitFunc:function(e){if(console.log("updateBa............."),e){var t=[];e.map((function(e){e._id;var a=Object(u.a)(e,["_id"]);t=[].concat(Object(d.a)(t),[a])}));var n=Object(p.a)({},a,Object(m.a)({},ie.key,t));f.a.post("/p35basicdata/updatecustom",n,r).then((function(e){o(!0),se({key:null,showModalTable:!1,pageForm:null,tableTemplate:null,data:null,blankData:null})})).catch((function(e){var t={showModalError:!0,message:Mt(e)};R(t)}))}},cancelFunc:function(e){return se(Object(p.a)({},ie,{showModalTable:e}))},basicData:a,saveTableTemplateFunc:function(e){var t,a=ie.key;"reduction"==a&&(t="basicDataReductionTableTemplate"),"tax"==a&&(t="basicDataTaxTableTemplate"),"transaction"==a&&(t="basicDataTransactionTableTemplate");var n={};Object.keys(e).map((function(t){var a=Object(p.a)({},e[t],{showColHead:!0});n=Object(p.a)({},n,Object(m.a)({},t,a))})),le(Object(p.a)({},ce,Object(m.a)({},t,n))),Bt(n,"p35tabletemplate",t,r)},pageData:t}):null,P.showModalError?ht({setShow:function(e){R(Object(p.a)({},P,{showModalError:e}))},message:P.message}):null)};var Gt=function(){console.log("BasicData..........");var e=c.a.useContext(R),t=e.basicDataSt,a=e.setReloadBasicData,n=e.myheader,l=(e.setBasicData,e.tokenSt),r=(e.setReloadCheckToken,l.haveUserToken,l.haveShopToken,l.userName,t.basicData),o=t.pageData,m=t.tableTemplate,u=t.languageObj,d=t.user,p=c.a.createRef(),b=c.a.useState({reloadData:!1,pageData:null,basicData:null,tableTemplate:null}),f=Object(i.a)(b,2),h=f[0],g=f[1];return c.a.useEffect((function(){g({reloadData:!1,pageData:o,basicData:r,tableTemplate:m})}),[t]),c.a.useEffect((function(){}),[h]),c.a.createElement("div",{style:{height:"100vh",width:"100vw",overflow:"hidden",position:"relative"}},c.a.createElement("div",{className:"h-5 w-100 hide-on-print"},c.a.createElement(Se,null)),c.a.createElement("div",{className:"h-95 w-100"},h.pageData&&h.basicData&&h.tableTemplate&&"admin"==d.userLevel&&c.a.createElement(Lt,{pageData:h.pageData,basicData:h.basicData,FormTemplate:F,StateTemplate:ge,basicDataTableTemplate:h.tableTemplate.basicDataTableTemplate,myheader:n,setReloadBasicData:a,languageObj:u,tableTemplate:m})),c.a.createElement("div",{className:"d-none"},c.a.createElement(s.b,{ref:p,to:"/pos/home"})))};function Ut(e){e.lb;var t=e.basicData,a=e.shopInfo,n=e.keyName,l=e.setShow,r=e.submitFunction;console.log("ShopInfoModalForm....");var o=ae.changeArrayFile,s=c.a.createRef(),u=c.a.createRef(),b=c.a.useState(t),f=Object(i.a)(b,2),h=f[0],g=f[1];c.a.useEffect((function(){console.log("formInputState"),console.log(h)}),[h]);var y=function(e){var t=[];return Array&&Array.isArray(e)&&e.map((function(e){t=[].concat(Object(d.a)(t),[c.a.createRef()])})),t},v=c.a.useState(y(h.shopInfo)),w=Object(i.a)(v,2),E=w[0],N=w[1],j=c.a.useState(!0),O=Object(i.a)(j,2),x=O[0],k=O[1],S=c.a.useState([]),T=Object(i.a)(S,2),C=T[0],F=T[1],D=c.a.useState([]),I=Object(i.a)(D,2),P=I[0],R=I[1];c.a.useEffect((function(){console.log("fileUrl1"),console.log(P)}),[P]);c.a.useEffect((function(){console.log("useEffect ArrayFile1"),console.log(C),n&&"photoUrl1"==n[0]&&o({arrayFile:C,fileUrl:P,setFileUrl:R,inputState:h,setInputState:g,keyName:n[0],setShowImage:k})}),[C]);return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",null,c.a.createElement("h5",null,a.formHead)),c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:s,onKeyDown:function(e){},onClick:function(e){r&&r(h)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:u,onKeyDown:function(e){},onClick:function(e){l(!1)}},c.a.createElement(L.a,null))))),c.a.createElement("div",{className:"Modal-body"},c.a.createElement("div",{className:"ModalInsideBody"},h.shopInfo.map((function(e,t){return c.a.createElement("div",{className:"flex-center-center",key:t},c.a.createElement("div",{className:"w-10"},c.a.createElement(L.u,{className:"sm-icon",onClick:function(e){!function(e){var t=h.shopInfo,a=[];t.map((function(t,n){a=[].concat(Object(d.a)(a),e==n?[t,""]:[t])})),N(y(a)),g(Object(p.a)({},h,Object(m.a)({},"shopInfo",a)))}(t)}})),c.a.createElement("div",{className:"w-10"},t>0?c.a.createElement(L.r,{className:"sm-icon",onClick:function(e){!function(e){var t=h.shopInfo,a=[];t.map((function(t,n){e!=n&&(a=[].concat(Object(d.a)(a),[t]))})),N(y(a)),g(Object(p.a)({},h,Object(m.a)({},"shopInfo",a)))}(t)}}):null),c.a.createElement("div",{className:"w-80"},c.a.createElement("input",{type:"text",ref:E[t],value:e,onKeyDown:function(e){"Enter"==e.key&&h.shopInfo&&(t==h.shopInfo.length-1?s.current.focus():E[t+1].current.focus())},onChange:function(e){!function(e,t){var a=h.shopInfo,n=[];a.map((function(a,c){n=[].concat(Object(d.a)(n),t==c?[e.target.value]:[a])})),g(Object(p.a)({},h,Object(m.a)({},"shopInfo",n)))}(e,t)}})))})))),c.a.createElement("div",{className:"xc12 form-row h-100",style:{justifyContent:"space-around"}},c.a.createElement("div",{className:"xc4 sc10 bgc-darkGray bd-lightGray h-100"},x?c.a.createElement(Ee,{fileUrl:P,arrayFile:C,setArrayFile:F,keyName:n[0],setShowImage:k,inputState:h,setInputState:g}):null))))}Ut.defaultProps={lb:"Form",loadData:null,setShow:function(){},submitFunction:null};var Ht=Ut;var _t=function(e){var t=e.confirmFunc,a=e.setShow,n=e.pageData,l=e.basicData;console.log("BranchSettingForm");var r=c.a.createRef(),o=c.a.createRef(),s=c.a.useState({languageSetting:l.languageSetting,printPageSetting:l.printPageSetting,widthLeft:l.widthLeft,thisBranch:l.thisBranch}),u=Object(i.a)(s,2),b=u[0],f=u[1],h=c.a.useState(function(e){var t=[];return e.map((function(e){t=[].concat(Object(d.a)(t),[Object(p.a)({},e,{_idx:ie()()})])})),t}(l.table)),g=Object(i.a)(h,2),y=g[0],v=g[1],w=c.a.useState({_idx:null,tableName:null,tableActive:!1}),E=Object(i.a)(w,2),N=E[0],j=E[1],O=function(e,t){f(Object(p.a)({},b,Object(m.a)({},t,e.target.value)))};return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"1rem",minWidth:"70%",minHeight:"100px"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",null,c.a.createElement("h5",null,n.branchSettingPage.formHead)),c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:r,onClick:function(e){t&&t(Object(p.a)({},b,{table:y}))}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:o,onClick:function(e){a(!1)}},c.a.createElement(L.a,null))))),c.a.createElement("div",{className:"Modal-body"},c.a.createElement("div",{className:"ModalInsideBody"},["thisBranch","languageSetting","printPageSetting","widthLeft","table"].map((function(e,t){return"table"!=e?c.a.createElement("div",{key:t,className:"w-100 flex-center-center jc-start",style:{marginBottom:"0.2rem"}},c.a.createElement("div",{className:"w-50"},n.branchSettingPage[e]),c.a.createElement("div",{className:"w-50"},function(e){return"languageSetting"==e||"printPageSetting"==e?c.a.createElement("select",{onChange:function(t){return O(t,e)}},l[{languageSetting:"listOfLanguage",printPageSetting:"listOfPrintPage",thisBranch:"branch"}[e]].map((function(t,a){return c.a.createElement("option",{key:a,selected:b[e]==t?"selected":""},t)}))):"thisBranch"==e?c.a.createElement("div",null,b[e]):c.a.createElement("input",{type:"number",value:b[e],onChange:function(t){return O(t,e)}})}(e))):null})),c.a.createElement("div",null,n.branchSettingPage.table),y.map((function(e,t){return c.a.createElement("div",{className:"flex-center-center jc-start",key:t,style:{margin:"0.5rem 0"}},c.a.createElement(L.u,{className:"sm-icon",onClick:function(t){!function(e){var t=[];y.map((function(a){if(a._idx==e._idx){var n={_idx:ie()(),tableName:"",tableActive:!0};t=[].concat(Object(d.a)(t),[a,n])}else t=[].concat(Object(d.a)(t),[a])})),v(t)}(e)}}),c.a.createElement(L.r,{className:"sm-icon",style:{opacity:t>0?"1":"0"},onClick:function(t){!function(e){var t=[];y.map((function(a){a._idx!=e._idx&&(t=[].concat(Object(d.a)(t),[a]))})),v(t)}(e)}}),e.tableActive?c.a.createElement(G.e,{className:"md-icon",onClick:function(t){var a=[];y.map((function(t){t._idx==e._idx?(a=[].concat(Object(d.a)(a),[Object(p.a)({},t,{tableActive:!1})]),j(Object(p.a)({},t,{tableActive:!1}))):a=[].concat(Object(d.a)(a),[t])})),v(a)}}):c.a.createElement(G.f,{className:"md-icon",onClick:function(t){var a=[];y.map((function(t){t._idx==e._idx?(a=[].concat(Object(d.a)(a),[Object(p.a)({},t,{tableActive:!0})]),j(Object(p.a)({},t,{tableActive:!0}))):a=[].concat(Object(d.a)(a),[t])})),v(a)}}),N._idx==e._idx?c.a.createElement("input",{className:"h-100 w-50",value:N.tableName,onKeyDown:function(e){"Enter"==e.key&&r.current.focus()},onChange:function(e){j(Object(p.a)({},N,{tableName:e.target.value}))},onBlur:function(e){var t=[];y.map((function(e){t=N._idx==e._idx?[].concat(Object(d.a)(t),[N]):[].concat(Object(d.a)(t),[e])})),v(t)}}):c.a.createElement("div",{className:"",onClick:function(t){j(e)}},e.tableName))}))))))},zt=re.genFD,Kt=re.addSingleFileNameInsteadOfPhotoUrl,qt=re.catchErrorToMessage;var Wt=function(e){var t=e.pageData,a=e.basicData,n=(e.FormTemplate,e.StateTemplate),l=e.myheader,r=e.setReloadBasicData;e.languageObj,e.tableTemplate,console.log("BranchInfo........"),a.photoUrl1,a.shopInfo,a.languageSetting,a.printPageSetting,a.widthLeft,a.thisBranch,a.table;var o=t.branchSettingPage,s=c.a.useState(!1),m=Object(i.a)(s,2),u=m[0],d=m[1],b=c.a.useState(!1),h=Object(i.a)(b,2),g=h[0],y=h[1],v=c.a.useState({showModalError:!1,message:null}),w=Object(i.a)(v,2),E=(w[0],w[1]);return c.a.createElement("div",{className:"w-100 h-100",style:{padding:"0.5rem",overflowY:"auto"}},c.a.createElement("div",{className:"bd-pureWhite",style:{padding:"0.5rem",marginBottom:"2rem"}},t&&c.a.createElement("div",{className:"w-100",style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"}},c.a.createElement("div",{className:"w-60",style:{paddingTop:"0.5rem"}},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("h5",null,t.shopInfo.formHead),c.a.createElement(G.k,{className:"sm-icon",style:{marginLeft:"0rem"},onClick:function(e){return d(!u)}})),a.shopInfo.map((function(e,t){return c.a.createElement("div",{key:t,className:"",style:{display:"flex",width:"100%"}},c.a.createElement("div",{style:{fontSize:"1rem"}},e))}))),c.a.createElement("div",{className:"w-50",style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("img",{src:a.photoUrl1[0],style:{maxWidth:"100%",maxHeight:"30vh"}})))),c.a.createElement("div",{className:"bd-pureWhite",style:{padding:"0.5rem",marginBottom:"2rem"}},c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("h5",null,"".concat(o.formHead)),c.a.createElement(G.k,{className:"sm-icon",style:{marginLeft:"0rem"},onClick:function(e){return y(!g)}})),["languageSetting","printPageSetting","widthLeft","thisBranch","table"].map((function(e,t){return"table"!=e?c.a.createElement("div",{key:t,className:"",style:{display:"flex",width:"100%"}},c.a.createElement("div",{style:{width:"20%"}},c.a.createElement("div",{style:{fontSize:"1rem"}},o[e])),c.a.createElement("div",{style:{width:"80%"}},c.a.createElement("div",{style:{fontSize:"1rem"}},a[e]))):c.a.createElement("div",{key:t,className:"",style:{display:"flex",width:"100%"}},c.a.createElement("div",{style:{width:"20%"}},c.a.createElement("div",{style:{fontSize:"1rem"}},o[e])),c.a.createElement("div",{style:{width:"40%"}},c.a.createElement("select",null,a.table.map((function(e,t){return c.a.createElement("option",{key:t},e.tableName)})))))}))),u?c.a.createElement(Ht,{lb:t.shopInfo.formHead,basicData:a,shopInfo:t.shopInfo,setShow:d,keyName:["photoUrl1"],submitFunction:function(e){console.log("updateShopInforFunc"),console.log(e);var t=e.file1,c=e.photoUrl1,o=e.shopInfo,i=a.branchId,s={id:i,shopInfo:o},m=f.a.post("/p35branch/updatecustom",s,l),u=null;if(t)if(console.log("file1............."),console.log(t),t.length>0){console.log("there is file");var b=Kt({id:i,file1:t,photoUrl1:c}),h=zt({inputState:b,template:{id:n.shopInfoState.id,file1:n.shopInfoState.file1,photoUrl1:n.shopInfoState.photoUrl1}});u=f.a.post("/p35branch/updatecustom",h,l)}else console.log("there is No.........file"),m=f.a.post("/p35branch/updatecustom",Object(p.a)({},s,{photoUrl1:c}),l);else console.log("no click on add Image"),m=f.a.post("/p35branch/updatecustom",Object(p.a)({},s,{photoUrl1:c}),l);Promise.all([m,u]).then((function(e){r(!0),d(!1)})).catch((function(e){var t={showModalError:!0,message:qt(e)};E(t)}))}}):null,g?c.a.createElement(_t,{pageData:t,basicData:a,setShow:y,confirmFunc:function(e){var t=Object(p.a)({id:a.branchId},e);f.a.post("/p35branch/updatecustom",t,l).then((function(e){console.log("result"),r(!0),y(!1)})).catch((function(e){console.log("error");var t={showModalError:!0,message:qt(e)};E(t)}))}}):null)};var $t=function(){console.log("Branch");var e=c.a.useContext(R),t=e.basicDataSt,a=e.setReloadBasicData,n=e.myheader,l=(e.setBasicData,t.basicData),r=t.pageData,o=t.tableTemplate,s=t.languageObj,m=c.a.useState({reloadData:!1,pageData:null,basicData:null,tableTemplate:null}),u=Object(i.a)(m,2),d=u[0],p=u[1];return c.a.useEffect((function(){p({reloadData:!1,pageData:r,basicData:l,tableTemplate:o})}),[t]),c.a.createElement("div",{style:{height:"100vh",width:"100vw",overflow:"hidden"}},c.a.createElement("div",{className:"h-5 w-100 hide-on-print"},c.a.createElement(Se,null)),c.a.createElement("div",{className:"h-95 w-100"},d.pageData&&d.basicData&&d.tableTemplate&&c.a.createElement(Wt,{pageData:d.pageData,basicData:d.basicData,FormTemplate:F,StateTemplate:ge,myheader:n,setReloadBasicData:a,languageObj:s,tableTemplate:o})))},Vt=/^\d{1,30}$/gi,Yt=function(e,t){return new RegExp(e).test(t)},Qt=function(e,t){for(var a=!0,n=0;n<t.length&&(a=new RegExp(e).test(t[n]));n++);return a},Xt={groupState:{id:{stType:"number",validate:Yt,pattern:Vt},groupPage:{stType:"number",validate:Yt,pattern:Vt},groupName:{stType:"string",validate:Yt,pattern:/^[\u0e01-\u0e59\w\+\-\*\/\\.=]{1,200}$/gi},children:{stType:"array",validate:Qt,pattern:Vt},parentId:{stType:"array",validate:Qt,pattern:Vt},allDeleteId:{stType:"array",validate:Qt,pattern:Vt}},testData:[{id:1,gropuPage:1,groupName:"main",children:[2,3,4,13],parentId:null},{id:2,groupPage:1,groupName:"one",children:[5,10],parentId:1},{id:3,groupPage:1,groupName:"three",children:[7,9],parentId:1},{id:4,groupPage:1,groupName:"four",children:[11],parentId:1},{id:5,groupPage:2,groupName:"five",children:[6,12],parentId:2},{id:6,groupPage:2,groupName:"six",children:[],parentId:5},{id:7,groupPage:3,groupName:"seven",children:[8],parentId:3},{id:8,groupPage:3,groupName:"eight",children:[],parentId:7},{id:9,groupPage:3,groupName:"nine",children:[],parentId:3},{id:10,groupPage:2,groupName:"ten",children:[],parentId:2},{id:11,groupPage:4,groupName:"eleven",children:[],parentId:4},{id:12,groupPage:2,groupName:"twelve",children:[],parentId:5},{id:13,groupPage:13,groupName:"thirteen",children:[],parentId:1}]},Jt=(a(86),function(e){console.log("Tree");var t=e.tempObj,a=e.canGroupChange,n=e.selectGroupObjectId,l=e.folderOpenFunc,r=e.folderClosePlusFunc,o=e.folderCloseFunc,i=(e.pOpenFunc,e.pCloseFunc),s=e.delFunc,u=e.addFunc,d=e.editFunc,p=e.refreshFunc,b=e.zoomFunc,f=e.setEditGroupFunc;return c.a.createElement("div",{className:"h-100 w-100",style:{position:"relative"}},c.a.createElement("div",{className:"h-5"},c.a.createElement(G.w,{className:"lg-icon",onClick:function(e){p()}}),n>0&&a?c.a.createElement(G.a,{className:"lg-icon",onClick:function(e){u()}}):null,n>1&&a?c.a.createElement(G.k,{className:"lg-icon",onClick:function(e){d()}}):null,n>1&&a?c.a.createElement(G.j,{className:"lg-icon",onClick:function(e){s()}}):null,c.a.createElement(G.G,{className:"lg-icon",onClick:function(e){b()}})),c.a.createElement("div",{className:"w-100 h-95"},t?function e(t,a){return t.map((function(t,s){return c.a.createElement("div",{key:s,style:{marginLeft:"".concat(1*a,"rem")}},t.open?c.a.createElement("div",{style:{}},c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement(L.m,{style:{fontSize:"2rem"},onClick:function(e){l(t)}}),t.groupName?c.a.createElement("div",Object(m.a)({id:t.groupName,style:{marginTop:"0.7rem",marginLeft:"0.3rem"},onClick:function(e){f(t)}},"style",{color:n==t.id?"red":"black",fontSize:"main"==t.groupName?"1.5rem":null}),"".concat(t.id,".").concat(t.groupName)):null,c.a.createElement(G.y,{className:"sm-icon",style:{color:n==t.id?"red":"black"},onClick:function(e){i(t)}})),c.a.createElement("div",null,e(t.folders,a+1))):c.a.createElement("div",{style:{}},c.a.createElement("div",{style:{}},t.children?t.children.length>0?c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement(L.n,{style:{fontSize:"2rem"},onClick:function(e){r(t)}}),t.groupName?c.a.createElement("div",Object(m.a)({id:t.groupName,style:{marinTop:"0.7rem",marginLeft:"0.3rem"},onClick:function(e){f(t)}},"style",{color:n==t.id?"red":"black",fontSize:"main"==t.groupName?"1.5rem":null}),"".concat(t.id,".").concat(t.groupName)):null,c.a.createElement(G.y,{className:"sm-icon",style:{color:n==t.id?"red":"black"},onClick:function(e){i(t)}})):c.a.createElement("div",{style:{display:"flex",alignItems:"center"}},c.a.createElement(L.l,{style:{fontSize:"2rem"},onClick:function(e){o(t)}}),t.groupName?c.a.createElement("div",Object(m.a)({id:t.groupName,style:{marinTop:"0.7rem",marginLeft:"0.3rem"},onClick:function(e){f(t)}},"style",{color:n==t.id?"red":"black",fontSize:"main"==t.groupName?"1.5rem":null}),"".concat(t.id,".").concat(t.groupName)):null,c.a.createElement(G.y,{className:"sm-icon",style:{color:n==t.id?"red":"black"},onClick:function(e){i(t)}})):null)))}))}(t,0):null))});Jt.defaultProps={tempObj:null,canGroupChange:!0,selectGroupObjectId:null,folderOpenFunc:function(){},folderClosePlusFunc:function(){},folderCloseFunc:function(){},pOpenFunc:function(){},pCloseFunc:function(){},delFunc:function(){},addFunc:function(){},editFunc:function(){},refreshFunc:function(){}};var Zt=Jt,ea={convertToObject:function(e,t){if(!e)return null;var a=Object.keys(Object(p.a)({},e[0],{},t)),n={};return e.map((function(e){1==e.id?(n=Object(p.a)({},n,{folders:[]}),a.map((function(t){n=Object(p.a)({},n,Object(m.a)({},t,e[t]))})),e.children.map((function(e){var t={id:e,folders:[]};n.folders.push(t)}))):function e(t,n){n&&n.map((function(n){t.id==n.id?(a.map((function(e){n[e]=t[e]})),t.children.map((function(e){var t={id:e,folders:[]};n.folders.push(t)}))):e(t,n.folders)}))}(e,n.folders)})),[n]},createGroupTree:function(e){var t=e.group,a=e.openArrayIn;if(!t)return null;var n,c={};n=a||[1];var l=[];return t.map((function(e){var t=Object(p.a)({},e,{open:1==e.id});if(n)for(var a=0;a<n.length;a++)if(e.id==n[a]){t=Object(p.a)({},t,{open:!0});break}c=function(e,t){var a=t.parentGroup.length.toString();return e[a]?e[a]=[].concat(Object(d.a)(e[a]),[t]):e=Object(p.a)({},e,Object(m.a)({},a,[t])),e}(c,t)})),Object.keys(c).map((function(e){c[e].map((function(e){l=[].concat(Object(d.a)(l),[e])}))})),{groupTree:l,openArray:n}},findAllChildrenId:function(e,t){return console.log("tempObj"),console.log(t),[]},openAllParentId:function(e){var t=e.groupTree,a=e.editGroupId;if(!t)return null;if(!a)return null;var n=[],c=[];return c=function(e){var t=e.groupTree,a=e.editGroupId,n=function(e){if(e){for(var a=null,n=0;n<t.length-1;n++)if(t[n].id==e){a=t[n].parentId;break}return a}};if(!t)return null;if(!a)return null;for(var c=[],l=a;l;)(l=n(l))&&(c=[].concat(Object(d.a)(c),[l]));return c}({groupTree:t,editGroupId:a}),t.map((function(e){for(var t=e,a=0;a<c.length;a++)if(e.id==c[a]){t=Object(p.a)({},t,Object(m.a)({},"open",!0)),c.splice(a,1);break}n=[].concat(Object(d.a)(n),[t])})),n},findAllChildrenByGroupTree:function(e,t){for(var a=[],n=[e],c=[],l=0;l<t.length;l++){for(var r=0;r<n.length;r++)if(n[r]==t[l].id){n.splice(r,1),n=[].concat(Object(d.a)(n),Object(d.a)(t[l].children)),c=[].concat(Object(d.a)(c),[t[l]]),a=[].concat(Object(d.a)(a),[t[l].id]);break}if(0==n.length)break}return{allDeleteId:a,allDeleteObject:c}}},ta=Ce.revRefAndValue,aa=function(e){e.cName;var t=e.template,a=e.refAndValue,n=e.ref1,l=e.iconAction,r=e.setRefAndValue,o=e.selectData,i=e.blankData,s=e.refAndValueBlankData,m=e.loadData,u=e.setLoadData,d=e.hidePassword,b=e.setHidePassword,h=e.tableTemplate,g=e.setTableTemplate,y=(e.showTable,e.setShowTable,e.selectRow,e.setSelectRow,e.editData),v=e.setEditData,w=e.updateFilterData,E=e.insertLine,N=(e.selectAll,e.unSelectAll,e.deleteLine),j=e.getSelectAll,O=(e.moveSelectedDown,e.moveSelectedUp,e.moveUp),x=e.moveDown,k=e.findProductIdByKeyDown,S=e.findBarcodeByKeyDown,T=e.calDigit,C=e.setCalculate,F=(e.sumAmount,e.saveDetailTableTemplateForFormFunc),D=(e.selectGroup,e.selectProduct,e.pageDataModalForm,e.dataUrl),I=e.myheader,P=function(e){var n=e.location,c=e.value,l=a;n.map((function(e){l=l[e]})),l.value=c,r(Object(p.a)({},a));var o=ta({template:t,refAndValue:a});u(Object(p.a)({},m,{},o)),C(!0)},R=function(e,t,c){if(console.log("geToNextRef"),"Enter"==e.key)if(Array.isArray(t)){if("detail"!=t[0])if(c)n.current.focus();else{var l=a;t.map((function(e){l=l[e]})),l.ref.current.focus()}}else n.current.focus()},A=function(e){var t=a;return Array.isArray(e)&&e.map((function(e){t=t[e]})),t.ref},M=function(e){e.lb,e.cName,e.subCName,e.templateType;var n=e.inputType,l=(e.subFormTemplate,e.placeholder,e.disabled),i=e.autoFocus,s=e.unchangeable,f=e.selectObj,h=e.selectDataKey,g=e.textRow,y=e.selectOption,v=e.location,w=e.nextRef,E=(e.ref,e.value),N=e.lastRef;e.tpKey;if("select"==n){return c.a.createElement("select",{className:"w-100",style:{height:"1.5rem"},type:n,value:E,ref:A(v),onChange:function(e){s||P({location:v,value:e.target.value})},onKeyDown:function(e){R(e,w,N)},disabled:l,autoFocus:i},c.a.createElement("option",{value:"",hidden:!0},"list below..."),function(){if(o[h]){if(!o[h])return null;var e=f.split(",");if(2==e.length)return o[h][e[0]].map((function(t,a){return c.a.createElement("option",{key:a,value:t[e[1]]},t[e[1]])}));if(1==e.length&&Array.isArray(o[h][f]))return o[h][f].map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)}))}}())}return"select2"==n?c.a.createElement("select",{className:"w-100",style:{height:"1.5rem"},type:n,value:E,ref:A(v),onChange:function(e){s||P({location:v,value:e.target.value})},onKeyDown:function(e){R(e,w,N)},disabled:l,autoFocus:i},c.a.createElement("option",{value:"",hidden:!0},"list below..."),y.map((function(e,t){return c.a.createElement("option",{key:t,value:e},e)}))):"checkbox"==n?c.a.createElement("div",{className:"h-100 w-100",style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("input",{style:{height:"1.5rem",margin:"0",border:"0"},type:n,checked:E,ref:A(v),onChange:function(e){s||P({location:v,value:e.target.checked})},onKeyDown:function(e){R(e,w,N)},disabled:l,autoFocus:i})):"password"==n?c.a.createElement("div",{style:{position:"relative",width:"100%"}},c.a.createElement("input",{style:{height:"1.5rem"},type:d?n:"text",value:E,ref:A(v),onChange:function(e){s||P({location:v,value:e.target.value})},onKeyDown:function(e){R(e,w,N)},autoComplete:"one-time-code",disabled:l,autoFocus:i}),d?c.a.createElement(G.E,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){b(!d)}}):c.a.createElement(G.D,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){b(!d)}})):"date"==n?c.a.createElement("input",{style:{height:"1.5rem"},type:"date",value:E.substring(0,10),ref:A(v),onChange:function(e){s||P({location:v,value:e.target.value})},onKeyDown:function(e){R(e,w,N)},disabled:l,autoFocus:i}):"textarea"==n?c.a.createElement("textarea",{style:{width:"100%"},value:E,rows:g,ref:A(v),onChange:function(e){s||P({location:v,value:e.target.value})},disabled:l,autoFocus:i}):"number"==n||"genId"==n?c.a.createElement("input",{style:{height:"1.5rem"},type:n,value:E,rows:g,ref:A(v),onChange:function(e){s||function(e){var n=e.location,c=e.value;if(new RegExp("^-?[0-9]+(?:.[0-9]{1,2})?$").test(c.toString())||""==c){var l=a;n.map((function(e){l=l[e]})),l.value=c,r(Object(p.a)({},a));var o=ta({template:t,refAndValue:a});u(Object(p.a)({},m,{},o)),C(!0)}}({location:v,value:e.target.value})},onKeyDown:function(e){R(e,w,N)},disabled:l,autoFocus:i}):c.a.createElement("input",{style:{height:"1.5rem"},type:n,value:E,rows:g,ref:A(v),onChange:function(e){s||P({location:v,value:e.target.value})},onKeyDown:function(e){R(e,w,N)},disabled:l,autoFocus:i})},B=Object(p.a)({},m),U=function(){u(Object(p.a)({},B))};return c.a.createElement("div",{className:"flex-center-start jc-start"},function e(t){var a=t.tPt,n=t.rAv,r=t.bDt,i=t.rAvbDt,s=t.lDt;return Object.keys(a).map((function(t,u){var d=a[t].templateType,p=a[t],b=p.lb,C=p.cName,R=p.subCName,A=p.subFormTemplate;p.iconActionIdx;return"object"==d?c.a.createElement("div",{key:u,className:"".concat(C)},c.a.createElement("div",{className:R[0]},c.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},b)),c.a.createElement("div",{className:R[1]},e({tPt:A,rAv:n[t],bDt:r[t],rAvbDt:i[t],lDt:s[t]}))):"arrayObject"==d?n[t].map((function(a,n){a.location;return c.a.createElement("div",{key:"".concat(t,"-").concat(n),className:"".concat(C)},c.a.createElement("div",{className:R[0]},c.a.createElement("p",{style:{margin:"auto"},className:"table-p"},b)),c.a.createElement("div",{className:R[1]},c.a.createElement("div",{className:"flex-center-center jc-start"},c.a.createElement("div",{className:"px-1"},c.a.createElement(L.u,{className:"sm-icon",onClick:function(e){s[t].splice(n+1,0,r[t][0]),U()}})),c.a.createElement("div",{className:"px-1"},c.a.createElement(L.r,{className:"sm-icon",style:{visibility:n>0?"visible":"hidden"},onClick:function(e){s[t].splice(n,1),U()}}))),c.a.createElement("div",{className:"flex-center-start jc-start"},e({tPt:A,rAv:a,bDt:r[t][0],rAvbDt:i[t][0],lDt:s[t][n]}))))})):"arrayObjectInTable"==d?h?c.a.createElement("div",{style:{width:"100%",height:"100%",overflow:"hidden"}},c.a.createElement("div",{className:"flex-center-center jc-start",style:{margin:"2rem 0 0 0",backgroundColor:"#e5d1db",height:"2rem"}},c.a.createElement("div",{className:"iconbox",onClick:function(e){E()}},c.a.createElement(W,{iconName:"MdAddCircle",className:"sm-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",onClick:function(e){y&&O()}},c.a.createElement(W,{iconName:"FaRegArrowAltCircleUp",className:"sm-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",onClick:function(e){y&&x()}},c.a.createElement(W,{iconName:"FaRegArrowAltCircleDown",className:"sm-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",onClick:function(e){y&&N()}},c.a.createElement(W,{iconName:"MdDelete",className:"sm-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",onClick:function(e){j()}},c.a.createElement(W,{iconName:"RiShareForwardLine",className:"sm-icon",textStyle:{color:"black"}}))),c.a.createElement("div",{className:"w-100 h-100",style:{marginTop:"0rem"}},c.a.createElement(lt,{colorHead:"#777",tableTemplate:h,setTableTemplate:g,filterData:m[t],setFilterData:function(){},editData:y,setEditData:v,useInput:!0,saveTableTemplateFunc:F,isSubTable:!1,basicData:o.basicData,updateFilterData:w,findProductIdByKeyDown:k,findBarcodeByKeyDown:S,calDigit:T}))):null:"array"==d?function(e){var t=e.tPt,a=e.rAv,n=e.bDt,l=(e.rAvbDt,e.lDt),r=e.tpKey,o=e.tpIdx,i=t[r],s=i.lb,m=i.cName,u=i.subCName,d=i.templateType,p=i.inputType,b=i.subFormTemplate,f=i.placeholder,h=i.disabled,g=i.autoFocus,y=i.unchangeable,v=i.selectObj,w=i.selectDataKey;return c.a.createElement("div",{key:o,className:"".concat(m)},c.a.createElement("div",{className:"flex-center-center"},c.a.createElement("div",{className:u[0],style:{padding:"0.5rem"}},c.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},s)),c.a.createElement("div",{className:u[1]})),a[r].map((function(e,t){var a=e.location,o=e.nextRef,i=e.ref,E=e.value;return c.a.createElement("div",{key:t,className:"flex-center-baseline"},c.a.createElement("div",{className:u[0]},"disabled"==h?null:c.a.createElement("div",{className:"flex-center-center"},c.a.createElement("div",{className:"px-1"},c.a.createElement(L.u,{className:"sm-icon",onClick:function(e){l[r].splice(t+1,0,n[r][0]),U()}})),c.a.createElement("div",{className:"px-1"},c.a.createElement(L.r,{className:"sm-icon",style:{visibility:t>0?"visible":"hidden"},onClick:function(e){l[r].splice(t,1),U()}})))),c.a.createElement("div",{className:u[1],style:{position:"relative"}},M({lb:s,cName:m,subCName:u,templateType:d,inputType:p,subFormTemplate:b,placeholder:f,disabled:h,autoFocus:g,unchangeable:y,selectObj:v,selectDataKey:w,location:a,nextRef:o,ref:i,value:E})))})))}({tPt:a,rAv:n,bDt:r,rAvbDt:i,lDt:s,tpKey:t,tpIdx:u}):"icon-group"!=d?function(e){var t=e.tPt,a=e.rAv,n=(e.bDt,e.rAvbDt,e.lDt,e.tpKey),l=e.tpIdx,r=t[n],o=r.lb,i=r.cName,s=r.subCName,m=r.templateType,u=r.inputType,d=r.subFormTemplate,p=r.placeholder,b=r.disabled,h=r.autoFocus,g=r.unchangeable,y=r.selectObj,v=r.selectDataKey,w=r.textRow,E=r.selectOption,N=a[n],j=N.location,O=N.nextRef,x=N.ref,k=N.value;return c.a.createElement("div",{key:l,className:"".concat(i)},c.a.createElement("div",{className:"flex-center-center"},c.a.createElement("div",{className:s[0]},c.a.createElement("div",{className:"",style:{display:"flex",paddingLeft:"0.5rem"}},c.a.createElement("p",{style:{margin:"auto 0"},className:"table-p"},o),"genId"==u?c.a.createElement(G.w,{className:"sm-icon",onClick:function(e){console.log("dataUrl"),f.a.post("/".concat(D,"/getlimit"),{},I).then((function(e){if(console.log("result"),e&&e.data){var t=parseInt(e.data.lastRecordId)+1;P({location:j,value:t})}})).catch((function(e){console.log("error")}))}}):null)),c.a.createElement("div",{className:s[1]},M({lb:o,cName:i,subCName:s,templateType:m,inputType:u,subFormTemplate:d,placeholder:p,disabled:b,autoFocus:h,unchangeable:g,selectObj:y,selectDataKey:v,textRow:w,selectOption:E,location:j,nextRef:O,ref:x,value:k,tpKey:n}))))}({tPt:a,rAv:n,bDt:r,rAvbDt:i,lDt:s,tpKey:t,tpIdx:u}):l?function(e){var t=e.tPt,a=(e.rAv,e.bDt,e.rAvbDt,e.lDt,e.tpKey),n=e.tpIdx,l=t[a],r=l.lb,o=l.cName,i=l.subCName;l.templateType,l.inputType,l.subFormTemplate,l.placeholder,l.disabled,l.autoFocus,l.unchangeable,l.selectObj,l.selectDataKey,l.iconActionIdx;return c.a.createElement("div",{key:n,className:"".concat(o)},c.a.createElement("div",{className:"flex-center-center"},c.a.createElement("div",{className:i[0],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},c.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},r)),c.a.createElement("div",{className:i[1]},c.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},c.a.createElement(L.l,{style:{fontSize:"1.5rem"}})))))}({tPt:a,rAv:n,bDt:r,rAvbDt:i,lDt:s,tpKey:t,tpIdx:u}):void 0}))}({tPt:t,rAv:a,bDt:i,rAvbDt:s,lDt:B}))};function na(e){var t,a=e.lb,n=e.formTemplate,l=e.stateTemplate,r=e.selectData,o=e.iconAction,s=e.iconActionData,u=e.iconActionDataDetail,b=e.loadData,f=e.keyName,g=e.setShow,y=e.calculation,v=e.detailTableTemplate,w=e.submitFunction,E=e.selectGroup,N=e.selectProduct,j=e.pageDataModalForm,O=e.dataUrl,x=e.myheader,k=Ce.genBlankState,S=Ce.genRefAndValue,T=Ce.combineLoadDataBlankState,C=ae.changeArrayFile,F=h.tableResize,D=c.a.useState(!1),I=Object(i.a)(D,2),P=I[0],R=I[1];c.a.useEffect((function(){P||R(!0)}),[P]);var A=c.a.useState(!0),M=Object(i.a)(A,2),B=M[0],L=M[1],G=c.a.useState(!0),U=Object(i.a)(G,2),H=U[0],_=U[1],z=c.a.createRef(),K=c.a.createRef(),q=k({template:l}).state,W=S({template:n,FData:q}),$=c.a.useState(function(){if(b){var e=T({template:l,loadData:b});return e.newId>=0&&(e=Object(p.a)({},e,{newId:e.id})),e}return q}()),V=Object(i.a)($,2),Y=V[0],Q=V[1],X=c.a.useState(null),J=Object(i.a)(X,2),Z=J[0],ee=J[1];c.a.useEffect((function(){P&&s&&Q(Object(p.a)({},Y,{},s))}),[s]),c.a.useEffect((function(){if(P&&u&&ge&&u.id>0){var e=[];Y.detail.map((function(t,a){if(ge.index==a){var n=Object(p.a)({},t,{},u);e=[].concat(Object(d.a)(e),[n])}else e=[].concat(Object(d.a)(e),[t])})),Q(Object(p.a)({},Y,Object(m.a)({},"detail",e)))}}),[u]);var te=c.a.useState(S({template:n,FData:Y})),ne=Object(i.a)(te,2),ce=ne[0],le=ne[1];c.a.useEffect((function(){if(P){var e=!1;if(Y&&Y.detail&&(e=!0),pe&&(e=!0),e){var t=Object.keys(pe),a={},c=!1;t.map((function(e){pe[e]&&pe[e].showSum&&(a=Object(p.a)({},a,Object(m.a)({},e,0)),c=!0)})),Y.detail.map((function(e,n){t.map((function(t){if(pe[t]&&pe[t].showSum){var c=a[t]+parseInt(1e4*e[t]);a=n==Y.detail.length-1?Object(p.a)({},a,Object(m.a)({},t,c/1e4)):Object(p.a)({},a,Object(m.a)({},t,c))}}))})),c&&ee(a)}var l=S({template:n,FData:Y});le(Object(p.a)({},l)),y&&H&&(Q(y(Y)),_(!1)),console.log("formInputState...................."),console.log(Y)}}),[Y]);var re=c.a.useState({width:1200,gridCol:""}),oe=Object(i.a)(re,2),se=oe[0],me=oe[1],ue=c.a.useState(v),de=Object(i.a)(ue,2),pe=de[0],be=de[1];c.a.useEffect((function(){F({tableTemplate:pe,showTable:se,setShowTable:me})}),[pe]);var fe=c.a.useState(null),he=Object(i.a)(fe,2),ge=he[0],ye=he[1];c.a.useEffect((function(){}),[ge]);var ve=c.a.useState(!0),we=Object(i.a)(ve,2),Ne=we[0],je=we[1],Oe=c.a.useState([]),xe=Object(i.a)(Oe,2),ke=xe[0],Se=xe[1],Te=c.a.useState([]),Fe=Object(i.a)(Te,2),De=Fe[0],Ie=Fe[1];c.a.useEffect((function(){P&&f&&"photoUrl1"==f[0]&&C({arrayFile:ke,fileUrl:De,setFileUrl:Ie,inputState:Y,setInputState:Q,keyName:f[0],setShowImage:je})}),[ke]);var Pe=c.a.useState(!0),Re=Object(i.a)(Pe,2),Ae=Re[0],Me=Re[1],Be=c.a.useState([]),Le=Object(i.a)(Be,2),Ge=Le[0],Ue=Le[1],He=c.a.useState([]),_e=Object(i.a)(He,2),ze=_e[0],Ke=_e[1];c.a.useEffect((function(){P&&f&&"photoUrl2"==f[1]&&C({arrayFile:Ge,fileUrl:ze,setFileUrl:Ke,inputState:Y,setInputState:Q,keyName:f[1],setShowImage:Me})}),[Ge]);var qe=c.a.useState(null),We=Object(i.a)(qe,2),$e=We[0],Ve=We[1],Ye=function(e,t){console.log("updateFilterData");var a=[];Y.detail.map((function(n,c){a=[].concat(Object(d.a)(a),e==c?[t]:[n])})),Q(Object(p.a)({},Y,{detail:a}))};return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{paddingBottom:"7rem"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",null,c.a.createElement("h1",null,a)),c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"1rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:z,onKeyDown:function(e){"ArrowRight"==e.key&&K.current.focus()},onClick:function(e){w&&w(Y)}},"Confirm")),c.a.createElement("div",null,c.a.createElement("button",{ref:K,onKeyDown:function(e){"ArrowLeft"==e.key&&K.current.focus()},onClick:function(e){Q(q),g(!1)}},"Cancel")))),c.a.createElement("div",{className:"Modal-body"},c.a.createElement("div",{className:"ModalInsideBody"},aa((t={cName:"form-row flex-justify-start flex-align-stretch bd-green",template:n,ref1:z,iconAction:o,refAndValue:ce,setRefAndValue:le,loadData:Y,setLoadData:Q,selectData:r,blankData:q,refAndValueBlankData:W,hidePassword:B,setHidePassword:L,tableTemplate:pe,setTableTemplate:be,showTable:se,setShowTable:me,selectRow:ge,setSelectRow:ye,setCalculate:_,sumAmount:Z,selectGroup:E,selectProduct:N,updateFilterData:Ye,editData:$e,setEditData:Ve},Object(m.a)(t,"updateFilterData",Ye),Object(m.a)(t,"insertUp",(function(){if(console.log("insertUp.......blankData"),console.log(q),Y.detail&&$e){var e=[];Y.detail.map((function(t,a){if($e._id==t._id){var n=Object(p.a)({},q.detail[0],{_id:ie()(),selectedLine:!1,result:0});e=[].concat(Object(d.a)(e),[n,t])}else e=[].concat(Object(d.a)(e),[t])})),Q(Object(p.a)({},Y,{detail:e}))}})),Object(m.a)(t,"insertDown",(function(){if(console.log("insertDown"),Y.detail&&$e){var e=[];Y.detail.map((function(t,a){if($e._id==t._id){var n=Object(p.a)({},q.detail[0],{_id:ie()(),selectedLine:!1,result:0});e=[].concat(Object(d.a)(e),[t,n]),t}else e=[].concat(Object(d.a)(e),[t])})),Q(Object(p.a)({},Y,{detail:e}))}})),Object(m.a)(t,"selectAll",(function(){if(console.log("selectAll"),Y.detail){var e=[];Y.detail.map((function(t){e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{selectedLine:!0})])})),Q(Object(p.a)({},Y,{detail:e})),Ve(null)}})),Object(m.a)(t,"unSelectAll",(function(){if(console.log("unSelectAll"),Y.detail){var e=[];Y.detail.map((function(t){e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{selectedLine:!1})])})),Q(Object(p.a)({},Y,{detail:e})),Ve(null)}})),Object(m.a)(t,"deleteLine",(function(){if(console.log("deleteLine"),Y.detail){var e=[];Y.detail.map((function(t){t.selectedLine||(e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{selectedLine:!1})]))})),Q(Object(p.a)({},Y,{detail:e})),Ve(null)}})),Object(m.a)(t,"getSelectAll",(function(){if(console.log("getSelectAll"),Y.detail){var e=[];N&&(N.map((function(t){t.selectedLine&&(e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{quantity:0,result:0})]))})),Q(Object(p.a)({},Y,{detail:[].concat(Object(d.a)(Y.detail),Object(d.a)(e))})))}})),Object(m.a)(t,"moveSelectedDown",(function(){if(console.log("moveSelectedDown"),Y.detail){var e=!0,t=[],a=[],n=[];Y.detail.map((function(c){$e._id==c._id?e=!1:0==c.selectedLine&&1==e?t=[].concat(Object(d.a)(t),[c]):0==c.selectedLine&&0==e?a=[].concat(Object(d.a)(a),[c]):n=[].concat(Object(d.a)(n),[c])}));var c=[].concat(Object(d.a)(t),[$e],Object(d.a)(n),Object(d.a)(a));Q(Object(p.a)({},Y,{detail:c}))}})),Object(m.a)(t,"moveSelectedUp",(function(){if(console.log("moveSelectedUp"),Y.detail){var e=!0,t=[],a=[],n=[];Y.detail.map((function(c){$e._id==c._id?e=!1:0==c.selectedLine&&1==e?t=[].concat(Object(d.a)(t),[c]):0==c.selectedLine&&0==e?a=[].concat(Object(d.a)(a),[c]):n=[].concat(Object(d.a)(n),[c])}));var c=[].concat(Object(d.a)(t),Object(d.a)(n),[$e],Object(d.a)(a));Q(Object(p.a)({},Y,{detail:c}))}})),Object(m.a)(t,"findProductIdByKeyDown",(function(){console.log("findProductIdByKeyDown")})),Object(m.a)(t,"findBarcodeByKeyDown",(function(){console.log("findBarcodeByKeyDown")})),Object(m.a)(t,"calDigit",100),Object(m.a)(t,"pageDataModalForm",j),Object(m.a)(t,"dataUrl",O),Object(m.a)(t,"myheader",x),t)))),f?c.a.createElement("div",{className:"xc12 form-row h-100",style:{justifyContent:"space-around"}},"photoUrl1"==f[0]?c.a.createElement("div",{className:"xc4 sc10 bgc-darkGray bd-lightGray h-100"},Ne?c.a.createElement(Ee,{fileUrl:De,arrayFile:ke,setArrayFile:Se,keyName:f[0],setShowImage:je,inputState:Y,setInputState:Q}):null):null,"photoUrl2"==f[1]?c.a.createElement("div",{className:"xc4 sc10 bgc-darkGray bd-lightGray h-100"},Ae?c.a.createElement(Ee,{fileUrl:ze,arrayFile:Ge,setArrayFile:Ue,keyName:f[1],setShowImage:Me,inputState:Y,setInputState:Q}):null):null):null))}na.defaultProps={lb:"Form",formTemplate:{},stateTemplate:{},selectData:{},iconAction:null,iconActionData:{},iconActionDataDetail:{},loadData:null,keyName:null,setShow:function(){},calculation:null,detailTableTemplate:null,submitFunction:null,selectGroup:null,selectProduct:[],modalFormTemplate:{insertUp:"Insert Up",insertDown:"Insert Down",selectAll:"Select All",unSelectAll:"Unselect All",moveUp:"Move Up",moveDown:"Move Down",delete:"Delete",import:"Import",selectImage:"Select Image"}};var ca=na,la=re.catchErrorToMessage,ra=ea.convertToObject,oa=ea.createGroupTree,ia=ea.findAllChildrenByGroupTree,sa=Xt.groupState;function ma(e){var t=e.groupDataUrl,a=e.canGroupChange,n=e.selectData,l=e.setSelectGroup,r=e.filterDataByGroup,o=e.editData,s=e.groupFormTemplate,b=e.groupEditFormTemplate,h=e.groupAddFormTitle,g=e.groupEditFormTitle;console.log("NewGroupComponent");var y=c.a.useContext(R).myheader,v=c.a.useState({reloadGroup:!0,groupTree:null,openArray:[1],tempObj:null,mainGroup:null,lastRecordGroup:{id:0},showError:!1,message:null,showAdd:!1,showEdit:!1,showConfirm:!1,allDeleteId:[]}),w=Object(i.a)(v,2),E=w[0],N=w[1],j=c.a.useState(null),O=Object(i.a)(j,2),x=O[0],k=O[1],S=function(e){var t=e.data,a=e.id,n=e.key,c=e.value,l=e.openArray;console.log("changeKeyInData");var r=[];0==c&&l.map((function(e,t){e!=a&&(r=[].concat(Object(d.a)(r),[e]))})),1==c&&(r=[].concat(Object(d.a)(l),[a]));var o=[];return t&&t.map((function(e){o=e.id==a?[].concat(Object(d.a)(o),[Object(p.a)({},e,Object(m.a)({},n,c))]):[].concat(Object(d.a)(o),[e])})),{groupTree:o,openArray:r}},T=function(e){var a=e.mainGroup,n=e.openArray;console.log("reloadAxios");var c={$or:[{parentId:1},{id:1}]};a>0&&(c={$or:[{parentId:1},{id:1},{mainGroup:a}]});var l=[1];a>1&&(l=[1,a]),n&&(l=n),t&&f.a.post("/".concat(t,"/getcustom"),c,y).then((function(e){var t=oa({group:e.data.data,openArrayIn:l}),n=t.groupTree,c=t.openArray,r=(ra(n,sa),Object(p.a)({},E,{groupTree:n,openArray:c,tempObj:ra(n,sa),lastRecordGroup:{id:e.data.lastRecordId},reloadGroup:!1,showAdd:!1,showEdit:!1,showConfirm:!1,mainGroup:a}));N(r)})).catch((function(e){la(e,(function(e){N(Object(p.a)({},E,{message:e}))}));var t=Object(p.a)({},E,{reloadGroup:!1,showError:!0});console.log(t)}))},C=function(){var e=Object(p.a)({},E,{showError:!0});N(e)};return c.a.useEffect((function(){E.reloadGroup&&T({mainGroup:null,openArray:null})}),[E]),c.a.createElement("div",{className:"bgc-lightGray",style:{height:"100%"}},c.a.createElement(Zt,{tempObj:E.tempObj,canGroupChange:a,selectGroupObjectId:x?x.id:null,folderOpenFunc:function(e){if(e.id>1){var t=E.groupTree,a=S({data:t,id:e.id,key:"open",value:!1,openArray:E.openArray}),n=ra(a.groupTree,sa),c=Object(p.a)({},E,{tempObj:n,groupTree:a.groupTree,openArray:a.openArray});N(c)}},folderClosePlusFunc:function(e){if(1!=e.parentId){var t=E.groupTree,a=S({data:t,id:e.id,key:"open",value:!0,openArray:E.openArray}),n=ra(a.groupTree,sa),c=Object(p.a)({},E,{tempObj:n,groupTree:a.groupTree,openArray:a.openArray});N(c)}else T({mainGroup:e.id,openArray:null})},folderCloseFunc:function(e){if(1!=e.parentId){var t=E.groupTree,a=S({data:t,id:e.id,key:"open",value:!0,openArray:E.openArray}),n=ra(a.groupTree,sa),c=Object(p.a)({},E,{tempObj:n,groupTree:a.groupTree,openArray:a.openArray});N(c)}else T({mainGroup:e.id,openArray:null})},pOpenFunc:function(e){if(console.log("filterGroup : ".concat(e.id)),r(e),1==e.parentId){e.folders;var t=Object(u.a)(e,["folders"]);k(t),T({mainGroup:e.id,openArray:null})}else{e.folders;var a=Object(u.a)(e,["folders"]);k(a)}},pCloseFunc:function(e){if(console.log("filterGroup : ".concat(e.id)),r(e),1==e.parentId){e.folders;var t=Object(u.a)(e,["folders"]);k(t),T({mainGroup:e.id,openArray:null})}else{e.folders;var a=Object(u.a)(e,["folders"]);k(a)}},delFunc:function(){var e=Object(p.a)({},E,{showConfirm:!0});N(e)},addFunc:function(){var e=Object(p.a)({},E,{showAdd:!0});N(e)},editFunc:function(){var e=Object(p.a)({},E,{showEdit:!0});N(e)},refreshFunc:function(){T({mainGroup:null,openArray:null})},zoomFunc:function(){if(console.log("zoomFunc"),o){var e={id:o.groupId};f.a.post("/".concat(t,"/getcustom"),e,y).then((function(e){var t=e.data.data[0];T({mainGroup:t.mainGroup,openArray:t.parentGroup})})).catch((function(e){la(e,(function(e){N(Object(p.a)({},E,{message:e}))}))}))}},setEditGroupFunc:function(e){e.folders;var t=Object(u.a)(e,["folders"]);k(t),l(t)}}),E.showConfirm?c.a.createElement(ft,{setShow:function(){var e=Object(p.a)({},E,{showConfirm:!1});N(e)},submitFunction:function(){console.log("delFunc");var e=ia(x.id,E.groupTree);!function(e,a,n){var c={id:e,parentId:a,allDeleteId:n};t&&f.a.post("/".concat(t,"/deletegroup"),c,y).then((function(e){T({mainGroup:E.mainGroup,openArray:E.openArray})})).catch((function(e){la(e,(function(e){N(Object(p.a)({},E,{message:e}))}))}))}(x.id,x.parentId,e.allDeleteId)}}):null,E.showAdd?c.a.createElement(ca,{lb:h,formTemplate:s,stateTemplate:ge.groupState,loadData:{id:E.lastRecordGroup.id+1,parentId:x.id,mainGroup:x.mainGroup,parentGroup:[].concat(Object(d.a)(x.parentGroup),[x.id])},submitFunction:function(e){console.log("addFunc"),function(e){var a=e;console.log("formInputState"),console.log(e),1==e.parentId&&(a.mainGroup=a.id),t&&f.a.post("/".concat(t,"/addgroup"),a,y).then((function(e){T({mainGroup:E.mainGroup,openArray:E.openArray})})).catch((function(e){C()}))}(e)},setShow:function(){var e=Object(p.a)({},E,{showAdd:!1});N(e)},selectData:n}):null,E.showEdit?c.a.createElement(ca,{lb:g,formTemplate:b,stateTemplate:ge.groupState,loadData:Object(p.a)({},x,{newId:x.id,newParentId:x.parentId}),submitFunction:function(e){var a=e.id,n=e.newId,c=e.parentId,l=e.newParentId,r=e.mainGroup;e.parentGroup;n=parseInt(n),l=parseInt(l);var o=Object(p.a)({},e,{newId:n,parentId:c});if(n!=a&&n>1){var i=null;i=1==c?n:r,o=Object(p.a)({},o,{newMainGroup:i});var s,m=ia(a,E.groupTree),b=m.allDeleteId,h=m.allDeleteObject,g=[];h.map((function(e,t){if(t>0){var c=[];e.parentGroup.map((function(e){c=[].concat(Object(d.a)(c),e==a?[n]:[e])}));var l=c[c.length-1],r=Object(p.a)({},e,{mainGroup:i,parentId:l,parentGroup:c});g=[].concat(Object(d.a)(g),[r])}})),E.groupTree.map((function(e){if(e.id==c){e._id,e.v;var t=Object(u.a)(e,["_id","v"]);s=t}}));var v=[];s.children.map((function(e){v=[].concat(Object(d.a)(v),e==a?[n]:[e])})),s=Object(p.a)({},s,{children:v});var w=Object(p.a)({},o,{id:n,mainGroup:i}),N=Object(p.a)({},o,{deleteMany:[s.id].concat(Object(d.a)(b)),create:[s,w].concat(Object(d.a)(g))});f.a.post("/".concat(t,"/updategroup"),N,y).then((function(e){T({mainGroup:E.mainGroup,openArray:E.openArray})})).catch((function(e){C()}))}else if(c!=l&&l>0){var j,O=ia(a,E.groupTree),x=O.allDeleteId,k=O.allDeleteObject;E.groupTree.map((function(e){if(e.id==c){e._id,e.v;var t=Object(u.a)(e,["_id","v"]);j=t}}));var S=Object(p.a)({},o,{parentObject:j,allChildrenId:x,tempAllChilden:k});f.a.post("/".concat(t,"/updategroup"),S,y).then((function(e){T({mainGroup:E.mainGroup,openArray:E.openArray})})).catch((function(e){C()}))}else f.a.post("/".concat(t,"/updategroup"),o,y).then((function(e){T({mainGroup:E.mainGroup,openArray:E.openArray})})).catch((function(e){C()}))},setShow:function(){var e=Object(p.a)({},E,{showEdit:!1});N(e)},selectData:n}):null,E.showError?ht({setShow:function(){var e=Object(p.a)({},E,{showError:!1});N(e)},message:E.message,setMessage:function(){}}):null)}ma.defaultProps={groupAddFormTitle:"Add Group",groupEditFormTitle:"Edit Group"};var ua,da=ma,pa=function(e){var t=e.filterData,a=e.setFilterData,n=e.basicData,l=e.customerConfirmForm,r=e.submitFunc,o=e.cancelFunc,i=function(e,n){var c=Object(p.a)({},t.customerConfirm,Object(m.a)({},n,e.target.value));a(Object(p.a)({},t,{customerConfirm:c}))},s=function(e,r){return e.formHead?null:"partnerId"==e||"name"==e?c.a.createElement("div",{className:"flex-center-center jc-start w-100",key:r},c.a.createElement("div",{className:"xc4"},l[e]),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{value:t.customerConfirm[e],onChange:function(t){return i(t,e)}}))):"title"==e||"partnerType"==e?c.a.createElement("div",{className:"flex-center-center jc-start w-100",key:r},c.a.createElement("div",{className:"xc4"},l[e]),c.a.createElement("div",{className:"xc8"},c.a.createElement("select",{onChange:function(t){i(t,e)}},n[e].map((function(a,n){return c.a.createElement("option",{key:n,selected:t.customerConfirm[e]==a?"selected":""},a)}))))):"phone"==e?t.customerConfirm[e].map((function(n,r){return c.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{margin:"0.2rem 0"},key:r},c.a.createElement("div",{className:"xc4"},0==r?l[e]:null),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{value:n,onChange:function(n){!function(e,n,c){var l=[];t.customerConfirm[n].map((function(t,a){l=[].concat(Object(d.a)(l),c==a?[e.target.value]:[t])}));var r=Object(p.a)({},t.customerConfirm,Object(m.a)({},n,l));a(Object(p.a)({},t,{customerConfirm:r}))}(n,e,r)}})))})):"address"==e?c.a.createElement("div",{className:"flex-center-center jc-start w-100",key:r},c.a.createElement("div",{className:"xc4"},l[e]),c.a.createElement("div",{className:"xc8"},c.a.createElement("select",{onChange:function(e){!function(e,n){var c=Object(p.a)({},t.customerConfirm,Object(m.a)({},"selectedAddress",e.target.value));a(Object(p.a)({},t,{customerConfirm:c}))}(e)}},t.customerConfirm[e].map((function(e,t){return c.a.createElement("option",{key:t,selected:0==t?"selected":""},e)}))))):void 0};return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box"},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("h4",null,l.formHead)),c.a.createElement("div",{className:"w-100",style:{marginBottom:"1rem"}},Object.keys(l).map((function(e,t){return c.a.createElement("div",{key:t,style:{margin:"0.2rem 0"}},s(e,t))}))),c.a.createElement("div",{className:"Modal-footer"},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){r()}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){o()}},c.a.createElement(L.a,null))))))},ba=function(e){var t=e.editTransaction,a=e.submitFunc,n=e.cancelFunc,l=e.pageData,r=e.changeIncludeTransactionHead,o=e.includeTransactionHead,i=t.transactionType,s=t.id,m=t.transactionStatus,u=t.date,d=t.table,p=t.tableStatus,b=t.partnerId,f=t.title,h=t.name,g=t.phone,y=t.address,v=l.transactionConfirmForm,w=function(e){var t=new Date(e).toISOString(),a=new Date(t).toLocaleString("fr-ca"),n=new Date(t).toLocaleString("en-GB");return{date:a.substring(0,10),time:n.substring(12,17)}};return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{width:"70%"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("h4",null,v.formHead)),c.a.createElement("div",{className:"w-100"},c.a.createElement("div",{className:"h-100 w-100"},c.a.createElement("div",null,"".concat(i," ").concat(v.id,": ").concat(s," (").concat(m,")")),c.a.createElement("div",null,"".concat(v.date,": ").concat(w(u).date," ,").concat(w(u).time)),c.a.createElement("div",null,"".concat(v.table,": ").concat(d,"(").concat(p,")")),c.a.createElement("div",null,"".concat(v.partnerId,":").concat(b,", ").concat(f," ").concat(h)),c.a.createElement("div",null,"".concat(v.phone,": ").concat(function(e){var t=function(e){var t=Array.from(e),a="";return t.map((function(e,t){a=3==t||6==t?"".concat(a," ").concat(e):"".concat(a).concat(e)})),a},a="";return e.map((function(n,c){a=c==e.length-1?"".concat(a).concat(t(n)):"".concat(a).concat(t(n),",")})),a}(g))),c.a.createElement("div",null,"".concat(v.address,": ").concat(y)),c.a.createElement("div",{className:"flex-center-center jc-start"},c.a.createElement("div",{className:"xc1"},c.a.createElement("input",{type:"checkbox",checked:o,onChange:function(e){return r(e.target.checked)}})),c.a.createElement("div",null,v.includeTransactionHead)))),c.a.createElement("div",{className:"Modal-footer"},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){a()}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){n()}},c.a.createElement(L.a,null))))))},fa={productInputState:{id:{toCheck:!1,min:0,max:0},barcode:{toCheck:!1,value:""},productName:{toCheck:!1,value:""},price:{toCheck:!1,min:0,max:0},stock:{toCheck:!1,min:0,max:0},active:{toCheck:!0,value:!0},isRawMat:{toCheck:!1,value:!1},remark:{toCheck:!1,value:""}},partnerInputState:{id:{toCheck:!1,min:0,max:0},title:{toCheck:!1,value:""},name:{toCheck:!1,value:""},phone:{toCheck:!1,value:""},active:{toCheck:!0,value:!0},remainingCustomerPoint:{toCheck:!1,min:0,max:0},totalSpending:{toCheck:!1,min:0,max:0},remark:{toCheck:!1,value:""}},transactionInputState:{id:{toCheck:!1,min:0,max:0},date:{toCheck:!1,min:(new Date).toISOString(),max:(new Date).toISOString()},transactionType:{toCheck:!1,value:""},transactionStatus:{toCheck:!1,value:"open"},active:{toCheck:!0,value:!0},table:{toCheck:!1,value:""},tableStatus:{toCheck:!1,value:"open"},partnerId:{toCheck:!1,min:0,max:0},name:{toCheck:!1,value:""},phone:{toCheck:!1,value:""},queueStatus:{toCheck:!1,value:"open"}},stickerInputState:{id:{toCheck:!1,min:0,max:0},recordName:{toCheck:!1,value:""},date:{toCheck:!1,min:(new Date).toISOString(),max:(new Date).toISOString()},recordBy:{toCheck:!1,value:""},productData_code:{toCheck:!1,value:""},productData_name:{toCheck:!1,value:""}},billMenuInputState:{id:{toCheck:!1,min:0,max:0},date:{toCheck:!1,min:(new Date).toISOString(),max:(new Date).toISOString()},transactionType:{toCheck:!1,value:""},active:{toCheck:!0,value:!0},tableStatus:{toCheck:!0,value:"open"}}},ha=function(e){var t=e.filterData,a=e.setPageNumber,n=e.totalSwapPage,l=e.setSwapState,r=e.setReloadData,o=e.setShowFilter,i=e.setShowAdd,s=e.setShowEdit,m=e.setShowModalCsv,u=e.setShowModalConfirm,p=e.setUnSelectAll,b=e.setClose,f=e.setShowForwardConfirm,h=(e.captureSelect,e.bgColor),g=t.badgeState,y=t.pageNumber,v=t.limitRow,w=t.sort,E=t.count,N=t.swapState,j=t.editData,O=t.selectProduct,x=g.swapShow,k=g.swapFunc,S=g.reloadShow,T=g.reloadFunc,C=g.filterShow,F=g.filterFunc,D=g.addShow,I=g.addFunc,P=g.editShow,R=g.editFunc,A=g.delShow,M=g.delFunc,B=g.printerShow,L=g.printerFunc,U=g.csvShow,H=g.csvFunc,_=g.closeShow,z=g.closeFunc,K=g.forwardShow,q=g.forwardFunc,$=(g.pageNumberShow,g.bullEyeShow),V=g.unSelectShow,Y=function(){return Math.ceil(E/v)};return c.a.createElement("div",{className:"badge-frame-xc12",style:{background:h}},c.a.createElement("div",{className:"flex-center-center flex-no-wrap xc12 jc-start",style:{justifyContent:"flex-start"}},x?c.a.createElement("div",{className:"iconbox",onClick:function(e){N<n-1&&l(N+1),N==n-1&&l(0),k&&k()}},c.a.createElement(W,{iconName:"MdSwapHoriz",className:"sm-icon",textStyle:{color:"black"}})):null,S?c.a.createElement("div",{className:"iconbox",onClick:function(e){r(!0),T&&T({limitRow:v,sort:w})}},c.a.createElement(W,{iconName:"MdRefresh",className:"sm-icon",textStyle:{color:"black"}})):null,C?c.a.createElement("div",{className:"iconbox",onClick:function(e){o(!0),F&&F()}},c.a.createElement(W,{iconName:"MdSearch",className:"sm-icon",textStyle:{color:"black"}})):null,D?c.a.createElement("div",{className:"iconbox",onClick:function(e){i(!0),I&&I()}},c.a.createElement(W,{iconName:"MdAddCircle",className:"sm-icon",textStyle:{color:"black"}})):null,P?c.a.createElement("div",{className:"iconbox",onClick:function(e){j&&(s(!0),R&&R())}},c.a.createElement(W,{iconName:"MdEdit",className:"sm-icon",textStyle:{color:"black"}})):null,A?c.a.createElement("div",{className:"iconbox",onClick:function(e){u(!0),M&&M()}},c.a.createElement(W,{iconName:"MdDelete",className:"sm-icon",textStyle:{color:"black"}})):null,B?c.a.createElement("div",{className:"iconbox",onClick:function(e){window.print(),L&&L()}},c.a.createElement(W,{iconName:"MdPrint",className:"sm-icon",textStyle:{color:"black"}})):null,U?c.a.createElement("div",{className:"iconbox",onClick:function(e){m(!0),H&&H()}},c.a.createElement(W,{iconName:"FaFileCsv",className:"sm-icon",textStyle:{color:"black"}})):null,K?c.a.createElement("div",{className:"iconbox",onClick:function(e){f(!0),q&&q()}},c.a.createElement(W,{iconName:"RiShareForwardLine",className:"sm-icon",textStyle:{color:"black"}})):null,_?c.a.createElement("div",{className:"iconbox",onClick:function(e){b&&b(),z&&z()}},c.a.createElement(W,{iconName:"MdClose",className:"sm-icon",textStyle:{color:"black"}})):null,V?c.a.createElement("div",{className:"iconbox",onClick:function(e){p&&p()}},c.a.createElement(W,{iconName:"FaBullseye",className:"sm-icon",textStyle:{color:"black"}})):null,$?c.a.createElement("div",{className:"bd-black",style:{display:"flex",justifyContent:"center",alignItems:"center",margin:"10px"}},c.a.createElement(W,{iconName:"MdRadioButtonChecked",className:"sm-icon",textStyle:{color:"black"}}),c.a.createElement("div",{style:{marginRight:"10px"}},function(){var e=[];O.map((function(t){e=[].concat(Object(d.a)(e),[t.id])})),e=new Set(e);var t=0,a=!0,n=!1,c=void 0;try{for(var l,r=function(){var e=l.value,a=!1;O.map((function(t){t.id==e&&(a=!!t.selectedLine)})),a&&(t+=1)},o=e[Symbol.iterator]();!(a=(l=o.next()).done);a=!0)r()}catch(i){n=!0,c=i}finally{try{a||null==o.return||o.return()}finally{if(n)throw c}}return t}())):null,c.a.createElement("div",null,c.a.createElement(G.g,{className:"sm-icon",style:{visibility:Y()>1&&y>1?"visible":"hidden"},onClick:function(e){var t=parseInt(y)-1;a(t)}})),Y()>1?c.a.createElement("input",{type:"number",style:{width:"70px"},value:y.toString(),onChange:function(e){var t=parseInt(e.target.value);(t<=Y()||!t)&&a(t)}}):null,Y()>1?c.a.createElement("div",{style:{paddingTop:"1rem"}},c.a.createElement("p",null,"/".concat(Y()))):null,Y()>1&&y<Y()?c.a.createElement("div",null,c.a.createElement(G.h,{className:"sm-icon",onClick:function(e){var t=parseInt(y)+1;a(t)}})):null,Y()>1&&y<Y()?c.a.createElement("div",null,c.a.createElement(G.n,{className:"sm-icon",onClick:function(e){var t=parseInt(Y());a(t)}})):null))},ga=(ua={data0:null,detail0:null,count:0,lastRecordId:null,showRange:!0,widthLeft:25,heightTop:70,pageNumber:1,limitRow:10,sort:{id:1},qry:{},tableTemplate:null,reloadData:!0,message:null,showModalError:!1,editData:null,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!1,addFunc:function(){},editShow:!1,editFunc:function(){},delShow:!1,delFunc:function(){},printerShow:!1,printerFunc:function(){},csvShow:!1,closeShow:!0,closeFunc:function(){},forwardShow:!1,bullEyesShow:!1,unSelectShow:!1},rawMatBadgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!1,addFunc:function(){},editShow:!1,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!1,printerFunc:function(){},closeShow:!0,closeFunc:function(){}},selectProduct:[],showEdit:!1,showAdd:!1,showModalConfirm:!1},Object(m.a)(ua,"showModalError",!1),Object(m.a)(ua,"message",null),Object(m.a)(ua,"iconActionData",null),Object(m.a)(ua,"iconActionDataDetail",null),ua);a(87);function ya(e){var t=e.onMyClick,a=e.value,n=e.style,l=e.styleIcon,r=e.showDateOption,o=e.timeOption,s=e.days,m=e.thaiMonths,u=c.a.useState(function(e){if(e){var t=new Date(e);if(o){var a=o.hour,n=o.minute,c=o.second;t=new Date(t.setHours(a,n,c))}return t}return new Date}(a)),b=Object(i.a)(u,2),f=b[0],h=b[1];c.a.useEffect((function(){}),[f]);var g=c.a.useState(!1),y=Object(i.a)(g,2),v=y[0],w=y[1];return v?c.a.createElement("div",{className:"container",style:{width:"100vw",height:"100vh"}},c.a.createElement("div",{className:"calendar"},c.a.createElement("div",{className:"month"},c.a.createElement("div",{className:"arrow",onClick:function(e){var t=f.setFullYear(f.getFullYear()-1);t=new Date(t),h(t)}},c.a.createElement("i",null,"<<")),c.a.createElement("div",{className:"arrow",onClick:function(e){var t=f.setMonth(f.getMonth()-1);t=new Date(t),h(t)}},c.a.createElement("i",null,"<")),c.a.createElement("div",{className:"date"},c.a.createElement("div",null,function(e){var t=m[e.getMonth()],a=e.getFullYear();return"".concat(t,"-").concat(a)}(f))),c.a.createElement("div",{className:"arrow",onClick:function(e){var t=f.setMonth(f.getMonth()+1);t=new Date(t),h(t)}},c.a.createElement("i",null,">")),c.a.createElement("div",{className:"arrow",onClick:function(e){var t=f.setFullYear(f.getFullYear()+1);t=new Date(t),h(t)}},c.a.createElement("i",null,">>")),c.a.createElement(G.i,{className:"md-icon",onClick:function(e){w(!v)}})),c.a.createElement("div",{className:"weekdays"},s.map((function(e,t){return c.a.createElement("div",{key:t},e)}))),c.a.createElement("div",{className:"days"},function(e){for(var t=new Date(e.getFullYear(),e.getMonth(),0),a=t.getDay(),n=t.getDate(),c=[],l=n-a;l<=n;l++)c=[].concat(Object(d.a)(c),[l]);return c}(f).map((function(e,t){return c.a.createElement("div",{key:t,className:"prev-date"},e)})),function(e){for(var t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate(),a=[],n=1;n<=t;n++)a=[].concat(Object(d.a)(a),[n]);return a}(f).map((function(e,a){return c.a.createElement("div",{key:a,className:e==f.getDate()?"today":null,onClick:function(a){!function(e,a){var n=a.setDate(e);n=new Date(n),h(n),t(n.toISOString())}(e,f),w(!1)}},e)})),function(e){for(var t=new Date(e.getFullYear(),e.getMonth()+1,0).getDay(),a=[],n=1;n<=6-t;n++)a=[].concat(Object(d.a)(a),[n]);return a}(f).map((function(e,t){return c.a.createElement("div",{key:t,className:"next-date"},e)}))))):c.a.createElement("div",{style:Object(p.a)({width:"100%",height:"100%",backgroundColor:"white",display:"flex",justifyContent:"flex-start",alignItems:"center",borderRadius:"5px 5px"},n)},c.a.createElement(L.z,{style:l,onClick:function(e){return w(!0)}}),function(e){if(e){var t=new Date(e);if(o){var a=o.hour,n=o.minute,c=o.second;t=new Date(t.setHours(a,n,c))}var l=t.toLocaleString("en-GB");return"date"==r?l.substring(0,10):"datetime"==r?l:"time"==r?l.substring(12,21):"--"}return"--"}(a))}ya.defaultProps={onMyClick:function(){},showDateOption:"date",value:(new Date).toISOString(),days:["Su","Mo","Tu","Wd","Th","Fr","Sa"],thaiMonths:["01","02","03","04","05","06","07","08","09","10","11","12"],timeOption:null};var va=ya,wa=et.changeKeyKey,Ea=re.genSortFromSortState,Na=re.genSortStateFromSort,ja=function(e){e.show,e.setShow;var t=e.filterTemplate,a=e.inputState,n=e.setInputState,l=e.limitRow,r=e.setLimitRow,o=e.sort,s=e.setSort,u=e.filterAxios,b=e.basicData,f=e.LB;console.log("ModalFilterInput");var h=c.a.useState(Na(o)),g=Object(i.a)(h,2),y=g[0],v=g[1],w=c.a.useState(a),E=Object(i.a)(w,2),N=E[0],j=E[1],O=c.a.useState(!0),x=Object(i.a)(O,2),k=x[0],S=x[1];c.a.useEffect((function(){n(N)}),[N]),c.a.useEffect((function(){var e=Ea(y);s(e)}),[y]);return c.a.createElement("div",null,c.a.createElement("div",{className:"flex-center-center h-100"},c.a.createElement("h5",null,f.formHead),k?c.a.createElement(L.d,{className:"sm-icon",onClick:function(e){S(!k)}}):c.a.createElement(L.e,{className:"sm-icon",onClick:function(e){S(!k)}})),k?c.a.createElement("div",null,c.a.createElement("div",{className:"flex-center-center jc-start h-100"},c.a.createElement("h5",null,f.subject)),c.a.createElement("div",{className:"flex-center-center jc-start h-100"},t.map((function(e,t){return"number"==e.templateType||"arrayNumber"==e.templateType||"objectNumber"==e.templateType||"arrayObjectNumber"==e.templateType||"arrayObjectArrayNumber"==e.templateType?function(e,t){return c.a.createElement("div",{key:t,className:e.cName,style:{paddingTop:"0.2rem"}},c.a.createElement("div",{className:"flex-center-center flex-no-wrap"},c.a.createElement("div",{className:e.subCName[0],style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("input",{style:{height:"1.5rem"},type:"checkbox",checked:N[e.keyName].toCheck,ref:e.refInput[0],onKeyDown:function(e){},onChange:function(t){wa({key:e.keyName,subKey:"toCheck",value:t.target.checked,inputState:N,setInputState:j})}})),c.a.createElement("div",{className:e.subCName[1],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},c.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},e.lb)),c.a.createElement("div",{className:e.subCName[2]},c.a.createElement("div",{className:"xc12 flex-center-baseline"},c.a.createElement("div",{className:"xc6",style:{paddingLeft:"0.2rem"}},"date"==e.inputType?c.a.createElement(va,{style:{height:"1.6rem",fontSize:"0.8rem"},onMyClick:function(t){var a=new Date(t).toLocaleString("fr-ca").substring(0,10),n="".concat(a," 00:00:01"),c=new Date(n).toISOString();wa({key:e.keyName,subKey:"min",value:c,inputState:N,setInputState:j})},value:N[e.keyName].min}):c.a.createElement("input",{style:{width:"100%"},type:e.inputType,value:N[e.keyName].min,ref:e.refInput[1],onKeyDown:function(e){},onChange:function(t){wa({key:e.keyName,subKey:"min",value:"number"==t.target.type?t.target.value?parseFloat(t.target.value):0:t.target.value,inputState:N,setInputState:j})}})),c.a.createElement("div",{className:"xc6",style:{paddingLeft:"0.2rem"}},"date"==e.inputType?c.a.createElement(va,{style:{height:"1.6rem",fontSize:"0.8rem"},onMyClick:function(t){var a=new Date(t).toLocaleString("fr-ca").substring(0,10),n="".concat(a," 23:59:59"),c=new Date(n).toISOString();wa({key:e.keyName,subKey:"max",value:c,inputState:N,setInputState:j})},value:N[e.keyName].max}):c.a.createElement("input",{style:{width:"100%"},type:e.inputType,value:N[e.keyName].max,ref:e.refInput[2],onKeyDown:function(e){},onChange:function(t){wa({key:e.keyName,subKey:"max",value:"number"==t.target.type?t.target.value?parseFloat(t.target.value):0:t.target.value,inputState:N,setInputState:j})}}))))))}(e,t):"boolean"==e.templateType||"arrayBoolean"==e.templateType||"objectBoolean"==e.templateType||"arrayObjectBoolean"==e.templateType||"arrayObjectArrayBoolean"==e.templateType?function(e,t){return c.a.createElement("div",{key:t,className:e.cName,style:{height:"100%",width:"100%",paddingTop:"0.2rem"}},c.a.createElement("div",{className:"flex-center-center flex-no-wrap"},c.a.createElement("div",{className:e.subCName[0],style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("input",{style:{height:"1.5rem"},type:"checkbox",checked:N[e.keyName].toCheck,ref:e.refInput[0],onKeyDown:function(e){},onChange:function(t){wa({key:e.keyName,subKey:"toCheck",value:t.target.checked,inputState:N,setInputState:j})}})),c.a.createElement("div",{className:e.subCName[1],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},c.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},e.lb)),c.a.createElement("div",{className:"".concat(e.subCName[2]),style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("input",{style:{height:"1.5rem"},type:e.inputType,checked:N[e.keyName].value,ref:e.refInput[1],onKeyDown:function(e){},onChange:function(t){wa({key:e.keyName,subKey:"value",value:t.target.checked,inputState:N,setInputState:j})}}))))}(e,t):"selectObj"==e.templateType?function(e,t){var a=e.selectObj;return c.a.createElement("div",{key:t,className:e.cName,style:{height:"100%",width:"100%",paddingTop:"0.2rem"}},c.a.createElement("div",{className:"flex-center-center flex-no-wrap"},c.a.createElement("div",{className:e.subCName[0],style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("input",{style:{height:"1.5rem"},type:"checkbox",checked:N[e.keyName].toCheck,ref:e.refInput[0],onKeyDown:function(e){},onChange:function(t){wa({key:e.keyName,subKey:"toCheck",value:t.target.checked,inputState:N,setInputState:j})}})),c.a.createElement("div",{className:e.subCName[1],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},c.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},e.lb)),c.a.createElement("div",{className:"".concat(e.subCName[2]),style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"0.25rem"}},c.a.createElement("select",{style:{height:"100%"},onChange:function(t){wa({key:e.keyName,subKey:"value",value:t.target.value,inputState:N,setInputState:j})}},c.a.createElement("option",null,"..."),b?b[a].map((function(e,t){return c.a.createElement("option",{key:t},e)})):null))))}(e,t):"selectArrayObj"==e.templateType?function(e,t){var a=e.selectArrayObj;return c.a.createElement("div",{key:t,className:e.cName,style:{height:"100%",width:"100%",paddingTop:"0.2rem"}},c.a.createElement("div",{className:"flex-center-center flex-no-wrap"},c.a.createElement("div",{className:e.subCName[0],style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("input",{style:{height:"1.5rem"},type:"checkbox",checked:N[e.keyName].toCheck,ref:e.refInput[0],onKeyDown:function(e){},onChange:function(t){wa({key:e.keyName,subKey:"toCheck",value:t.target.checked,inputState:N,setInputState:j})}})),c.a.createElement("div",{className:e.subCName[1],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},c.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},e.lb)),c.a.createElement("div",{className:"".concat(e.subCName[2]),style:{display:"flex",justifyContent:"center",alignItems:"center",paddingLeft:"0.25rem"}},c.a.createElement("select",{style:{height:"100%"},onChange:function(t){wa({key:e.keyName,subKey:"value",value:t.target.value,inputState:N,setInputState:j})}},c.a.createElement("option",null,"..."),b?b[a[0]].map((function(e,t){return c.a.createElement("option",{key:t},e[a[1]])})):null))))}(e,t):function(e,t){return c.a.createElement("div",{key:t,className:e.cName,style:{paddingTop:"0.2rem"}},c.a.createElement("div",{className:"flex-center-center flex-no-wrap"},c.a.createElement("div",{className:e.subCName[0],style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("input",{style:{height:"1.5rem"},type:"checkbox",checked:N[e.keyName].toCheck,ref:e.refInput[0],onKeyDown:function(e){},onChange:function(t){wa({key:e.keyName,subKey:"toCheck",value:t.target.checked,inputState:N,setInputState:j})}})),c.a.createElement("div",{className:e.subCName[1],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},c.a.createElement("p",{className:"label table-p",style:{margin:"auto 0"}},e.lb)),c.a.createElement("div",{className:"".concat(e.subCName[2]),style:{paddingLeft:"0.25rem"}},c.a.createElement("input",{type:e.inputType,value:N[e.keyName].value,ref:e.refInput[1],onKeyDown:function(e){e.key},onChange:function(t){wa({key:e.keyName,subKey:"value",value:t.target.value.replace(/\s{2}$/," "),inputState:N,setInputState:j})}}))))}(e,t)}))),c.a.createElement("div",{className:"pt-2"},c.a.createElement("h5",null,f.sortBySubject)),y?function(){var e=Object.keys(y),a=[];return t.map((function(e){"string"!=e.templateType&&"number"!=e.templateType&&"date"!=e.templateType||(a=[].concat(Object(d.a)(a),[e]))})),c.a.createElement("div",{className:"w-100"},e.map((function(e,n){return c.a.createElement("div",{key:n,className:t[0].cName},c.a.createElement("div",{className:"flex-center-center"},c.a.createElement("div",{className:t[0].subCName[0],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},1==y[e].toAscending?c.a.createElement(L.v,{className:"md-icon",onClick:function(t){var a=y[e];a.toAscending=-1,v(Object(p.a)({},y,Object(m.a)({},e,a)))}}):c.a.createElement(L.y,{className:"md-icon",onClick:function(t){var a=y[e];a.toAscending=1,v(Object(p.a)({},y,Object(m.a)({},e,a)))}})),c.a.createElement("div",{className:t[0].subCName[1],style:{display:"flex",justifyContent:"flex-start",alignItems:"center"}},c.a.createElement("p",{className:"table-p",style:{margin:"auto 0"}},"".concat(n+1))),c.a.createElement("div",{className:t[0].subCName[2]},c.a.createElement("select",{type:"select",className:"w-100",value:y[e].sortName?y[e].sortName:"",onChange:function(t){var a=y[e];a.sortName=t.target.value,v(Object(p.a)({},y,Object(m.a)({},e,a))),s(Object(p.a)({},y,Object(m.a)({},e,a)))}},c.a.createElement("option",{value:"",hidden:!0},"..."),a.map((function(e,t){return c.a.createElement("option",{key:t,value:e.keyName},e.lb)}))))))})))}():null,c.a.createElement("div",{className:"pt-2"},c.a.createElement("h5",null,f.RecordLimit),c.a.createElement("div",{className:"flex-center-center flex-no-wrap"},c.a.createElement("div",{className:"flex-center-center lc6"},c.a.createElement("p",{className:"table-p"},f.recordPerPage)),c.a.createElement("div",{className:"flex-center-center lc6"},c.a.createElement("div",{className:"flex-center-start flex-no-wrap"},c.a.createElement(L.r,{className:"md-icon mr-2 mb-3",onClick:function(e){l>1&&r(l-1)}}),c.a.createElement("div",{className:"h-100",style:{alignItems:"flex-start"}},c.a.createElement("input",{type:"number",value:l,onChange:function(e){return r(parseInt(e.target.value))}})),c.a.createElement(L.u,{className:"md-icon ml-2 mb-3",onClick:function(e){l<50&&r(l+1)}}))))),c.a.createElement("div",{className:"flex-center-center pt-2 pb-2"},c.a.createElement("div",{className:"w-45"},c.a.createElement("button",{className:"w-100",style:{margin:"0"},onClick:function(e){u("and",N)}},c.a.createElement(H.a,{style:{marginRight:"0.2rem"}}),f.allTrue)),c.a.createElement("div",{className:"w-45"},c.a.createElement("button",{className:"w-100",style:{margin:"0"},onClick:function(e){u("or",N)}},c.a.createElement(H.c,{style:{marginRight:"0.2rem"}}),f.someTrue)))):null)};ja.defaultProps={title:"Filter Form",show:null,setShow:function(){},filterTemplate:{},inputState:null,setInputState:function(){},limitRow:10,setLimitRow:function(){},sort:null,setSort:function(){},setPageNumber:function(){},setFilterOption:function(){},setReload:function(){},filterAxios:function(){},LB:{formHead:"Form Head",subject:"Subject",allTrue:"All True",someTrue:"Some True",sortBySubject:"Sort By Subject",recordLimit:"Record Limit",recordPerPage:"Record Per Page"}};var Oa=ja,xa=Me.saveTableTemplate;function ka(e){var t,a=e.lb,n=e.formTemplate,l=e.stateTemplate,r=e.selectData,o=e.iconAction,s=e.iconActionData,u=e.iconActionDataDetail,b=e.loadData,f=e.keyName,g=e.setShow,y=e.calculation,v=e.detailTableTemplate,w=e.submitFunction,E=e.selectGroup,N=e.setSelectGroup,j=e.selectProduct,O=e.pageDataModalForm,x=e.dataUrl,k=e.myheader,S=e.tableTemplateUrl,T=e.tableTemplateName,C=e.calDigit,F=e.isAddForm,D=Ce.genBlankState,I=Ce.genRefAndValue,P=Ce.combineLoadDataBlankState,R=ae.changeArrayFile,A=h.tableResize,M=c.a.useState(!1),B=Object(i.a)(M,2),G=B[0],U=B[1];c.a.useEffect((function(){E&&U(!0)}),[E]);var H=c.a.useState(!1),_=Object(i.a)(H,2),z=_[0],K=_[1];c.a.useEffect((function(){z||K(!0)}),[z]);var q=c.a.useState(!0),W=Object(i.a)(q,2),$=W[0],V=W[1],Y=c.a.useState(!0),Q=Object(i.a)(Y,2),X=Q[0],J=Q[1],Z=c.a.createRef(),ee=c.a.createRef(),te=D({template:l}).state,ne=I({template:n,FData:te}),ce=c.a.useState(function(){if(b){var e=P({template:l,loadData:b});return F?e.detail&&(e=Object(p.a)({},e,{detail:[]})):b.detail&&Array.isArray(b.detail)&&0==b.detail.length&&(e=Object(p.a)({},e,{detail:[]})),e.newId>=0&&(e=Object(p.a)({},e,{newId:e.id})),e}return te}()),le=Object(i.a)(ce,2),re=le[0],oe=le[1],se=c.a.useState(null),me=Object(i.a)(se,2),ue=me[0],de=me[1];c.a.useEffect((function(){z&&s&&oe(Object(p.a)({},re,{},s))}),[s]),c.a.useEffect((function(){if(z&&u&&Te&&u.id>0){var e=[];re.detail.map((function(t,a){if(Te.index==a){var n=Object(p.a)({},t,{},u);e=[].concat(Object(d.a)(e),[n])}else e=[].concat(Object(d.a)(e),[t])})),oe(Object(p.a)({},re,Object(m.a)({},"detail",e)))}}),[u]);var pe=c.a.useState(I({template:n,FData:re})),be=Object(i.a)(pe,2),fe=be[0],he=be[1];c.a.useEffect((function(){console.log("refAndValue........000000000000000."),console.log(fe)}),[fe]),c.a.useEffect((function(){if(z){var e=!1;if(re&&re.detail&&(e=!0),Oe&&(e=!0),e){var t=Object.keys(Oe),a={},c=!1;t.map((function(e){Oe[e]&&Oe[e].showSum&&(a=Object(p.a)({},a,Object(m.a)({},e,0)),c=!0)})),re.detail.map((function(e,n){t.map((function(t){if(Oe[t]&&Oe[t].showSum){var c=a[t]+parseInt(1e4*e[t]);a=n==re.detail.length-1?Object(p.a)({},a,Object(m.a)({},t,c/1e4)):Object(p.a)({},a,Object(m.a)({},t,c))}}))})),c&&de(a)}var l=I({template:n,FData:re});he(Object(p.a)({},l)),y&&X&&(oe(y(re)),J(!1))}}),[re]);var ge=c.a.useState({width:1200,gridCol:""}),ye=Object(i.a)(ge,2),ve=ye[0],we=ye[1],Ne=c.a.useState(v),je=Object(i.a)(Ne,2),Oe=je[0],xe=je[1];c.a.useEffect((function(){A({tableTemplate:Oe,showTable:ve,setShowTable:we})}),[Oe]);var ke=c.a.useState(null),Se=Object(i.a)(ke,2),Te=Se[0],Fe=Se[1];c.a.useEffect((function(){}),[Te]);var De=c.a.useState(!0),Ie=Object(i.a)(De,2),Pe=Ie[0],Re=Ie[1],Ae=c.a.useState([]),Me=Object(i.a)(Ae,2),Be=Me[0],Le=Me[1],Ge=c.a.useState([]),Ue=Object(i.a)(Ge,2),He=Ue[0],_e=Ue[1];c.a.useEffect((function(){z&&f&&"photoUrl1"==f[0]&&R({arrayFile:Be,fileUrl:He,setFileUrl:_e,inputState:re,setInputState:oe,keyName:f[0],setShowImage:Re})}),[Be]);var ze=c.a.useState(!0),Ke=Object(i.a)(ze,2),qe=Ke[0],We=Ke[1],$e=c.a.useState([]),Ve=Object(i.a)($e,2),Ye=Ve[0],Qe=Ve[1],Xe=c.a.useState([]),Je=Object(i.a)(Xe,2),Ze=Je[0],et=Je[1];c.a.useEffect((function(){z&&f&&"photoUrl2"==f[1]&&R({arrayFile:Ye,fileUrl:Ze,setFileUrl:et,inputState:re,setInputState:oe,keyName:f[1],setShowImage:We})}),[Ye]);var tt=c.a.useState(null),at=Object(i.a)(tt,2),nt=at[0],ct=at[1],lt=function(e,t){var a=[];re.detail.map((function(n,c){a=[].concat(Object(d.a)(a),e==c?[t]:[n])})),oe(Object(p.a)({},re,{detail:a}))};return c.a.createElement("div",{className:"h-100 w-100 bgc-trans"},c.a.createElement("div",{className:"Modal-box bgc-trans",style:{paddingBottom:"7rem"}},c.a.createElement("div",{className:"Modal-header bgc-trans"},c.a.createElement("div",null,c.a.createElement("h5",null,a)),c.a.createElement("div",{style:{display:"flex",position:"fixed",bottom:"2.5rem",right:"2rem",zIndex:"100"}},c.a.createElement("div",null,c.a.createElement("button",{ref:Z,onKeyDown:function(e){"ArrowRight"==e.key&&ee.current.focus()},onClick:function(e){w&&w(re)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{ref:ee,onKeyDown:function(e){"ArrowLeft"==e.key&&ee.current.focus()},onClick:function(e){oe(te),N(null),g(!1)}},c.a.createElement(L.a,null))))),c.a.createElement("div",{className:"Modal-body bgc-trans"},c.a.createElement("div",{className:"ModalInsideBody bgc-trans"},aa((t={cName:"form-row flex-justify-start flex-align-stretch bd-green",template:n,ref1:Z,iconAction:o,refAndValue:fe,setRefAndValue:he,loadData:re,setLoadData:oe,selectData:r,blankData:te,refAndValueBlankData:ne,hidePassword:$,setHidePassword:V,tableTemplate:Oe,setTableTemplate:xe,showTable:ve,setShowTable:we,selectRow:Te,setSelectRow:Fe,setCalculate:J,sumAmount:ue,selectGroup:E,selectProduct:j,updateFilterData:lt,editData:nt,setEditData:ct},Object(m.a)(t,"updateFilterData",lt),Object(m.a)(t,"insertLine",(function(){if(nt){var e=[];re.detail.map((function(t,a){if(t._id==nt._id){var n=Object(p.a)({},te.detail[0],{_id:ie()(),selectedLine:!1,result:0});e=[].concat(Object(d.a)(e),[n,t])}else e=[].concat(Object(d.a)(e),[t])})),oe(Object(p.a)({},re,{detail:e}))}else if(re.detail&&Array.isArray(re.detail)&&0==re.detail.length){var t=Object(p.a)({},te.detail[0],{_id:ie()(),selectedLine:!1,result:0});oe(Object(p.a)({},re,{detail:[t]}))}})),Object(m.a)(t,"selectAll",(function(){if(console.log("selectAll"),re.detail){var e=[];re.detail.map((function(t){e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{selectedLine:!0})])})),oe(Object(p.a)({},re,{detail:e})),ct(null)}})),Object(m.a)(t,"unSelectAll",(function(){if(console.log("unSelectAll"),re.detail){var e=[];re.detail.map((function(t){e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{selectedLine:!1})])})),oe(Object(p.a)({},re,{detail:e})),ct(null)}})),Object(m.a)(t,"deleteLine",(function(){if(nt){var e=[];re.detail.map((function(t,a){t._id!=nt._id&&(e=[].concat(Object(d.a)(e),[t]))})),oe(Object(p.a)({},re,{detail:e})),ct(null)}})),Object(m.a)(t,"getSelectAll",(function(){if(re.detail){var e=[];j&&(j.map((function(t){t.selectedLine&&(e=[].concat(Object(d.a)(e),[Object(p.a)({},t,{_id:ie()(),quantity:0,result:0})]))})),oe(Object(p.a)({},re,{detail:[].concat(Object(d.a)(re.detail),Object(d.a)(e))})))}})),Object(m.a)(t,"moveSelectedDown",(function(){if(console.log("moveSelectedDown"),re.detail){var e=!0,t=[],a=[],n=[];re.detail.map((function(c){nt._id==c._id?e=!1:0==c.selectedLine&&1==e?t=[].concat(Object(d.a)(t),[c]):0==c.selectedLine&&0==e?a=[].concat(Object(d.a)(a),[c]):n=[].concat(Object(d.a)(n),[c])}));var c=[].concat(Object(d.a)(t),[nt],Object(d.a)(n),Object(d.a)(a));oe(Object(p.a)({},re,{detail:c}))}})),Object(m.a)(t,"moveSelectedUp",(function(){if(console.log("moveSelectedUp"),re.detail){var e=!0,t=[],a=[],n=[];re.detail.map((function(c){nt._id==c._id?e=!1:0==c.selectedLine&&1==e?t=[].concat(Object(d.a)(t),[c]):0==c.selectedLine&&0==e?a=[].concat(Object(d.a)(a),[c]):n=[].concat(Object(d.a)(n),[c])}));var c=[].concat(Object(d.a)(t),Object(d.a)(n),[nt],Object(d.a)(a));oe(Object(p.a)({},re,{detail:c}))}})),Object(m.a)(t,"moveUp",(function(){if(nt){var e=[],t=null;re.detail.map((function(e,a){e._id==nt._id&&(t=a)})),null!=t&&t>0&&(re.detail.map((function(a,n){e=[].concat(Object(d.a)(e),n==t-1?[re.detail[t]]:n==t?[re.detail[t-1]]:[a])})),oe(Object(p.a)({},re,{detail:e})))}})),Object(m.a)(t,"moveDown",(function(){if(nt){var e=[],t=null,a=re.detail.length-1;re.detail.map((function(e,a){e._id==nt._id&&(t=a)})),null!=t&&t<a&&(re.detail.map((function(a,n){e=[].concat(Object(d.a)(e),n==t?[re.detail[t+1]]:n==t+1?[re.detail[t]]:[a])})),oe(Object(p.a)({},re,{detail:e})))}})),Object(m.a)(t,"findProductIdByKeyDown",(function(){console.log("findProductIdByKeyDown")})),Object(m.a)(t,"findBarcodeByKeyDown",(function(){console.log("findBarcodeByKeyDown")})),Object(m.a)(t,"calDigit",C),Object(m.a)(t,"pageDataModalForm",O),Object(m.a)(t,"dataUrl",x),Object(m.a)(t,"myheader",k),Object(m.a)(t,"saveDetailTableTemplateForFormFunc",(function(e){xa(e,S,T,k)})),t)))),f?c.a.createElement("div",{className:"xc12 form-row h-100",style:{justifyContent:"space-around"}},"photoUrl1"==f[0]?c.a.createElement("div",{className:"xc4 sc10 bgc-darkGray bd-lightGray h-100"},Pe?c.a.createElement(Ee,{fileUrl:He,arrayFile:Be,setArrayFile:Le,keyName:f[0],setShowImage:Re,inputState:re,setInputState:oe}):null):null,"photoUrl2"==f[1]?c.a.createElement("div",{className:"xc4 sc10 bgc-darkGray bd-lightGray h-100"},qe?c.a.createElement(Ee,{fileUrl:Ze,arrayFile:Ye,setArrayFile:Qe,keyName:f[1],setShowImage:We,inputState:re,setInputState:oe}):null):null):null),G&&c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box"},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("div",{className:"flex-center-center"},c.a.createElement(L.l,{style:{fontSize:"2rem"}}),c.a.createElement("div",{style:{marginLeft:"0.5rem"}},E.groupName))),c.a.createElement("div",{className:"Modal-footer"},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){console.log("click FaCheck renderAddGroup");var t={groupId:E.id,groupName:E.groupName};oe(Object(p.a)({},re,{},t)),N(null),U(!1)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){console.log("click FaBan renderAddGroup"),N(null),U(!1)}},c.a.createElement(L.a,null)))))))}ka.defaultProps={isAddForm:!1,lb:"Form",formTemplate:{},stateTemplate:{},selectData:{},iconAction:null,iconActionData:{},iconActionDataDetail:{},loadData:null,keyName:null,setShow:function(){},calculation:null,detailTableTemplate:null,submitFunction:null,selectGroup:null,setSelectGroup:function(){},selectProduct:[],modalFormTemplate:{insertUp:"Insert Up",insertDown:"Insert Down",selectAll:"Select All",unSelectAll:"Unselect All",moveUp:"Move Up",moveDown:"Move Down",delete:"Delete",import:"Import",selectImage:"Select Image"}};var Sa=ka,Ta=function(e){var t=e.showRange,a=e.setShowRange,n=e.widthLeft,l=e.setWidthLeft,r=e.heightTop,o=e.setHeightTop;return t?c.a.createElement("div",{className:"hide-on-print",style:{width:"100%"}},c.a.createElement("div",{className:"flex-center-center jc-space-between"},c.a.createElement("div",{className:"w-50"},c.a.createElement("input",{type:"range",min:"0",max:"95",style:{visibility:t?"visible":"hidden"},value:n,onChange:function(e){l(e.target.value)}})),c.a.createElement("div",{className:"w-45"},c.a.createElement("input",{type:"range",min:"0",max:"93",orient:"vertical",style:{visibility:t?"visible":"hidden"},value:r,onChange:function(e){o(e.target.value,"heightTop")}})),c.a.createElement("div",{className:"w-5",style:{display:"flex",justifyContent:"flex-end"}},c.a.createElement(G.i,{className:"sm-icon",style:{backgroundColor:"rgba(255,255,255,0.5)"},onClick:function(e){a(!t)}})))):c.a.createElement(G.d,{className:"sm-icon hide-on-print",style:{position:"absolute",top:"0.5rem",zIndex:"200",right:"0",backgroundColor:"rgba(255,255,255,0.5)"},onClick:function(e){a(!t)}})},Ca=Me.reloadAxiosAll,Fa=Me.saveTableTemplate,Da=Me.updateFilterData,Ia=Me.submitFunctionEdit,Pa=Me.submitFunctionAdd,Ra=Me.filterAxios,Aa=Me.setUnSelectAll,Ma=Me.submitFunctionDelete;function Ba(e){var t=e.dataState,a=e.dataFilter,n=e.dataInputState,l=e.captureEditData,r=e.captureSelect,o=e.bgColor,s=e.filterTitle;console.log("PageComponent");var m=c.a.useContext(R),d=m.basicDataSt,b=m.tokenSt,f=(m.setReloadCheckToken,m.myheader),h=d.basicData,g=(b.reloadCheckToken,b.haveShopToken,b.haveUserToken,b.userName,function(e){_(Object(p.a)({},H,{showModalConfirm:e}))}),y=function(e){_(Object(p.a)({},H,{pageNumber:e,reloadData:!0}))},v=function(e){_(Object(p.a)({},H,{showAdd:e}))},w=function(e){_(Object(p.a)({},H,{showEdit:e}))},E=function(e){_(Object(p.a)({},H,{tableTemplate:e}))},N=function(e){_(Object(p.a)({},H,{editData:e})),l(e)},j=function(e){_(Object(p.a)({},H,{data0:e}))},O=function(e){_(Object(p.a)({},H,{sort:e}))},x=function(e){_(Object(p.a)({},H,{limitRow:e}))},k=function(){_(Aa(H))},S=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ma(H,f);case 2:a=e.sent,_(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){if(H.selectGroup){var e=H.selectGroup,t=e.id,a=Object(u.a)(e,["id"]);_(Object(p.a)({},H,{iconActionData:Object(p.a)({groupId:t},a)}))}},C=function(){var e=Object(Y.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ca(H,f);case 2:t=e.sent,_(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e){console.log("refreshPage");var t=H.limitRow,a=H.sort,n=Object(p.a)({},H,{limitRow:t,sort:a,selectProduct:[],editData:null,qry:null,reloadData:!0});_(n)},D=function(e,t){var a=Da(e,t,H);_(Object(p.a)({},H,{},a))},I=function(){var e=Object(Y.a)(V.a.mark((function e(a){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ia(a,H,t,f);case 2:n=e.sent,_(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(Y.a)(V.a.mark((function e(a){var n;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pa(a,H,t,f);case 2:n=e.sent,_(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(Y.a)(V.a.mark((function e(t,n){var c;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ra(t,n,a,H,f);case 2:c=e.sent,_(c);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),M=function(e){e.folders;var t=Object(u.a)(e,["folders"]),a=Object(p.a)({},H,{pageNumber:1,qry:{groupId:e.id},selectGroup:t,reloadData:!0});_(a)},B=function(e){var t=H.tableTemplateUrl;Fa(e,t,H.tableTemplateName,f)},L=function(e){var t=H.tableTemplateUrl;Fa(e,t,H.detailTableTemplateForFormName,f)},G=c.a.useState(Object(p.a)({},ga,{},e)),U=Object(i.a)(G,2),H=U[0],_=U[1];c.a.useEffect((function(){H.reloadData&&C()}),[H]);var z=function(){return c.a.createElement("div",{className:"w-100 h-100",style:{overflowY:"auto",paddingBottom:"5rem"}},function(){var e=H.limitRow,t=H.sort;return c.a.createElement("div",null,c.a.createElement(Oa,{title:s,show:!0,setShow:function(){},filterTemplate:a,inputState:n,setInputState:function(){},limitRow:e,setLimitRow:x,sort:t,setSort:O,filterAxios:A,basicData:h}))}(),H.groupTitle?c.a.createElement("div",{className:"flex-center-center",style:{borderTop:"1px black solid"}},c.a.createElement("h3",null,H.groupTitle)):null,H.groupDataUrl?c.a.createElement("div",{className:"",style:{marginBottom:"4rem"}},c.a.createElement(da,{groupDataUrl:"p29group",canGroupChange:!0,selectData:{basicData:h},setSelectGroup:function(){},filterDataByGroup:M,editData:H.editData})):null)};return c.a.createElement("div",{className:"w-100 h-100"},c.a.createElement("div",{className:"",style:{display:"flex",height:"95%",width:"100%"}},c.a.createElement("div",{className:"bd-darkGray hide-on-print",style:{height:"100%",width:"".concat(H.widthLeft,"%")}},z()),c.a.createElement("div",{className:"bd-darkGray",style:{height:"100%",width:"".concat(100-H.widthLeft,"%")}},c.a.createElement("div",{className:"hide-on-print",style:{height:"5%",width:"100%"}},ha({filterData:H,setPageNumber:y,totalSwapPage:1,setSwapState:function(){},setReloadData:F,setShowFilter:function(){},setShowAdd:v,setShowEdit:w,setShowModalConfirm:g,setUnSelectAll:k,setClose:function(){},bgColor:o,captureSelect:r})),c.a.createElement("div",{style:{height:"100%",width:"100%"}},c.a.createElement("div",{className:"",style:{width:"100%",height:"".concat(H.heightTop,"%")}},H.data0?c.a.createElement(lt,{colorHead:"#888",tableTemplate:H.tableTemplate,setTableTemplate:E,filterDataKey:"tableTemplate",filterData:H.data0,setFilterData:j,editData:H.editData,setEditData:N,saveTableTemplateFunc:B,isSubTable:!1,updateFilterData:D,useInput:!1,selectData:H.selectData}):null),c.a.createElement("div",{className:"",style:{width:"100%",height:"".concat(95-H.heightTop,"%")}},(H.showAdd,H.showEdit,H.editData,H.showAdd?c.a.createElement("div",{style:{height:"100%",paddingBottom:"4rem"}},c.a.createElement(Sa,{lb:H.addFormTitle,formTemplate:H.dataForm,stateTemplate:H.dataState,loadData:{id:H.lastRecordId+1},myFilterData:H,selectData:{basicData:h},setShow:v,iconAction:[T,function(){}],iconActionData:H.iconActionData,iconActionDataDetail:H.iconActionDataDetail,detailTableTemplateForForm:H.detailTableTemplateForForm,submitFunction:P,keyName:["photoUrl1"],calculation:null,saveDetailTableTemplateForFormFunc:L})):H.showEdit?c.a.createElement("div",{style:{height:"100%",paddingBottom:"4rem"}},c.a.createElement(Sa,{lb:H.editFormTitle,formTemplate:H.dataEditForm,stateTemplate:H.dataState,loadData:H.editData,myFilterData:H,selectData:{basicData:h},setShow:w,iconAction:[T,function(){}],iconActionData:H.iconActionData,iconActionDataDetail:H.iconActionDataDetail,detailTableTemplateForForm:H.detailTableTemplateForForm,submitFunction:I,keyName:["photoUrl1"],calculation:null,saveDetailTableTemplateForFormFunc:L})):void 0))))),c.a.createElement("div",{className:"hide-on-print",style:{width:"100%",display:"flex",position:"relative"}},Ta({showRange:H.showRange,setShowRange:function(e){_(Object(p.a)({},H,{showRange:e}))},widthLeft:H.widthLeft,setWidthLeft:function(e){_(Object(p.a)({},H,{widthLeft:e}))},heightTop:H.heightTop,setHeightTop:function(e){_(Object(p.a)({},H,{heightTop:e}))}})),H.showModalConfirm?c.a.createElement(ft,{setShow:g,submitFunction:S}):null,H.showModalError?ht({setShow:function(e){_(Object(p.a)({},H,{showModalError:e}))},message:H.message}):null)}Ba.defaultProps={captureEditData:function(){},captureSelect:null,bgColor:"radial-gradient(circle, rgba(241,239,225,1) 1%, rgba(125,160,151,1) 93%)",filterTitle:"\u0e04\u0e49\u0e19\u0e2b\u0e32"};var La,Ga,Ua=F.partnerForm,Ha=F.productForm,_a=F.transactionForm,za=ge.partnerState,Ka=ge.productState,qa=ge.transactionState,Wa=O.partnerFilter,$a=O.productFilter,Va=O.transactionFilter,Ya=O.billMenuFilter,Qa=fa.partnerInputState,Xa=fa.productInputState,Ja=fa.transactionInputState,Za=fa.billMenuInputState,en={id:"",date:(new Date).toISOString(),remindDate:"",transactionType:"\u0e1a\u0e34\u0e25\u0e02\u0e32\u0e22",transactionStatus:"open",active:!0,table:"",tableStatus:"open",paymentType:"\u0e2a\u0e14",effectStock:"-",effectSpending:"unChange",effectCustomerPoint:"unChange",partnerId:"",partnerType:"",title:"",name:"",phone:[""],address:"",remark:"",total:0,totalReduction:0,reduction:[{reductionName:"",reductionActive:!0,reductionRate:0,reductionAmount:0}],grandTotal:0,totalTax:0,tax:[{taxName:"",taxActive:!0,taxRate:0,taxAmount:0}],detail:[],totalPoint:0,editExistingBill:!1},tn={dataUrl:"p35product",tableTemplateUrl:"p35tabletemplate",tableTemplateName:"productTableTemplate",detailTableTemplateName:"productDetailTableTemplate",detailTableTemplateForFormName:"productDetailTableTemplateForForm",dataState:Ka,dataFilter:$a,dataInputState:Xa,dataForm:Ha,groupTitle:"\u0e2a\u0e27\u0e31\u0e2a\u0e14\u0e35",groupDataUrl:"p35group",badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!1,addFunc:function(){},editShow:!1,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){},csvShow:!0,csvFunc:function(){}}},an={dataUrl:"p35partner",tableTemplateUrl:"p35tabletemplate",tableTemplateName:"partnerTableTemplate",detailTableTemplateName:"productDetailTableTemplate",dataState:za,dataFilter:Wa,dataInputState:Qa,dataForm:Ua,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!1,addFunc:function(){},editShow:!1,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){},csvShow:!0,csvFunc:function(){}}},nn=(Ga={blankData:en,bill:(La={queueArray:null,transactionArray:null,colorHead:"#7da097",dataIdx:"",data1:null,data2:null,count:0,lastRecordId:null,showRange:!0,widthLeft:31,heightTop:60,pageNumber:1,limitRow:11,sort:{id:-1},qry:{},qryProduct:{isRawMat:!1},tableTemplateUrl:"p35tabletemplate",dataUrl:"p35transaction",selectGroup:null,tableTemplate:null,detailTableTemplate:null,detailTableTemplateForForm:null,reloadData:!0,message:null,showModalError:!1,editData:null,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!0,addFunc:function(){},editShow:!0,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){}},customerConfirm:null,showParter:!1,showGroup:!1,showProductGrid:!1,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!1,showModalFromTable:!1,showBillForm1:!0,showBillForm2:!1,reloadBillForm1:!1,reloadBillForm2:!1,showCustomerConfirm:!1,includeTransactionHead:!0,showTransactionConfirm:!1,dataToDelete:null,reloadSelectProduct:!0,selectProduct:[],selectOfSelectProduct:null,showAdd:!1,showModalConfirm:!1},Object(m.a)(La,"showModalError",!1),Object(m.a)(La,"message",null),Object(m.a)(La,"iconActionData",null),Object(m.a)(La,"iconActionDataDetail",null),Object(m.a)(La,"editTransaction",null),Object(m.a)(La,"editProduct",null),Object(m.a)(La,"editPartner",null),Object(m.a)(La,"showImageBill",!0),Object(m.a)(La,"isGenIdOfBillForm1",!1),Object(m.a)(La,"isGenIdOfBillForm2",!1),Object(m.a)(La,"billMenuFilter",Ya),Object(m.a)(La,"billMenuInputState",Za),Object(m.a)(La,"billMenuSort",{date:1}),Object(m.a)(La,"billMenuLimitRow",31),Object(m.a)(La,"billMenuShowTransaction",!1),Object(m.a)(La,"billMenuOption","and"),La),product:tn,transaction:{dataUrl:"p35transaction",tableTemplateUrl:"p35tabletemplate",tableTemplateName:"transactionTableTemplate",detailTableTemplateName:"productDetailTableTemplate",detailTableTemplateForFormName:"productDetailTableTemplateForForm",dataState:qa,dataFilter:Va,dataInputState:Ja,dataForm:_a,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!1,addFunc:function(){},editShow:!1,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){},csvShow:!0,csvFunc:function(){}}}},Object(m.a)(Ga,"product",tn),Object(m.a)(Ga,"partner",an),Object(m.a)(Ga,"blankData",en),Ga),cn=function(e){var t=e.showRange,a=(e.setShowRange,e.widthLeft),n=e.setWidthLeft;return c.a.createElement("div",{className:"hide-on-print",style:{width:"100%",height:"5vh"}},c.a.createElement("div",{className:"flex-center-center jc-space-between"},c.a.createElement("div",{className:"",style:{width:"15%",height:"5vh",display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement(L.h,{className:"md-icon",onClick:function(e){n(0)}})),c.a.createElement("div",{className:"",style:{width:"70%",height:"5vh",display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement("input",{type:"range",min:"0",max:"100",style:{visibility:t?"visible":"hidden"},value:a,onChange:function(e){n(e.target.value)}})),c.a.createElement("div",{className:"",style:{width:"15%",height:"5vh",display:"flex",alignItems:"center",justifyContent:"center"}},c.a.createElement(L.i,{className:"md-icon",onClick:function(e){n(100)}}))))},ln=((new Date).toISOString().substring(0,10),{genTree:function(e){var t=[];return e.map((function(a,n){a._id;var c=Object(u.a)(a,["_id"]),l=a.gcode,r=!1;if(n<e.length-1){var o=e[n+1].gcode,i=e[n+1].level;if(a.level+1==i)new RegExp("^"+l+"/","gi").test(o)&&(r=!0)}var s=Object(p.a)({},c,{open:1==a.level,show:1==a.level||2==a.level,haveChild:r});t=[].concat(Object(d.a)(t),[s])})),t},genTreeWithI:function(e,t){var a=[],n=t.gcode;return e.map((function(t,c){t._id;var l=Object(u.a)(t,["_id"]),r=t.gcode,o=!1;if(c<e.length-1){var i=e[c+1].gcode,s=e[c+1].level;if(t.level+1==s)new RegExp("^"+r+"/","gi").test(i)&&(o=!0)}var m=new RegExp("^"+n+"/","gi").test(t.gcode),b=Object(p.a)({},l,{open:!!(1==t.level||t.gcode==n||m&&o),show:!(1!=t.level&&2!=t.level&&!m),haveChild:o});a=[].concat(Object(d.a)(a),[b])})),a},checkEditGroup:function(e){var t=!1;return e&&e.editGroup&&(t=!0),t},checkEditGroupColor:function(e,t,a){var n={color:"black"};return t&&t.editGroup&&t.editGroup.id==e.id&&(n={color:a||"red"}),n},closeFolder:function(e,t){var a=[];return e.map((function(e,n){if(e.gcode==t.gcode){var c=Object(p.a)({},e,{open:!1});a=[].concat(Object(d.a)(a),[c])}else{if(new RegExp("^"+t.gcode+"/","gi").test(e.gcode)){var l=Object(p.a)({},e,{show:!1});a=[].concat(Object(d.a)(a),[l])}else a=[].concat(Object(d.a)(a),[e])}})),a},openFolder:function(e,t){var a=[];t.gcode;return e.map((function(e,n){if(e.gcode==t.gcode){var c=Object(p.a)({},e,{open:!0});a=[].concat(Object(d.a)(a),[c])}else{if(new RegExp("^"+t.gcode+"/","gi").test(e.gcode)&&e.level==t.level+1){var l=Object(p.a)({},e,{show:!0});a=[].concat(Object(d.a)(a),[l])}else a=[].concat(Object(d.a)(a),[e])}})),a},loadMainGroup:function(e,t,a){return console.log("loadMainGroup"),new Promise((function(n,c){var l={$or:[Object(m.a)({},"gcode",{$regex:e.gcode,$options:"gi"}),{$or:[{level:1},{level:2},{level:3}]}]},r=Object(p.a)({sort:{gcode:1}},l);f.a.post("/".concat(t,"/getcustom"),r,a).then((function(e){n(e.data.data)})).catch((function(e){c(e)}))}))}}),rn=ln.genTree,on=ln.genTreeWithI,sn=ln.checkEditGroupColor,mn=ln.closeFolder,un=ln.openFolder,dn=ln.loadMainGroup;var pn=function(e){var t=e.loadData,a=e.submitFunc,n=e.cancelFunc,l=e.pageData,r=e.dataUrl,o=e.myheader,s=c.a.useState(t),m=Object(i.a)(s,2),u=m[0],b=m[1],h=c.a.useState({tree:null,reloadGroup:!0,editGroup:null,lastRecordId:0,qry:{sort:{gcode:1},$or:[{level:1},{level:2},{level:3}]}}),g=Object(i.a)(h,2),y=g[0],v=g[1],w=c.a.useState(!1),E=Object(i.a)(w,2),N=E[0],j=E[1],O=c.a.useState(!1),x=Object(i.a)(O,2),k=x[0],S=x[1],T=c.a.useState(!0),C=Object(i.a)(T,2),F=C[0],D=C[1],I=c.a.useState(!1),P=Object(i.a)(I,2),R=P[0],A=P[1];return c.a.useEffect((function(){y.reloadGroup&&f.a.post("/".concat(r,"/getcustom"),y.qry,o).then((function(e){v(Object(p.a)({},y,{tree:rn(e.data.data),reloadGroup:!1,lastRecordId:e.data.lastRecordId}))})).catch((function(e){console.log("error")}))}),[y]),c.a.useEffect((function(){if((console.log("editGroup"),console.log(y.editGroup),y.editGroup)&&!new RegExp("^"+t.gcode+"*","gi").test(y.editGroup.gcode)){var e=y.editGroup.gcode+"/"+t.groupName,a=e.split("/").length;b(Object(p.a)({},t,{gcode:e,level:a})),A(!0)}}),[y.editGroup]),c.a.useEffect((function(){}),[u]),c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{width:"90%",height:"90%",overflow:"hidden"}},c.a.createElement("div",{className:"Modal-header",style:{width:"100%",height:"5%"}},c.a.createElement("h4",null,l.formHead)),c.a.createElement("div",{className:"w-100 bd-pureWhite",style:{width:"100%",height:"80%"}},c.a.createElement("div",{className:"w100 h-100",style:{display:"flex"}},c.a.createElement("div",{className:"",style:{width:"50%",height:"100%",padding:"0.5rem",overflowY:"scroll",overflowX:"auto"}},N&&c.a.createElement("h5",null,l.treeTitle),y.tree&&N&&y.tree.map((function(e,a){var n=e.id,l=e.show,i=(e.gcode,e.level),s=e.groupName,m=e.open,u=e.haveChild;return l?c.a.createElement("div",{key:a,style:{display:"flex",marginLeft:"".concat(i,"rem")}},m?c.a.createElement(L.m,{className:"sm-icon",onClick:function(t){if(e.level>2&&v(Object(p.a)({},y,{tree:mn(y.tree,e)})),2==e.level){var a=[];y.tree.map((function(t){var n;new RegExp("^"+e.gcode+"*","gi").test(t.gcode)?2==t.level?(n=Object(p.a)({},t,{open:!1}),a=[].concat(Object(d.a)(a),[n])):(n=Object(p.a)({},t,{show:!1}),a=[].concat(Object(d.a)(a),[n])):a=[].concat(Object(d.a)(a),[t])})),v(Object(p.a)({},y,{tree:a}))}}}):u?c.a.createElement(L.n,{className:"sm-icon",onClick:function(t){e.level>2&&v(Object(p.a)({},y,{tree:un(y.tree,e)}))}}):c.a.createElement(L.l,{className:"sm-icon",onClick:function(e){console.log("tttttt")}}),c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:sn(e,y,"green"),onClick:function(a){var n=new RegExp("^"+t.gcode+"*","gi").test(e.gcode);2==e.level&&e.haveChild?dn(e,r,o).then((function(t){v(Object(p.a)({},y,{editGroup:n?null:e,tree:on(t,e)}))})):e.level>1&&v(Object(p.a)({},y,{editGroup:n?null:e}))}},"".concat(n,".").concat(s)))):null}))),c.a.createElement("div",{className:"",style:{width:"50%",padding:"0.5rem"}},c.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},c.a.createElement("div",{className:"xc4"}," ",l.id," "),c.a.createElement("div",{className:"xc8"},u.id)),c.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},c.a.createElement("div",{className:"xc4",style:{display:"flex"}},l.gcode,!N&&F&&c.a.createElement(G.k,{className:"sm-icon",onClick:function(e){j(!0),D(!1)}})),c.a.createElement("div",{className:"xc8"},N?c.a.createElement("input",{value:u.gcode,disabled:"disaled"}):c.a.createElement("div",null,u.gcode))),c.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},c.a.createElement("div",{className:"xc4",style:{display:"flex"}},l.groupName,!k&&F&&c.a.createElement(G.k,{className:"sm-icon",onClick:function(e){S(!0),D(!1)}})),c.a.createElement("div",{className:"xc8"},k?c.a.createElement("input",{value:u.groupName,onChange:function(e){var t=u.gcode.split("/");t[t.length-1]=e.target.value,b(Object(p.a)({},u,{groupName:e.target.value,gcode:t.join("/")})),A(!0)}}):c.a.createElement("div",null,u.groupName))),c.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},c.a.createElement("div",{className:"xc4"}," ",l.level," "),c.a.createElement("div",{className:"xc8"},u.level))))),c.a.createElement("div",{className:"Modal-footer",style:{width:"100%",height:"15%"}},R&&c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){a(u)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){n()}},c.a.createElement(L.a,null))))))},bn=ln.genTree,fn=ln.genTreeWithI,hn=ln.checkEditGroupColor,gn=ln.closeFolder,yn=ln.openFolder,vn=ln.loadMainGroup;var wn=function(e){var t=e.loadData,a=e.submitFunc,n=e.cancelFunc,l=e.pageData,r=e.dataUrl,o=e.myheader,s=c.a.useState(t),m=Object(i.a)(s,2),u=m[0],b=m[1],h=c.a.useState({tree:null,reloadGroup:!0,editGroup:null,lastRecordId:0,qry:{sort:{gcode:1},$or:[{level:1},{level:2},{level:3}]}}),g=Object(i.a)(h,2),y=g[0],v=g[1];return c.a.useEffect((function(){y.reloadGroup&&f.a.post("/".concat(r,"/getcustom"),y.qry,o).then((function(e){v(Object(p.a)({},y,{tree:bn(e.data.data),reloadGroup:!1,lastRecordId:e.data.lastRecordId}))})).catch((function(e){console.log("error")}))}),[y]),c.a.useEffect((function(){if(y.editGroup&&!new RegExp("^"+t.gcode+"*","gi").test(y.editGroup.gcode)){var e=y.editGroup.gcode+"/"+t.groupName;b(Object(p.a)({},t,{gcode:e}))}}),[y.editGroup]),c.a.useEffect((function(){}),[u]),c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{width:"90%",height:"90%",overflow:"hidden"}},c.a.createElement("div",{className:"Modal-header",style:{width:"100%",height:"5%"}},c.a.createElement("h4",null,l.formHead)),c.a.createElement("div",{className:"w-100 bd-pureWhite",style:{width:"100%",height:"80%"}},c.a.createElement("div",{className:"w100 h-100",style:{display:"flex"}},c.a.createElement("div",{className:"",style:{width:"50%",height:"100%",padding:"0.5rem",overflowY:"scroll",overflowX:"auto"}},c.a.createElement("h5",null,l.treeTitle),y.tree&&y.tree.map((function(e,t){var a=e.id,n=e.show,l=(e.gcode,e.level),i=e.groupName,s=e.open,m=e.haveChild;return n?c.a.createElement("div",{key:t,style:{display:"flex",marginLeft:"".concat(l,"rem")}},s?c.a.createElement(L.m,{className:"sm-icon",onClick:function(t){if(e.level>2&&v(Object(p.a)({},y,{tree:gn(y.tree,e)})),2==e.level){var a=[];y.tree.map((function(t){var n;new RegExp("^"+e.gcode+"*","gi").test(t.gcode)?2==t.level?(n=Object(p.a)({},t,{open:!1}),a=[].concat(Object(d.a)(a),[n])):(n=Object(p.a)({},t,{show:!1}),a=[].concat(Object(d.a)(a),[n])):a=[].concat(Object(d.a)(a),[t])})),v(Object(p.a)({},y,{tree:a}))}}}):m?c.a.createElement(L.n,{className:"sm-icon",onClick:function(t){e.level>2&&v(Object(p.a)({},y,{tree:yn(y.tree,e)}))}}):c.a.createElement(L.l,{className:"sm-icon",onClick:function(e){console.log("tttttt")}}),c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:hn(e,y,"green"),onClick:function(t){2==e.level?vn(e,r,o).then((function(t){v(Object(p.a)({},y,{editGroup:e,tree:fn(t,e)}))})):(1==e.level||e.level>2)&&v(Object(p.a)({},y,{editGroup:e}))}},"".concat(a,".").concat(i)))):null}))),c.a.createElement("div",{className:"",style:{width:"50%",padding:"0.5rem"}},c.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},c.a.createElement("div",{className:"xc4"}," ",l.id," "),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{type:"number",value:u.id,onChange:function(e){b(Object(p.a)({},u,{id:e.target.value}))}}))),c.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},c.a.createElement("div",{className:"xc4",style:{display:"flex"}},l.gcode),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{value:u.gcode,disabled:"disaled",onChange:function(e){}}))),c.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},c.a.createElement("div",{className:"xc4",style:{display:"flex"}},l.groupName),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{type:"text",value:u.groupName,onChange:function(e){if(u.gcode){var t=u.gcode.split("/");t[t.length-1]=e.target.value;var a=t.length;b(Object(p.a)({},u,{groupName:e.target.value,gcode:t.join("/"),level:a}))}}}))),c.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"0.5rem"}},c.a.createElement("div",{className:"xc4"}," ",l.level," "),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{value:u.level,disabled:"disaled",onChange:function(e){}})))))),c.a.createElement("div",{className:"Modal-footer",style:{width:"100%",height:"15%"}},c.a.createElement("div",null," ",u.level&&c.a.createElement("button",{onClick:function(e){u.level>0&&a(u)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){n()}},c.a.createElement(L.a,null))))))},En=ln.genTree,Nn=ln.genTreeWithI,jn=ln.checkEditGroup,On=ln.checkEditGroupColor,xn=ln.closeFolder,kn=ln.openFolder,Sn=ln.loadMainGroup;function Tn(e){var t=e.myheader,a=e.dataUrl,n=e.filterByGroupId,l=e.captureEditGroup,r=e.canGroupChange,o=e.bgColor,s=e.pageData;console.log("NewGroup");var m=s.groupPage,u=s.editGroupForm,b=s.addGroupForm,h=c.a.useState({tree:null,reloadGroup:!0,editGroup:null,qry:{sort:{gcode:1},$or:[{level:1},{level:2},{level:3}]},lastRecordId:0,showAddForm:!1,showEditForm:!1,showConfirm:!1,showError:!1}),g=Object(i.a)(h,2),y=g[0],v=g[1],w=c.a.useState(!0),E=Object(i.a)(w,2),N=E[0],j=E[1];c.a.useEffect((function(){y.reloadGroup&&f.a.post("/".concat(a,"/getcustom"),y.qry,t).then((function(e){v(Object(p.a)({},y,{tree:En(e.data.data),reloadGroup:!1,lastRecordId:e.data.lastRecordId}))})).catch((function(e){console.log("error")}))}),[y]);return c.a.createElement("div",{className:"",style:{height:"100%",width:"100%"}},c.a.createElement("div",{className:"flex-center-center",style:{height:"",width:"100%"}},c.a.createElement("div",{className:"flex-center-center"},c.a.createElement("h5",null,m.formHead),N?c.a.createElement(L.d,{className:"sm-icon",onClick:function(e){return j(!N)}}):c.a.createElement(L.e,{className:"sm-icon",onClick:function(e){return j(!N)}})),N&&y.tree&&c.a.createElement("div",{className:"",style:{height:"2rem",width:"100%",display:"flex",backgroundColor:o}},c.a.createElement("div",{className:"iconbox",onClick:function(e){v(Object(p.a)({},y,{reloadGroup:!0,editGroup:null}))}},c.a.createElement(W,{iconName:"MdRefresh",className:"sm-icon",textStyle:{color:"black"}})),r&&c.a.createElement("div",{className:"iconbox",onClick:function(e){v(Object(p.a)({},y,{showAddForm:!0}))}},c.a.createElement(W,{iconName:"MdAddCircle",className:"sm-icon",textStyle:{color:"black"}})),jn(y)&&r&&c.a.createElement("div",{className:"iconbox",onClick:function(e){v(Object(p.a)({},y,{showEditForm:!0}))}},c.a.createElement(W,{iconName:"MdEdit",className:"sm-icon",textStyle:{color:"black"}})),jn(y)&&r&&c.a.createElement("div",{className:"iconbox",onClick:function(e){v(Object(p.a)({},y,{showConfirm:!0}))}},c.a.createElement(W,{iconName:"MdDelete",className:"sm-icon",textStyle:{color:"black"}})),jn(y)&&r&&c.a.createElement("div",{className:"iconbox",onClick:function(e){l(y.editGroup)}},c.a.createElement(W,{iconName:"RiShareForwardLine",className:"sm-icon",textStyle:{color:"black"}}))),N&&y.tree&&c.a.createElement("div",{style:{height:"95%",width:"100%"}},y.tree.map((function(e,l){e.id;var o=e.show,i=(e.gcode,e.level),s=e.groupName,m=e.open,u=e.haveChild;return o?c.a.createElement("div",{key:l,style:{display:"flex",marginLeft:"".concat(i,"rem")}},m?c.a.createElement(L.m,{className:"sm-icon",onClick:function(t){if(e.level>2&&v(Object(p.a)({},y,{tree:xn(y.tree,e)})),2==e.level){var a=[];y.tree.map((function(t){var n=new RegExp("^"+e.gcode+"/","gi").test(t.gcode);if(e.id==t.id){var c=Object(p.a)({},t,{open:!1});a=[].concat(Object(d.a)(a),[c])}else if(n){var l=Object(p.a)({},t,{show:!1});a=[].concat(Object(d.a)(a),[l])}else a=[].concat(Object(d.a)(a),[t])})),v(Object(p.a)({},y,{tree:a}))}}}):u?c.a.createElement(L.n,{className:"sm-icon",onClick:function(t){e.level>2&&v(Object(p.a)({},y,{tree:kn(y.tree,e)}))}}):c.a.createElement(L.l,{className:"sm-icon",onClick:function(e){console.log("tttttt")}}),c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",{style:On(e,y),onClick:function(n){r&&(2==e.level&&e.haveChild&&Sn(e,a,t).then((function(t){v(Object(p.a)({},y,{editGroup:e,tree:Nn(t,e)}))})),(2==e.level||e.level>2)&&v(Object(p.a)({},y,{editGroup:e})))}},"".concat(s)),c.a.createElement(G.y,{className:"sm-icon",style:{marginLeft:"1rem"},onClick:function(t){n(e)}}))):null}))),y.showEditForm&&c.a.createElement(pn,{loadData:y.editGroup,submitFunc:function(e){console.log("submitUpdateGroupFunc");var n=[],c=[];if(y.tree.map((function(t){if(t.id==e.id){var a=t.gcode.replace(y.editGroup.gcode,e.gcode),l=a.split("/").length;c=[].concat(Object(d.a)(c),[Object(p.a)({},t,{level:l,gcode:a,groupName:e.groupName})]),n=[].concat(Object(d.a)(n),[t.id])}else{var r=t.gcode.replace(y.editGroup.gcode,e.gcode),o=r.split("/").length;new RegExp("^"+y.editGroup.gcode+"/","gi").test(t.gcode)&&(c=[].concat(Object(d.a)(c),[Object(p.a)({},t,{level:o,gcode:r})]),n=[].concat(Object(d.a)(n),[t.id]))}})),n.length>0){var l={toDelete:{id:{$in:n}},toUpdate:c};f.a.post("/".concat(a,"/updategroup"),l,t).then((function(e){v(Object(p.a)({},y,{reloadGroup:!0,showEditForm:!1,editGroup:null}))})).catch((function(e){console.log("error"),console.log(e)}))}},cancelFunc:function(){return v(Object(p.a)({},y,{showEditForm:!1}))},myheader:t,pageData:u,dataUrl:a}),y.showAddForm&&c.a.createElement(wn,{loadData:Object(p.a)({},{id:null,gcode:null,level:null,groupName:""},{id:parseInt(y.lastRecordId)+1}),submitFunc:function(e){f.a.post("/".concat(a,"/addcustom"),e,t).then((function(e){v(Object(p.a)({},y,{reloadGroup:!0,showAddForm:!1}))})).catch((function(e){console.log("error"),console.log(e)}))},cancelFunc:function(){return v(Object(p.a)({},y,{showAddForm:!1}))},myheader:t,pageData:b,dataUrl:a}),y.showConfirm&&c.a.createElement(ft,{setShow:function(e){v(Object(p.a)({},y,{showConfirm:e}))},submitFunction:function(){console.log(y.editGroup);var e=[y.editGroup.id];y.tree.map((function(t){t.level>y.editGroup.level&&(new RegExp("^"+y.editGroup.gcode+"/","gi").test(t.gcode)&&(e=[].concat(Object(d.a)(e),[t.id])))}));var n={allDeleteId:e};f.a.post("/".concat(a,"/deletegroup"),n,t).then((function(e){v(Object(p.a)({},y,{reloadGroup:!0,editGroup:null,showConfirm:!1}))})).catch((function(e){console.log("error")}))}})))}Tn.defaultProps={myheader:null,dataUrl:"",filterByGroupId:function(){},captureEditGroup:function(){},canGroupChange:!0,bgColor:"#72a2d9"};var Cn=Tn,Fn=Me.reloadAxiosAll;var Dn=function(e){var t=e.captureProductOfGroup,a=e.pageData,n=c.a.useContext(R),l=(n.basicDataSt,n.setReloadBasicData,n.myheader);n.setBasicData,console.log("BillGroupComponent");var r=c.a.useState(Object(p.a)({},nn.product)),o=Object(i.a)(r,2),s=o[0],m=o[1];c.a.useEffect((function(){}),[s]);var d=function(){var e=Object(Y.a)(V.a.mark((function e(){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fn(s,l);case 2:a=e.sent,t(a),m(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){s.reloadData&&d()}),[s]),c.a.createElement("div",{className:"w-100",style:{paddingBottom:"0"}},c.a.createElement(Cn,{myheader:l,dataUrl:"p35group",filterByGroupId:function(e){e.folders;var t=Object(u.a)(e,["folders"]),a=Object(p.a)({},s,{pageNumber:1,qry:{groupId:e.id},selectGroup:t,reloadData:!0});m(a)},captureEditGroup:function(){},bgColor:"#d1adbf",pageData:a}))};var In=function(e){var t=e.selectProduct,a=(e.setHideProductGridFunc,e.captureProductListFromSelectProductInProductGrid),n=e.resetProductList,l=e.setResetProductList,r=e.refreshProductFunc,o=c.a.useContext(R);o.basicDataSt,o.setReloadBasicData,o.myheader,o.setBasicData,console.log("BillProductGridComponent");var s=c.a.useState(Object(p.a)({},nn.product)),u=Object(i.a)(s,2),b=(u[0],u[1],c.a.useState([])),f=Object(i.a)(b,2),h=f[0],g=f[1];return c.a.useEffect((function(){}),[t]),c.a.useEffect((function(){a(h)}),[h]),c.a.useEffect((function(){n&&g([])}),[n]),c.a.createElement("div",{className:"w-100",style:{marginBottom:"4rem"}},t&&c.a.createElement("div",{className:"grid-flex",style:{margin:"0.2rem"}},c.a.createElement("div",{className:"grid-flextile",style:{border:"2px solid white"}},c.a.createElement("div",{className:"w-100 h-100 flex-center-center bd-blue"},c.a.createElement(G.w,{className:"md-icon",onClick:function(e){return r({isRawMat:!1})}}))),t.map((function(e,t){return c.a.createElement("div",{key:t,className:"grid-flextile",style:{position:"relative",border:"2px solid white"}},c.a.createElement("img",{style:{width:"100%",height:"100%",borderRadius:"0.5rem"},src:e.photoUrl1,alt:"No Image"}),c.a.createElement("div",{style:{position:"absolute",bottom:"0",width:"100%",textAlign:"center",color:"red",backgroundColor:"white",borderRadius:"0 0 0.5rem 0.5rem",opacity:"0.9",height:"20%",overflow:"hidden"}},c.a.createElement("p",null,e.productName)),c.a.createElement("div",{style:{position:"absolute",top:"0",right:"0",textAlign:"center",width:"1.5rem",height:"1.5rem",color:"white",backgroundColor:"red",borderRadius:"50%",opacity:"0.9"}},function(e){var t=0;return h.map((function(a){e.id==a.id&&(t=a.quantity)})),t}(e)),c.a.createElement("div",{className:"grid-price",style:{top:"0",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0)"}},c.a.createElement(L.t,{className:"lg-icon",onClick:function(t){return function(e){for(var t,a=[],n=!1,c=0;c<h.length;c++)if(e.id==h[c].id){n=!0;var r=parseInt(h[c].quantity),o=Object(p.a)({},h[c],Object(m.a)({},"quantity",r+1));a=[].concat(Object(d.a)(a),[o])}else a=[].concat(Object(d.a)(a),[h[c]]);n||(a=[].concat(Object(d.a)(a),[Object(p.a)({},e,(t={},Object(m.a)(t,"quantity",1),Object(m.a)(t,"detailTime",(new Date).toISOString()),t))])),l(!1),g(a)}(e)}})),c.a.createElement("div",{className:"grid-price",style:{bottom:"0",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0)"}},c.a.createElement(L.q,{className:"lg-icon",onClick:function(t){return function(e){for(var t=[],a=0;a<h.length;a++)if(e.id==h[a].id){var n=parseInt(h[a].quantity);if(n>0){var c=Object(p.a)({},h[a],Object(m.a)({},"quantity",n-1));t=[].concat(Object(d.a)(t),[c])}else t=[].concat(Object(d.a)(t),[h[a]])}else t=[].concat(Object(d.a)(t),[h[a]]);l(!1),g(t)}(e)}})))}))))};var Pn=function(e){var t=e.basicDataSt,a=e.transactionArray,n=e.captureBillFromTable,l=e.updateAllTransaction,r=e.captureAllTransaction;console.log("BillTableComponent");var o=t.basicData,s=c.a.useState(null),m=Object(i.a)(s,2),u=m[0],p=m[1],b=c.a.useState([]),f=Object(i.a)(b,2),h=f[0],g=f[1];return c.a.useEffect((function(){console.log("tableIdArray"),console.log(h)}),[h]),c.a.createElement("div",{className:"w-100",style:{marginBottom:"4rem"}},o&&c.a.createElement("div",{className:"grid-flex",style:{margin:"0.2rem 0"}},o.table.map((function(e,t){var o=[];return a.map((function(t){t.table==e.tableName&&(o=[].concat(Object(d.a)(o),[t]))})),e.tableActive?c.a.createElement("div",{className:"grid-flextile2",key:t},c.a.createElement("div",{style:{minHeight:"5rem",minWidth:"5rem",border:"2px solid white",backgroundColor:"rgba(255,255,255,0.3)",borderRadius:"5px"}},c.a.createElement("div",{className:"circle-p",style:{width:"2rem",height:"2rem",borderRadius:"50%",opacity:"0.7"},onClick:function(t){if(a){var n=!1;a.map((function(t){t.table==e.tableName&&(n=!0)})),n?(g([]),p(e.tableName)):p(null)}}},c.a.createElement("div",{className:"w-100 h-100 flex-center-center"},c.a.createElement("div",null,e.tableName))),o.map((function(t,a){return c.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},c.a.createElement("div",{className:"bill-p",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 0.1rem"},onClick:function(e){n(t)}},c.a.createElement("div",{style:{marginRight:"0.5rem"}},"".concat(t.name)),c.a.createElement("div",{style:"close"==t.queueStatus?{textDecoration:"line-through"}:null},"Q-".concat(t.queue,":"))),u==e.tableName&&c.a.createElement("div",null,c.a.createElement("input",{type:"checkbox",style:{width:"1.2rem",height:"1.2rem"},onChange:function(e){!function(e,t){if(e.target.checked){var a=[].concat(Object(d.a)(h),[t.id]),n=Object(d.a)(new Set(a));g(n)}else{var c=[];h.map((function(e){e!=t.id&&(c=[].concat(Object(d.a)(c),[e]))})),g(c)}}(e,t)}})))})),u==e.tableName?c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("select",{onChange:function(e){l(e,h)}},c.a.createElement("option",null,"..."),c.a.createElement("option",null,"close")),c.a.createElement("div",{className:"flex-center-center navLink",onClick:function(e){r(h)}},c.a.createElement(W,{iconName:"RiShareForwardLine",className:"navIcon"}))):null)):null}))))};var Rn=function(e){var t=e.submitFunc,a=e.cancelFunc,n=(e.setShowReductionBox,e.billFormDataState),l=(e.setBillFormDtaState,e.basicData),r=e.fieldName,o=e.subFieldName,s=e.inputType,u=e.calDigit,b=e.form,f=(e.secondForm,n.customerPointReduction),h=n.remainingPoint,g=n.totalPoint;console.log("renderReductionBox.................");var y=c.a.useState(function(e){var t=[];return e.map((function(e,a){var c,l=0;e["".concat(r,"InPercentage")]?(l=e["".concat(r,"Rate")]*n.total/100,l=parseInt(l*u)/u):l=e["".concat(r,"Rate")];var o=Object(p.a)({},e,(c={},Object(m.a)(c,"selection",!1),Object(m.a)(c,"".concat(r,"Amount"),l),c));t=[].concat(Object(d.a)(t),[o])})),console.log("tempArray genBoxState"),console.log(t),t}(l[r])),v=Object(i.a)(y,2),w=v[0],E=v[1],N=c.a.useState({customerPointReduction:f,remainingPoint:h,totalPoint:g}),j=Object(i.a)(N,2),O=j[0];j[1],c.a.useEffect((function(){console.log("point"),console.log(O)}),[O]);var x=function(e,t){var a=[];w.map((function(n,c){if(e)if(c==t){var l=Object(p.a)({},n,{selection:e});a=[].concat(Object(d.a)(a),[l])}else{var r=Object(p.a)({},n,{selection:!1});a=[].concat(Object(d.a)(a),[r])}else if(c==t){var o=Object(p.a)({},n,{selection:e});a=[].concat(Object(d.a)(a),[o])}else a=[].concat(Object(d.a)(a),[n])})),E(a)};return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{position:"relative"}},c.a.createElement("div",{className:""},c.a.createElement("h5",null,b.formHead),c.a.createElement("div",{className:"TableGrid-head",style:{display:"grid",gridTemplateColumns:"5% 35% 20% 20% 20%",gridAutoRows:"minmax(1rem,auto)",backgroundColor:"green",zIndex:"10"}},Object.keys(b).map((function(e,t){if("formHead"!=e)return c.a.createElement("div",{className:"flex-center-center"},b[e])}))),c.a.createElement("div",{className:"TableGrid-head",style:{display:"grid",gridTemplateColumns:"5% 35% 20% 20% 20%",gridAutoRows:"minmax(1rem,auto)",backgroundColor:"white",zIndex:"10",marginBottom:"1rem"}},w.map((function(e,t){return o.map((function(a,l){return"radio"==s[a]?e[a]?c.a.createElement("div",{className:"flex-center-center",onClick:function(e){x(!1,t)}},c.a.createElement(G.t,null)):c.a.createElement("div",{className:"flex-center-center",onClick:function(e){x(!0,t)}},c.a.createElement(G.u,null)):c.a.createElement("input",{key:"".concat(t,"-").concat(l),type:s[a],checked:e[a],value:e[a],onChange:function(e){"number"==s[a]?function(e,t,a){var c=parseInt(e.target.value*u)/u,l=[];w.map((function(e,o){if(o==a){var i,s=0;e["".concat(r,"InPercentage")]?(s=c*n.total/100,s=parseInt(s*u)/u):s=c;var b=Object(p.a)({},e,(i={},Object(m.a)(i,t,c),Object(m.a)(i,"".concat(r,"Amount"),s),i));l=[].concat(Object(d.a)(l),[b])}else l=[].concat(Object(d.a)(l),[e])})),E(l)}(e,a,t):"checkbox"==s[a]?function(e,t,a){var c=[];w.map((function(l,o){if(o==a){var i,s=0;e.target.checked?(s=l["".concat(r,"Rate")]*n.total/100,s=parseInt(s*u)/u):s=l["".concat(r,"Rate")];var b=Object(p.a)({},l,(i={},Object(m.a)(i,t,e.target.check),Object(m.a)(i,"".concat(r,"Amount"),s),i));c=[].concat(Object(d.a)(c),[b])}else c=[].concat(Object(d.a)(c),[l])})),E(c)}(e,a,t):function(e,t,a){var n=[];w.map((function(c,l){if(l==a){var r=Object(p.a)({},c,Object(m.a)({},t,e.target.value));n=[].concat(Object(d.a)(n),[r])}else n=[].concat(Object(d.a)(n),[c])})),E(n)}(e,a,t)},disabled:a=="".concat(r,"Amount")?"disabled":""})}))})))),c.a.createElement("div",{className:"Modal-footer"},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){var a=!1,n=null;w.map((function(e){e.selection&&(a=!0,n=e)})),a&&t(n,O)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){a()}},c.a.createElement(L.a,null))))))},An=re.genId,Mn=function(e){var t=e.billFormData,a=(e.setBillFormData,e.basicData),n=e.submitFunc,l=e.cancelFunc,r=e.calDigit,o=e.pageData,s=e.myheader,u=e.runIsGenId;console.log("EditBillForm");var b=o.editBillForm,h=o.reductionForm,g=o.taxForm,y=o.customerPointForm,v=c.a.useState(Object(p.a)({},t,{remainingCustomerPoint:0})),w=Object(i.a)(v,2),E=w[0],N=w[1],j=c.a.useState(!0),O=Object(i.a)(j,2),x=O[0],k=O[1];c.a.useEffect((function(){console.log("billFormDataState............"),console.log(E)}),[E]);var S=c.a.useState(!1),T=Object(i.a)(S,2),C=T[0],F=T[1],D=c.a.useState(!1),I=Object(i.a)(D,2),P=I[0],R=I[1];c.a.useEffect((function(){x&&f.a.post("/p35partner/getlimit",{id:E.partnerId},s).then((function(e){if(e.data.data[0]){var t={remainingCustomerPoint:e.data.data[0].remainingCustomerPoint};N(Object(p.a)({},E,{},t))}k(!1)}))}),[x]);var A=function(e){var t=function(e){var t=Array.from(e),a="";return t.map((function(e,t){a=3==t||6==t?"".concat(a," ").concat(e):"".concat(a).concat(e)})),a},a="";return e.map((function(n,c){a=c==e.length-1?"".concat(a).concat(t(n)):"".concat(a).concat(t(n),",")})),a},M=function(e,t){N(Object(p.a)({},E,Object(m.a)({},t,e.target.value)))};return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{width:"90%",backgroundColor:"white"}},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("h3",null,b.formHead)),c.a.createElement("div",{className:"flex-center-center w-100"},Object.keys(b).map((function(e,t){return"formHead"==e?null:"id"==e?c.a.createElement("div",{className:"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},c.a.createElement("div",{className:"xc4"},c.a.createElement("div",{className:"flex-center-center jc-start",style:{color:"#bb3016"}},b[e],c.a.createElement(G.w,{className:"md-icon",onClick:function(e){u(!0);var t=An();N(Object(p.a)({},E,{id:t}))}}))),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{type:"number",value:E[e],disabled:"disabled",onChange:function(t){N(Object(p.a)({},E,Object(m.a)({},e,t.target.value)))}}))):"date"==e?c.a.createElement("div",{className:"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},c.a.createElement("div",{className:"xc4",style:{color:"blue"}},b[e]),c.a.createElement("div",{className:"xc8"},c.a.createElement(va,{style:{height:"1.6rem",fontSize:"0.8rem"},onMyClick:function(e){console.log(e),N(Object(p.a)({},E,{date:e}))},value:E[e]}))):"transactionStatus"==e||"tableStatus"==e||"partnerType"==e||"paymentType"==e||"queueStatus"==e||"title"==e?c.a.createElement("div",{className:"paymentType"==e?"flex-center-center jc-start w-100":"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},c.a.createElement("div",{className:"xc4"},b[e]),c.a.createElement("select",{className:"xc8",onChange:function(t){return M(t,e)}},c.a.createElement("option",null,"...."),a[e].map((function(t,a){return c.a.createElement("option",{key:a,selected:E[e]==t?"selected":""},t)})))):"table"==e?c.a.createElement("div",{className:"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},c.a.createElement("div",{className:"xc4",style:{display:"flex",justifyContent:"flex-start"}},c.a.createElement("div",{className:"xc12",style:{color:"green"}},b[e])),c.a.createElement("select",{className:"xc8",onChange:function(e){var t=E;a.table.map((function(a){a.tableName==e.target.value&&(t=Object(p.a)({},t,{table:a.tableName}))})),N(t)}},c.a.createElement("option",null,"...."),a[e].map((function(t,a){return c.a.createElement("option",{key:a,selected:E[e]==t.tableName?"selected":""},t.tableName)})))):"active"==e?c.a.createElement("div",{className:"flex-center-center jc-start w-100",key:t,style:{padding:"0.3rem"}},c.a.createElement("div",{className:"xc2"},b[e]),c.a.createElement("div",{className:"xc10"},c.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},c.a.createElement("input",{className:"xc1",style:{textAlign:"left"},type:"checkbox",checked:E[e],onChange:function(t){N(Object(p.a)({},E,Object(m.a)({},e,t.target.checked)))}}),c.a.createElement("div",{className:"xc11"})))):"transactionType"==e?c.a.createElement("div",{className:"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},c.a.createElement("div",{className:"xc4"},b[e]),c.a.createElement("select",{className:"xc8",onChange:function(e){var t=E;a.transaction.map((function(a){a.transactionType==e.target.value&&(t=Object(p.a)({},t,{transactionType:a.transactionType,effectStock:a.effectStock,effectCustomerPoint:a.effectCustomerPoint,effectSpending:a.effectSpending}))})),N(t)}},c.a.createElement("option",null,"..."),a.transaction.map((function(t,a){return c.a.createElement("option",{key:a,selected:E[e]==t.transactionType?"selected":""},t.transactionType)})))):"total"==e||"totalReduction"==e||"totalTax"==e||"grandTotal"==e||"reductCustomerPoint"==e||"totalPoint"==e||"remainingCustomerPoint"==e?c.a.createElement("div",{className:"flex-center-center jc-start w-100",key:t,style:{padding:"0.3rem"}},c.a.createElement("div",{className:"xc4",style:{fontSize:"grandTotal"==e?"1.4rem":"1.2rem",backgroundColor:"totalPoint"==e?"#bbc9a5":"reductCustomerPoint"==e?"#bcd890":"remainingCustomerPoint"==e?"#96bf65":"grandTotal"==e?"#a7c6eb":"total"==e?"#8cc5bb":"totalTax"==e?"#fced96":"totalReduction"==e?"#fdf07a":void 0,borderRadius:"5px"}},b[e]),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{style:{fontSize:"grandTotal"==e?"1.4rem":"1.2rem",color:"reductCustomerPoint"==e||"totalReduction"==e?"red":"black"},type:"number",value:E[e],onChange:function(t){N(Object(p.a)({},E,Object(m.a)({},e,t.target.value)))},disabled:"reductCustomerPoint"==e?null:"disabled"}))):"phone"==e?c.a.createElement("div",{className:"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},c.a.createElement("div",{className:"xc4"},b[e]),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{type:"text",value:A(E[e]),disabled:"disabled"}))):"reduction"==e||"tax"==e?0==E[e].length?c.a.createElement("div",{className:"flex-center-center jc-start w-\u0e3f\u0e080",style:{padding:"0.3rem"}},b[e],c.a.createElement(L.u,{className:"md-icon",onClick:function(t){"reduction"==e?R(!0):F(!0)}})):E[e].map((function(t,a){return c.a.createElement("div",{className:"flex-center-center jc-start w-\u0e3f\u0e080",key:a,style:{padding:"0.3rem"}},c.a.createElement("div",{className:"xc4"},0==a?b[e]:null,0==a?c.a.createElement(L.u,{className:"md-icon",onClick:function(t){"reduction"==e?R(!0):F(!0)}}):null),c.a.createElement("div",{className:"xc8",style:{display:"flex"}},c.a.createElement(L.r,{className:"md-icon",onClick:function(t){!function(e,t){var a,n=E.total,c=E.totalTax,l=E.totalReduction;E.grandTotal,console.log("deleteLine");var r=[];E[e].map((function(e,a){t!=a&&(r=[].concat(Object(d.a)(r),[e]))}));var o=c,i=l;if("tax"==e){var s=0;r.map((function(e){s+=e.taxAmount})),o=s}if("reduction"==e){var u=0;r.map((function(e){u+=e.reductionAmount})),i=u}var b=n-i-o;N(Object(p.a)({},E,(a={},Object(m.a)(a,e,r),Object(m.a)(a,"totalTax",o),Object(m.a)(a,"totalReduction",i),Object(m.a)(a,"grandTotal",b),a)))}(e,a)}}),c.a.createElement("div",{className:"xc6"},function(t){return t.reductionInPercentage?"".concat(t["".concat(e,"Name")]," ").concat(t["".concat(e,"Rate")],"% ="):"".concat(t["".concat(e,"Name")]," ").concat(t["".concat(e,"Rate")]," = ")}(t)),c.a.createElement("div",{className:"xc6"},c.a.createElement("input",{style:{color:"red"},disabled:"disabled",value:t["".concat(e,"Amount")]}))))})):c.a.createElement("div",{className:"remark"==e?"flex-center-center jc-start w-100":"flex-center-center jc-start w-50",key:t,style:{padding:"0.3rem"}},c.a.createElement("div",{className:"xc4",style:{color:"queue"==e?"brown":"black"}},b[e]),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{type:"queue"==e?"number":"text",value:E[e],onChange:function(t){return M(t,e)},onKeyDown:function(t){"partnerId"==e&&function(e){"Enter"==e.key&&(console.log("findCustomerById"),f.a.post("/p35partner/getlimit",{id:e.target.value},s).then((function(e){if(e.data.count>=1){var t=e.data.data[0],a=t.id,n=t.name,c=t.title,l=t.phone,r=t.address,o=t.partnerType,i={partnerId:a,title:c,name:n,phone:l,address:r[0],partnerType:o};N(Object(p.a)({},E,{},i))}})).catch((function(e){console.log("error")})))}(t)}})))}))),c.a.createElement("div",{className:"Modal-footer"},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){n(E)}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){l()}},c.a.createElement(L.a,null))))),P?c.a.createElement(Rn,{billFormDataState:E,basicData:a,setBillFormDataState:N,fieldName:"reduction",subFieldName:["selection","reductionName","reductionRate","reductionInPercentage","reductionAmount"],inputType:{selection:"radio",reductionName:"text",reductionRate:"number",reductionInPercentage:"checkbox",reductionAmount:"number"},submitFunc:function(e,t){console.log("appendReduction"),console.log(e),console.log(t),console.log("==============");var a=t.customerPointReduction,n=(t.remainingPoint,t.totalPoint),c=E.total,l=E.totalReduction,r=E.totalTax,o=(E.grandTotal,[].concat(Object(d.a)(E.reduction),[e])),i=l+e.reductionAmount,s={customerPointReduction:a,totalPoint:n,reduction:o,totalReduction:i,grandTotal:c-r-i};console.log(s),N(Object(p.a)({},E,{},s)),R(!1)},cancelFunc:function(){return R(!1)},calDigit:r,form:h,secondForm:y}):null,C?c.a.createElement(Rn,{billFormDataState:E,basicData:a,setBillFormDataState:N,fieldName:"tax",subFieldName:["selection","taxName","taxRate","taxInPercentage","taxAmount"],inputType:{selection:"radio",taxName:"text",taxRate:"number",taxInPercentage:"checkbox",taxAmount:"number"},submitFunc:function(e){console.log("appendTax");var t=E.total,a=E.totalReduction,n=E.totalTax,c=(E.grandTotal,[].concat(Object(d.a)(E.tax),[e])),l=n+e.taxAmount,r={tax:c,totalTax:l,grandTotal:t-l-a};console.log(r),N(Object(p.a)({},E,{},r)),F(!1)},cancelFunc:function(){return F(!1)},calDigit:r,form:g}):null)},Bn=h.numberWithCommas,Ln=re.genId;function Gn(e){var t=e.blankData,a=e.dataIdx,n=e.closeBillForm,l=e.billFormData,r=e.setBillFormData,o=e.selectOfSelectProduct,s=e.selectOfCustomer,u=(e.setResetProductList,e.calDigit),b=e.pageData,h=e.basicData,g=e.tableTemplate,y=e.saveTableTemplateFunc,v=e.submitFunctionAddFunc,w=e.submitFunctionEditFunc,E=e.submitFunctionDeleteFunc,N=e.runIsGenId,j=e.isGenIdOfBillForm,O=e.updateData,x=e.myheader,k=e.setPrintDataFunc,S=(e.bgColor,e.test,e.setTest,{_id:ie()(),id:"",barcode:"",productName:"",groupId:"",groupName:"",unit:"",price:0,priceLevel:[{price:0,remark:""}],quantity:0,result:0,remark:"",isRawMat:!1,point:0,partnerId:"",name:"",jobStatus:"open",detailTime:""}),T=b.billForm;c.a.useEffect((function(){if(o&&l&&o.dataIdx==a){var e=[].concat(Object(d.a)(l.detail),Object(d.a)(o.selectProduct));r(Object(p.a)({},l,{reCal:!0,detail:e}))}}),[o]),c.a.useEffect((function(){s&&l&&s.dataIdx==a&&r(Object(p.a)({},l,{},s.selectCustomer))}),[s]);var C=c.a.useState(!1),F=Object(i.a)(C,2),D=F[0],I=F[1],P=c.a.useState(null),R=Object(i.a)(P,2),A=R[0],M=R[1],B=c.a.useState(g),G=Object(i.a)(B,2),U=G[0],H=G[1];c.a.useEffect((function(){console.log("editData"),console.log(A)}),[A]),c.a.useEffect((function(){if(l&&l.reCal){var e,t=0,a=0,n=0,c=0,o=0,i=l.tax,s=l.reduction,m=l.detail,b=l.reductCustomerPoint;m.map((function(e){if(e.quantity&&e.price){var n=parseInt(e.price*u)/u,c=parseInt(e.quantity*u)/u,l=parseInt(n*c*u)/u;t+=l}if(e.point){var r=parseInt(e.point*u)/u*(parseInt(e.quantity*u)/u);r=parseInt(r*u)/u,a+=r}}));var f=[];i.map((function(e){if(e.taxActive)if(e.taxInPercentage){var a=t*e.taxRate/100,c=parseInt(a*u)/u;n+=c;var l=Object(p.a)({},e,{taxAmount:c});f=[].concat(Object(d.a)(f),[l])}else{var r=parseInt(e.taxAmount*u)/u;n+=r;var o=Object(p.a)({},e,{taxAmount:r});f=[].concat(Object(d.a)(f),[o])}}));var h=[];s.map((function(e){if(e.reductionActive)if(e.reductionInPercentage){var a=t*e.reductionRate/100,n=parseInt(a*u)/u;c+=n;var l=Object(p.a)({},e,{taxAmount:n});h=[].concat(Object(d.a)(h),[l])}else{var r=parseInt(e.reductionAmount*u)/u;c+=r;var o=Object(p.a)({},e,{taxAmount:r});h=[].concat(Object(d.a)(h),[o])}})),e=t-c+n,b&&(o=parseInt(b*u)/u);var g={reCal:!1,total:t,totalTax:n,totalReduction:c,grandTotal:e,totalPoint:a,reductCustomerPoint:o,tax:f,reduction:h};r(Object(p.a)({},l,{},g))}}),[l]),c.a.useEffect((function(){}),[U]);var _=function(e){var t=new Date(e).toISOString(),a=new Date(t).toLocaleString("en-GB");return{date:a.substring(0,10),time:a.substring(12,17)}},z=function(e){H(e)},K=function(e){console.log("setFilterDataFunc")},q=function(e){console.log("setEditDataFunc"),l.detail.map((function(t){t._id==e._id&&M(t)}))},$=function(e,t){console.log("updateFilterData,,,,,,,,,,,,");var a=l.detail;a[e]=t,r(Object(p.a)({},l,{reCal:!0,detail:a}))},Q=function(e,t,a,n){"Enter"==e.key&&f.a.post("/p35product/getlimit",{id:e.target.value},x).then((function(e){if(e.data.count>=1){var t=e.data.data[0],a=t.id,c=t.barcode,o=t.productName,i=t.groupId,s=t.groupName,m=t.unit,u=t.price,b=t.priceLevel,f=t.remark,h=t.isRawMat,g={_id:ie()(),id:a,barcode:c,productName:o,groupId:i,groupName:s,unit:m,price:u,priceLevel:b,remark:f,isRawMat:h,quantity:0,result:0,partnerId:l.partnerId,name:l.name,jobStatus:"open"},y=[];l.detail.map((function(e,t){y=[].concat(Object(d.a)(y),t==n?[g]:[e])})),r(Object(p.a)({},l,{detail:y}))}})).catch((function(e){console.log("error")}))},X=function(e,t,a,n){"Enter"==e.key&&f.a.post("/p35product/getlimit",{barcode:e.target.value},x).then((function(e){if(e.data.count>=1){var t=e.data.data[0],a=t.id,c=t.barcode,o=t.productName,i=t.groupId,s=t.groupName,m=t.unit,u=t.price,b=t.priceLevel,f=t.remark,h=t.isRawMat,g={_id:ie()(),id:a,barcode:c,productName:o,groupId:i,groupName:s,unit:m,price:u,priceLevel:b,remark:f,isRawMat:h,quantity:0,result:0,partnerId:l.partnerId,name:l.name,jobStatus:"open"},y=[];l.detail.map((function(e,t){y=[].concat(Object(d.a)(y),t==n?[g]:[e])})),r(Object(p.a)({},l,{detail:y}))}})).catch((function(e){console.log("error")}))},J=function(){var e=l.id,t=l.date,a=(l.remindDate,l.branch,l.transactionType),n=l.transactionStatus,r=(l.active,l.table),o=l.tableStatus,i=l.partnerId,s=l.title,m=l.name,u=l.phone,d=l.address,p=l.queue,b=l.queueStatus;return c.a.createElement("div",{className:"h-100 w-100",style:{padding:"0 0.5rem",backgroundColor:"#f5e7a1"}},c.a.createElement("div",{className:"flex-center-center jc-space-between"},c.a.createElement("div",{style:{color:"red"}},"".concat(a," ").concat(T.id,": ").concat(e," (").concat(n,")")),c.a.createElement("div",{style:{color:"blue"}},"".concat(T.date,": ").concat(_(t).date," ").concat(T.time,": ").concat(_(t).time)),c.a.createElement("div",{style:{color:"green"}},"".concat(T.table,": ").concat(r,"(").concat(o,")")),c.a.createElement("div",{style:{color:"brown"}},"".concat(T.queue,": ").concat(p,"(").concat(b,")"))),c.a.createElement("div",{className:"flex-center-center jc-space-between"},c.a.createElement("div",null,"".concat(T.partnerId,":").concat(i)),c.a.createElement("div",null,"".concat(s," ").concat(m)),c.a.createElement("div",null,"".concat(T.phone,": ").concat(function(e){var t=function(e){var t=Array.from(e),a="";return t.map((function(e,t){a=3==t||6==t?"".concat(a," ").concat(e):"".concat(a).concat(e)})),a},a="";return e.map((function(n,c){a=c==e.length-1?"".concat(a).concat(t(n)):"".concat(a).concat(t(n),",")})),a}(u))),c.a.createElement("div",null,"".concat(T.address,": ").concat(d))))},Z={width:"5%",zIndex:"100",backgroundColor:"#dbac50"},ee=c.a.useState(!0),te=Object(i.a)(ee,2),ae=(te[0],te[1],function(){return c.a.createElement("div",{style:Z},A&&c.a.createElement("div",{className:"w-100 h-100"},c.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){!function(){if(A){var e=[];l.detail.map((function(t,a){t._id!=A._id&&(e=[].concat(Object(d.a)(e),[t]))})),r(Object(p.a)({},l,{reCal:!0,detail:e}))}}()}},c.a.createElement(W,{iconName:"MdDelete",className:"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){!function(){if(A){var e=[];l.detail.map((function(t,a){if(t._id==A._id){var n=S;e=[].concat(Object(d.a)(e),[Object(p.a)({},n,{_id:ie()(),detailTime:(new Date).toISOString()}),t])}else e=[].concat(Object(d.a)(e),[t])})),r(Object(p.a)({},l,{reCal:!0,detail:e}))}}()}},c.a.createElement(W,{iconName:"MdAddCircle",className:"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){!function(){if(A){var e=[],t=null;l.detail.map((function(e,a){e._id==A._id&&(t=a)})),null!=t&&t>0&&(l.detail.map((function(a,n){e=[].concat(Object(d.a)(e),n==t-1?[l.detail[t]]:n==t?[l.detail[t-1]]:[a])})),r(Object(p.a)({},l,{detail:e})))}}()}},c.a.createElement(W,{iconName:"FaRegArrowAltCircleUp",className:"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){!function(){if(A){var e=[],t=null,a=l.detail.length-1;l.detail.map((function(e,a){e._id==A._id&&(t=a)})),null!=t&&t<a&&(l.detail.map((function(a,n){e=[].concat(Object(d.a)(e),n==t?[l.detail[t+1]]:n==t+1?[l.detail[t]]:[a])})),r(Object(p.a)({},l,{detail:e})))}}()}},c.a.createElement(W,{iconName:"FaRegArrowAltCircleDown",className:"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){!function(){var e=[];l.detail.map((function(t){e=[].concat(Object(d.a)(e),[t.id])}));var t=Object(d.a)(new Set(e));t=t.sort();var a=[];t.map((function(e){var t=0,n=0,c=null;l.detail.map((function(a){a.id==e&&(t+=a.quantity,n+=a.result,c=Object(p.a)({},a,{quantity:t,result:n}))})),c&&(a=[].concat(Object(d.a)(a),[c]))})),r(Object(p.a)({},l,{reCal:!0,detail:a}))}()}},c.a.createElement(W,{iconName:"MdMergeType",className:"md-icon",textStyle:{color:"black"}})),A.hasDetailProduct&&c.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){console.log("rawUp..........1."),A&&A.hasDetailProduct&&(console.log("rawUp..........2."),f.a.post("/p35product/getlimit",{id:A.id},x).then((function(e){var t=e.data.data[0];if(t&&t.detail&&Array.isArray(t.detail)){var a=[];t.detail.map((function(e){var t=parseInt(A.quantity*u)/u,n=parseInt(e.quantity*u)/u,c=parseInt(t*n*u)/u,l=parseInt(e.price*u)/u,r=parseInt(l*c*u)/u,o=Object(p.a)({},e,{_id:ie()(),selectedLine:!1,priceLevel:[{price:0,remark:""}],jobStatus:"open",quantity:c,result:r});a=[].concat(Object(d.a)(a),[o])}));var n=[];l.detail.map((function(e){n=e._id==A._id?[].concat(Object(d.a)(n),Object(d.a)(a)):[].concat(Object(d.a)(n),[e])})),r(Object(p.a)({},l,{reCal:!0,detail:n})),M(null)}})).catch((function(e){console.log("error"),console.log(e)})))}},c.a.createElement(W,{iconName:"MdRawOn",className:"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox2",style:{height:"2.5rem"},onClick:function(e){M(null),O(l)}},c.a.createElement(W,{iconName:"MdClose",className:"md-icon",textStyle:{color:"black"}}))))});return c.a.createElement("div",{className:"bgc-lightGray app-container h-100 w-100"},c.a.createElement("div",{className:"w-100 h-100"},c.a.createElement("div",{className:"w-100 h-5 "},c.a.createElement("div",{className:"",style:Object(m.a)({height:"100%",width:"100%",display:"flex",justifyContent:"flex-start",alignItems:"center",background:"rgb(240,207,121)"},"background","linear-gradient(90deg, rgba(240,207,121,1) 0%, rgba(153,106,48,1) 100%)")},c.a.createElement("button",{style:{marginRight:"1.2rem"},onClick:function(e){n(l)}},"cancel"==a?c.a.createElement(L.a,null):a),c.a.createElement("div",{className:"iconbox",onClick:function(){var e=Object(Y.a)(V.a.mark((function e(a){var n,c,l,o,i,s,m,u,b;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("plus...."),e.next=4,f.a.post("/p35transaction/getlimit",{limitRow:1,sort:{id:-1}},x);case 4:return n=e.sent,e.next=7,f.a.post("/p35partner/getlimit",{id:h.defaultCustomerId},x);case 7:c=e.sent,l={partnerType:"",id:null,title:"",name:"",phone:[],address:""},c.data.data[0]&&(l=c.data.data[0],l=Object(p.a)({},l,{address:l.address[0]})),o=1,i=null,n.data.data[0]&&(console.log("result.data.data[0]"),i=n.data.data[0],s=(new Date).toISOString(),s=new Date(s).toLocaleString("en-GB").substring(0,10),m=new Date(i.date).toISOString(),(m=new Date(m).toLocaleString("en-GB").substring(0,10))==s&&(o=i.queue+1)),u=[],h.tax.map((function(e){if(e.taxActive){var t=Object(p.a)({},e,{taxAmount:0});u=[].concat(Object(d.a)(u),[t])}})),b=[],h.reduction.map((function(e){if(e.reductionActive){var t=Object(p.a)({},e,{reductionAmount:0});b=[].concat(Object(d.a)(b),[t])}})),r(Object(p.a)({},t,{id:Ln(),date:(new Date).toISOString(),queue:o,queueStatus:"open",partnerId:l.id,partnerType:l.partnerType,title:l.title,name:l.name,phone:l.phone,address:l.address,transactionType:h.transaction[0].transactionType,effectSpending:h.transaction[0].effectSpending,effectCustomerPoint:h.transaction[0].effectCustomerPoint,effectStock:h.transaction[0].effectStock,tax:u,reduction:b,reCal:!0})),N(!0),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(0),console.log("error......"),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}()},c.a.createElement(W,{iconName:"MdAddCircle",className:"md-icon",textStyle:{color:"black"}})),l&&c.a.createElement("div",{className:"iconbox",onClick:function(e){I(!0)}},c.a.createElement(W,{iconName:"MdEdit",className:"md-icon",textStyle:{color:"black"}})),l&&c.a.createElement("div",{className:"iconbox",onClick:function(e){j?v(l):w(l)}},c.a.createElement(W,{iconName:"MdSave",className:"md-icon",textStyle:{color:"black"}})),l&&c.a.createElement("div",{className:"iconbox",onClick:function(e){E(l)}},c.a.createElement(W,{iconName:"MdDelete",className:"md-icon",textStyle:{color:"black"}})),l&&c.a.createElement("div",{className:"iconbox",onClick:function(e){k(!1),setTimeout((function(){k(!0)}),200)}},c.a.createElement(W,{iconName:"MdPrint",className:"md-icon",textStyle:{color:"black"}})))),c.a.createElement("div",{className:"w-100 h-10 "},l&&J()),c.a.createElement("div",{className:"w-100 h-65",style:{display:"flex"}},l&&U&&ae(),l&&U&&c.a.createElement("div",{className:"h-100 w-95 hide-one-print"},c.a.createElement(lt,{colorHead:"#ac7c42",tableTemplate:U,setTableTemplate:z,filterData:l.detail,setFilterData:K,editData:A,setEditData:q,saveTableTemplateFunc:y,isSubTable:!1,useInput:!0,updateFilterData:$,basicData:h,findProductIdByKeyDown:Q,findBarcodeByKeyDown:X,calDigit:u}))),c.a.createElement("div",{className:"w-100 h-20 "},l&&function(){var e=l.total,t=l.totalReduction,a=l.reduction,n=l.totalTax,r=l.tax,o=l.grandTotal;return l.paymentType,c.a.createElement("div",{className:"h-100 w-100 flex-center-center",style:{padding:"0 0.5rem",backgroundColor:"#f5e7a1"}},c.a.createElement("div",{className:"xc6",style:{textAlign:"start"}},r.map((function(e,t){return c.a.createElement("div",null,"".concat(e.taxName," = ").concat(Bn(e.taxAmount,u,"taxAmount")))})),a.map((function(e,t){return c.a.createElement("div",null,"".concat(e.reductionName," = ").concat(Bn(e.reductionAmount,u,"reductionAmount")))}))),c.a.createElement("div",{className:"xc6",style:{textAlign:"end"}},c.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},c.a.createElement("div",{style:{padding:"0 0.5rem",backgroundColor:"#8cc5bb"}},"".concat(T.total," = ").concat(Bn(e,u,"total")))),c.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},c.a.createElement("div",{style:{padding:"0 0.5rem",backgroundColor:""}},"".concat(T.totalTax," = ").concat(Bn(n,u,"totalTax")))),c.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},c.a.createElement("div",{style:{padding:"0 0.5rem",backgroundColor:""}},"".concat(T.totalReduction," = ").concat(Bn(t,u,"totalReduction")))),c.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},c.a.createElement("div",{style:{padding:"0 0.5rem",backgroundColor:"#a7c6eb",fontSize:"1.4rem"}},"".concat(T.grandTotal," = ").concat(Bn(o,u,"grandTotal"))))))}())),D&&h?c.a.createElement(Mn,{billFormData:l,setBillFormData:r,basicData:h,submitFunc:function(e){O(e),r(e),I(!1)},cancelFunc:function(){I(!1)},calDigit:u,pageData:b,myheader:x,runIsGenId:N}):null)}Gn.defaultProps={calDigit:100,bgColor:null};var Un=Gn,Hn=function(e){var t=e.filterData,a=e.setPageNumber,n=e.bgColor,l=e.backToFilter,r=e.editData,o=e.captureEditData,i=e.setReloadDataFunc,s=t.pageNumber,m=t.limitRow,u=t.count,d=function(){return Math.ceil(u/m)};return c.a.createElement("div",{className:"badge-frame-xc12",style:{background:n,height:"2rem"}},c.a.createElement("div",{className:"flex-center-center flex-no-wrap xc12 jc-start",style:{overflow:"hidden",justifyContent:"flex-start"}},c.a.createElement(L.w,{className:"sm-icon",onClick:function(e){return l()}}),c.a.createElement("div",null,c.a.createElement(G.g,{className:"sm-icon",style:{visibility:d()>1&&s>1?"visible":"hidden"},onClick:function(e){var t=parseInt(s)-1;a(t)}})),d()>1?c.a.createElement("input",{type:"number",style:{width:"70px"},value:s.toString(),onChange:function(e){var t=parseInt(e.target.value);(t<=d()||!t)&&a(t)}}):null,d()>1?c.a.createElement("div",{style:{paddingTop:"1rem"}},c.a.createElement("p",null,"/".concat(d()))):null,d()>1&&s<d()?c.a.createElement("div",null,c.a.createElement(G.h,{className:"sm-icon",onClick:function(e){var t=parseInt(s)+1;a(t)}})):null,d()>1&&s<d()?c.a.createElement("div",null,c.a.createElement(G.n,{className:"sm-icon",onClick:function(e){var t=parseInt(d());a(t)}})):null,c.a.createElement(G.w,{className:"sm-icon",onClick:function(e){i()}}),r&&c.a.createElement(B.d,{className:"sm-icon",onClick:function(e){o(r)}})))},_n=Me.filterAxios,zn=Me.saveTableTemplate,Kn=re.catchErrorToMessage;var qn=function(e){var t=e.basicDataSt,a=e.myheader,n=e.captureCustomer,l=e.partnerInputState,r=e.setPartnerInputState,o=t.basicData;console.log("PartnerForBill");var s=c.a.useState({counst:0,data0:null,dataUrl:"p35partner",lastRecordId:null,limitRow:o.limitRow,pageNumber:1,initPageNumber:!0,qry:{},reloadData:!1,sort:{id:-1},message:null,showModalError:!1}),m=Object(i.a)(s,2),u=m[0],d=m[1];c.a.useEffect((function(){console.log("filterData"),console.log(u)}),[u]),c.a.useEffect((function(){if(d(Object(p.a)({},u,{initPageNumber:!1})),u.pageNumber>0&&!u.initPageNumber){var e=u.dataUrl,t=u.pageNumber,n=u.limitRow,c=u.sort,l=u.qry;f.a.post("/".concat(e,"/getlimit"),Object(p.a)({pageNumber:t,limitRow:n,sort:c},l),a).then((function(e){var t=Object(p.a)({},u,{data0:e.data.data,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});d(t)})).catch((function(e){var t=Object(p.a)({},u,{reloadData:!1,message:Kn(e),showModalConfirm:!1,showModalError:!0});d(t)}))}}),[u.pageNumber]);var b=t.tableTemplate.partnerTableTemplate,h=b.selectedLine;h=Object(p.a)({},h,{showCol:!1}),b=Object(p.a)({},b,{selectedLine:h});var g=c.a.useState(null),y=Object(i.a)(g,2),v=y[0],w=y[1],E=c.a.useState(l),N=Object(i.a)(E,2),j=N[0],x=N[1],k=c.a.useState(b),S=Object(i.a)(k,2),T=S[0],C=S[1],F=function(){console.log("setReloadDataFunc");var e=u.dataUrl,t=u.pageNumber,n=u.limitRow,c=u.sort,l=u.qry;f.a.post("/".concat(e,"/getlimit"),Object(p.a)({pageNumber:t,limitRow:n,sort:c},l),a).then((function(e){var t=Object(p.a)({},u,{data0:e.data.data,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});d(t)})).catch((function(e){var t=Object(p.a)({},u,{reloadData:!1,message:Kn(e),showModalConfirm:!1,showModalError:!0});d(t)}))},D=function(e){u.tableTemplateUrl;zn(e,"p35tabletemplate","partnerTableTemplate",a)},I=function(e){console.log("setFilterDataData0Func"),console.log(e),d(Object(p.a)({},u,{data0:e}))},P=function(){d(Object(p.a)({},u,{data0:null}))},R=function(e){d(Object(p.a)({},u,{pageNumber:e}))};return c.a.createElement("div",{className:"w-100"},c.a.createElement(Oa,{title:"\u0e04\u0e49\u0e19\u0e2b\u0e32",show:!1,setShow:function(){},filterTemplate:t.pageFilter.partnerFilter,inputState:j,setInputState:x,limitRow:u.limitRow,setLimitRow:function(e){d(Object(p.a)({},u,{limitRow:e}))},sort:u.sort,setSort:function(e){d(Object(p.a)({},u,{sort:e}))},filterAxios:function(e,t){_n(e,t,O.partnerFilter,u,a).then((function(e){d(e),r(j)})).catch((function(e){d(e),r(j)}))},basicData:o,LB:t.pageFilterForm.partnerFilterForm}),u.data0?c.a.createElement("div",{className:"w-100 h-100",style:{paddingTop:"1rem"}},c.a.createElement("div",{className:"w-100"},Hn({filterData:u,setPageNumber:R,bgColor:"#74b979",backToFilter:P,editData:v,captureEditData:n,setReloadDataFunc:F})),c.a.createElement("div",{className:"w-100 h90"},c.a.createElement(lt,{colorHead:"#4b6d62",tableTemplate:T,setTableTemplate:C,filterData:u.data0,setFilterData:I,editData:v,setEditData:w,saveTableTemplateFunc:D,isSubTable:!1,useInput:!1,updateFilterData:function(){},basicData:o}))):null,u.showModalError?ht({setShow:function(e){d(Object(p.a)({},u,{showModalError:e}))},message:u.message}):null)},Wn=Me.filterAxios,$n=Me.saveTableTemplate,Vn=re.catchErrorToMessage;var Yn=function(e){var t=e.basicDataSt,a=e.myheader,n=e.pageFilter,l=e.pageFilterForm,r=e.captureTransaction,o=e.transactionInputState,s=e.setTransactionInputState,m=t.basicData;console.log("TransactionForBill");var u=c.a.useState({counst:0,data0:null,dataUrl:"p35transaction",lastRecordId:null,limitRow:m.limitRow,pageNumber:1,initPageNumber:!0,qry:{},reloadData:!1,sort:{id:-1},message:null,showModalError:!1}),d=Object(i.a)(u,2),b=d[0],h=d[1];c.a.useEffect((function(){console.log("filterData"),console.log(b)}),[b]),c.a.useEffect((function(){if(h(Object(p.a)({},b,{initPageNumber:!1})),b.pageNumber>0&&!b.initPageNumber){var e=b.dataUrl,t=b.pageNumber,n=b.limitRow,c=b.sort,l=b.qry;f.a.post("/".concat(e,"/getlimit"),Object(p.a)({pageNumber:t,limitRow:n,sort:c},l),a).then((function(e){var t=Object(p.a)({},b,{data0:e.data.data,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});h(t)})).catch((function(e){var t=Object(p.a)({},b,{reloadData:!1,message:Vn(e),showModalConfirm:!1,showModalError:!0});h(t)}))}}),[b.pageNumber]);var g=c.a.useState(null),y=Object(i.a)(g,2),v=y[0],w=y[1],E=c.a.useState(o),N=Object(i.a)(E,2),j=N[0],x=N[1],k=t.tableTemplate.transactionTableTemplate,S=k.selectedLine;S=Object(p.a)({},S,{showCol:!1}),k=Object(p.a)({},k,{selectedLine:S});var T=c.a.useState(k),C=Object(i.a)(T,2),F=C[0],D=C[1],I=function(){console.log("setReloadDataFunc");var e=b.dataUrl,t=b.pageNumber,n=b.limitRow,c=b.sort,l=b.qry;f.a.post("/".concat(e,"/getlimit"),Object(p.a)({pageNumber:t,limitRow:n,sort:c},l),a).then((function(e){var t=Object(p.a)({},b,{data0:e.data.data,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});h(t)})).catch((function(e){var t=Object(p.a)({},b,{reloadData:!1,message:Vn(e),showModalConfirm:!1,showModalError:!0});h(t)}))},P=function(e){b.tableTemplateUrl;$n(e,"p35tabletemplate","transactionTableTemplate",a)},R=function(){h(Object(p.a)({},b,{data0:null}))},A=function(e){h(Object(p.a)({},b,{pageNumber:e}))};return c.a.createElement("div",{className:"w-100"},c.a.createElement(Oa,{title:"\u0e04\u0e49\u0e19\u0e2b\u0e32\u0e1a\u0e34\u0e25",show:!1,setShow:function(){},filterTemplate:n.transactionFilter,inputState:j,setInputState:x,limitRow:b.limitRow,setLimitRow:function(e){h(Object(p.a)({},b,{limitRow:e}))},sort:{id:-1},setSort:function(e){h(Object(p.a)({},b,{sort:e}))},filterAxios:function(e,t){Wn(e,t,O.transactionFilter,b,a).then((function(e){h(e),s(j)})).catch((function(e){h(e),s(j)}))},basicData:m,LB:l.transactionFilterForm}),b.data0?c.a.createElement("div",{className:"w-100 h-100"},c.a.createElement("div",{className:"w-100"},Hn({filterData:b,setPageNumber:A,bgColor:"#72a2d9",backToFilter:R,editData:v,captureEditData:r,setReloadDataFunc:I})),c.a.createElement("div",{className:"w-100 h90"},c.a.createElement(lt,{colorHead:"#4b6d62",tableTemplate:F,setTableTemplate:D,filterData:b.data0,setFilterData:function(){},editData:v,setEditData:w,saveTableTemplateFunc:P,isSubTable:!1,useInput:!1,updateFilterData:function(){},basicData:m}))):null,b.showModalError?ht({setShow:function(e){h(Object(p.a)({},b,{showModalError:e}))},message:b.message}):null)},Qn=re.catchErrorToMessage,Xn=Me.saveTableTemplate,Jn=Me.filterAxios;var Zn=function(e){var t=e.pageData,a=e.basicDataSt,n=e.myheader,l=(e.billMenuFilter,e.billMenuInputState),r=e.billMenuSort,o=e.billMenuLimitRow,s=e.billMenuShowTransaction,b=(e.billMenuOption,e.setFilterDataFunc);console.log("BillMenuComponent");var h=a.basicData,g=t.jobStatusForm;c.a.useEffect((function(){}),[l]);var y=function(e){Xn(e,"p35tabletemplate","billMenuTableTemplate",n)},v=c.a.useState(null),w=Object(i.a)(v,2),E=w[0],N=w[1],j=c.a.useState(a.tableTemplate.billMenuTableTemplate),O=Object(i.a)(j,2),x=O[0],k=O[1],S=c.a.useState(null),T=Object(i.a)(S,2),C=T[0],F=T[1],D=c.a.useState(!1),I=Object(i.a)(D,2),P=I[0],R=I[1],A=c.a.useState(null),M=Object(i.a)(A,2),B=M[0],G=M[1],U=c.a.useState(null),H=Object(i.a)(U,2),_=H[0],z=H[1],K=c.a.useState(null),q=Object(i.a)(K,2),W=q[0],$=q[1],V=c.a.useState(null),Y=Object(i.a)(V,2),Q=Y[0],X=Y[1],J=c.a.useState(!1),Z=Object(i.a)(J,2),ee=Z[0],te=Z[1];c.a.useEffect((function(){}),[E]),c.a.useEffect((function(){}),[B]);var ae=function(e,t){console.log("filterAxios");var c=a.pageFilter.billMenuFilter;Jn(e,t,c,{pageNumber:1,limitRow:o,sort:r,dataUrl:"p35transaction"},n).then((function(t){var a;console.log("result....."),console.log(t.data0);var n=function(e){var t=[];return e.map((function(e){e._id;var a=e.detail,n=e.date,c=Object(u.a)(e,["_id","detail","date"]);a.map((function(e){var a=e.id,l=e.barcode,r=Object(u.a)(e,["id","barcode"]),o=Object(p.a)({},c,{productId:a,productBarcode:l,date:n,time:n},r);t=[].concat(Object(d.a)(t),[o])}))})),t}(t.data0);G(t.data0),N(n),b((a={},Object(m.a)(a,"billMenuShowTransaction",!0),Object(m.a)(a,"billMenuOption",e),a))})).catch((function(e){console.log(e)}))};return c.a.useEffect((function(){a.tableTemplate&&k(a.tableTemplate.billMenuTableTemplate)}),[a]),c.a.useEffect((function(){}),[C]),c.a.createElement("div",{className:" w-100",style:{marginBottom:"4rem",position:"relative"}},c.a.createElement("div",{className:""},c.a.createElement(Oa,{show:!0,setShow:function(){},filterTemplate:a.pageFilter.billMenuFilter,inputState:l,setInputState:function(e){return b(Object(m.a)({},"billMenuInputState",e))},limitRow:o,setLimitRow:function(e){return b(Object(m.a)({},"billMenuLimitRow",e))},sort:r,setSort:function(e){return b(Object(m.a)({},"billMenuSort",e))},filterAxios:ae,basicData:h,LB:a.pageFilterForm.transactionFilterForm})),P&&a&&c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box"},c.a.createElement("div",{className:"Modal-header"},c.a.createElement("h4",null,g.formHead)),c.a.createElement("div",{className:"flex-center-center",style:{marginBottom:"02rem"}},c.a.createElement("div",{className:"xc6"},g.jobStatus),c.a.createElement("div",{className:"xc6"},c.a.createElement("select",{style:{width:"100%"},className:"xc8",onChange:function(e){$(e.target.value)}},c.a.createElement("option",null,"...."),h.jobStatus.map((function(e,t){return c.a.createElement("option",{key:t,selected:_.jobStatus==e?"selected":""},e)}))))),c.a.createElement("div",{className:"Modal-footer"},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){if("open"==W||"close"==W){var t=[],a=[];E.map((function(e){e._id;var n=e.productId,c=e.productBarcode,l=e.productName,r=e.groupId,o=e.groupName,i=e.unit,s=e.price,m=e.priceLevel,b=e.quantity,f=e.result,h=e.remark,g=e.isRawMat,y=e.point,v=e.jobStatus;if(Object(u.a)(e,["_id","productId","productBarcode","productName","groupId","groupName","unit","price","priceLevel","quantity","result","remark","isRawMat","point","jobStatus"]),e.id==_.id){var w={id:n,barcode:c,productName:l,groupId:r,groupName:o,unit:i,price:s,priceLevel:m,quantity:b,result:f,remark:h,isRawMat:g,point:y,jobStatus:v};e.productId==_.productId?(t=[].concat(Object(d.a)(t),[Object(p.a)({},e,{jobStatus:W})]),a=[].concat(Object(d.a)(a),[Object(p.a)({},w,{jobStatus:W})])):(t=[].concat(Object(d.a)(t),[e]),a=[].concat(Object(d.a)(a),[w]))}else t=[].concat(Object(d.a)(t),[e])}));var c={id:_.id,detail:a};f.a.post("/p35transaction/updatecustom",c,n).then((function(e){N(t),R(!1)})).catch((function(e){te(!0),X(Qn(e))}))}}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){R(!1)}},c.a.createElement(L.a,null)))))),s&&E?c.a.createElement(lt,{colorHead:"#4b2c17",tableTemplate:x,setTableTemplate:k,filterData:E,setFilterData:N,editData:C,setEditData:F,saveTableTemplateFunc:y,isSubTable:!1,updateFilterData:function(){},useInput:!1,selectData:null,editIconField:"jobStatus",editIconFieldFunc:function(e){R(!0),z(e)}}):null,ee?ht({setShow:te,message:Q}):null)},ec=h.numberWithCommas;var tc=function(e){var t=e.basicDataSt,a=e.myheader,n=e.pageData,l=e.showBillForm1,r=e.showBillForm2,o=e.billFormData1,s=e.billFormData2,u=e.setData1,d=e.setData2,b=e.setDetail1,h=e.setDetail2,g=e.calDigit,y=e.submitConfirm;console.log("BillBarcode");var v=n.billBarcodeForm,w={productId:"",barcode:"",partnerId:"",phone:"",table:"",queue:"",paymentType:t.basicData.paymentType[0],cash:0,grandTotal:0,change:0},E=c.a.useState(!1),N=Object(i.a)(E,2),j=N[0],O=N[1],x=c.a.useState(!1),k=Object(i.a)(x,2),S=(k[0],k[1],c.a.useState(Object(p.a)({},w))),T=Object(i.a)(S,2),C=T[0],F=T[1],D=c.a.useState(null),I=Object(i.a)(D,2);I[0],I[1],c.a.useEffect((function(){C.paymentType==t.basicData.paymentType[0]?O(!0):O(!1)}),[C]),c.a.useEffect((function(){l&&o&&(console.log(o.grandTotal),F(Object(p.a)({},C,{productId:"",barcode:"",partnerId:"",phone:"",grandTotal:o.grandTotal}))),r&&s&&(console.log(s.grandTotal),F(Object(p.a)({},C,{productId:"",barcode:"",partnerId:"",phone:"",grandTotal:s.grandTotal})))}),[o,s]);var P=function(e){return"productId"==e||"partnerId"==e||"queue"==e||"cash"==e?"number":"barcode"==e||"phone"==e?"string":void 0},R=function(e,t){"partnerId"==e?function(e){"Enter"==e.key&&(console.log("findCustomerById"),f.a.post("/p35partner/getlimit",{id:e.target.value},a).then((function(e){if(e.data.data[0]){var t=e.data.data[0],a=t.id,n=t.name,c=t.title,o=t.phone,i=t.address,s=t.partnerType,m={partnerId:a,title:c,name:n,phone:o,address:i[0],partnerType:s};1==l&&(console.log("showBillForm1"),u(m)),1==r&&(console.log("showBillForm2"),d(m)),F(Object(p.a)({},C,{partnerId:""}))}else F(Object(p.a)({},C,{partnerId:""}))})).catch((function(e){console.log("error")})))}(t):"phone"==e?function(e){if("Enter"==e.key){console.log("findCustomerByPhone");var t=Object(m.a)({},"phone",{$elemMatch:{$eq:e.target.value}});f.a.post("/p35partner/getlimit",t,a).then((function(e){if(e.data.data[0]){var t=e.data.data[0],a=t.id,n=t.name,c=t.title,o=t.phone,i=t.address,s=t.partnerType,m={partnerId:a,title:c,name:n,phone:o,address:i[0],partnerType:s};1==l&&u(m),1==r&&d(m),F(Object(p.a)({},C,{phone:""}))}else F(Object(p.a)({},C,{phone:""}))})).catch((function(e){console.log("error")}))}}(t):"queue"==e?function(e){if("Enter"==e.key){var t={queue:e.target.value,queueStatus:"open"};1==l&&u(t),1==r&&d(t),F(w)}}(t):"productId"==e?function(e){"Enter"==e.key&&(console.log("findProductById"),f.a.post("/p35product/getlimit",{id:e.target.value},a).then((function(e){if(console.log("result"),console.log(e.data),e.data.data[0]){var t=e.data.data[0],a=t.id,n=t.barcode,c=t.productName,o=t.groupId,i=t.groupName,s=t.unit,m=t.price,u=t.priceLevel,d=t.point,f=t.isRawMat,g=t.remark,y=(t.active,{id:a,barcode:n,productName:c,groupId:o,groupName:i,unit:s,price:m,priceLevel:u,point:d,isRawMat:f,remark:g,_id:ie()(),selectedLine:!1,quantity:1,result:m,jobStatus:"open",detailTime:(new Date).toISOString()});1==l&&(console.log("showBillForm1"),b(y)),1==r&&(console.log("showBillForm2"),h(y)),F(Object(p.a)({},C,{productId:""}))}else F(Object(p.a)({},C,{productId:""}))})).catch((function(e){console.log("error")})))}(t):"barcode"==e&&function(e){"Enter"==e.key&&(console.log("findProductById"),f.a.post("/p35product/getlimit",{barcode:e.target.value},a).then((function(e){if(console.log("result"),console.log(e.data),e.data.data[0]){var t=e.data.data[0],a=t.id,n=t.barcode,c=t.productName,o=t.groupId,i=t.groupName,s=t.unit,m=t.price,u=t.priceLevel,d=t.point,f=t.isRawMat,g=t.remark,y=(t.active,{id:a,barcode:n,productName:c,groupId:o,groupName:i,unit:s,price:m,priceLevel:u,point:d,isRawMat:f,remark:g,_id:ie()(),selectedLine:!1,quantity:1,result:m,jobStatus:"open",detailTime:(new Date).toISOString()});1==l&&(console.log("showBillForm1"),b(y)),1==r&&(console.log("showBillForm2"),h(y)),F(Object(p.a)({},C,{barcode:""}))}else F(Object(p.a)({},C,{barcode:""}))})).catch((function(e){console.log("error")})))}(t)},A=function(e){if("table"==e)return c.a.createElement("select",{className:"",onChange:function(e){return function(e){var t={table:e.target.value,tableStatus:"open"};1==l&&u(t),1==r&&d(t),F(w)}(e)}},c.a.createElement("option",null,"...."),t.basicData[e].map((function(e,t){return e.tableActive?c.a.createElement("option",{key:t},e.tableName):null})));if("paymentType"==e)return c.a.createElement("select",{className:"",onChange:function(e){return F(Object(p.a)({},C,{paymentType:e.target.value}))}},c.a.createElement("option",null,"...."),t.basicData[e].map((function(e,t){return c.a.createElement("option",{key:t,selected:C.paymentType==e?"selected":""},e)})));if("cash"==e){var a;if(j)return c.a.createElement("input",{type:"number",value:C[e],style:(a={fontSize:"1.2",color:C[e]<C.grandTotal?"red":"black"},Object(m.a)(a,"fontSize","1.5rem"),Object(m.a)(a,"backgroundColor","#fdf07a"),a),onKeyDown:function(e){if("Enter"==e.key){var t=e.target.value-C.grandTotal;F(Object(p.a)({},C,{change:t}))}},onChange:function(t){F(Object(p.a)({},C,Object(m.a)({},e,t.target.value)))}})}else{if("grandTotal"==e)return c.a.createElement("div",{style:{backgroundColor:"#a7c6eb",fontSize:"1.4rem"}},ec(C.grandTotal,g,"grandTotal"));if("change"!=e)return c.a.createElement("input",{type:P(e),value:C[e],onKeyDown:function(t){R(e,t)},onChange:function(t){F(Object(p.a)({},C,Object(m.a)({},e,t.target.value)))}});if(j)return c.a.createElement("div",{style:{backgroundColor:"#fdf07a",fontSize:"1.4rem"}},ec(C.change,g,"change"))}};return c.a.createElement("div",{className:"bgc-lightGray h-100 w-100",style:{paddingTop:"0.5rem"}},o||s?Object.keys(v).map((function(e,t){return c.a.createElement("div",{key:t,className:"flex-center-center jc-start",style:{padding:"0.2rem",width:"100%",maxWidth:"50vw"}},"cash"==e||"change"==e||"grandTotal"==e?c.a.createElement("div",{style:{width:"30%",fontSize:"1.2rem",color:"grandTotal"==e?"black":"brown"}},v[e]):c.a.createElement("div",{style:{width:"30%",color:"black"}},v[e]),c.a.createElement("div",{style:{width:"70%"}},A(e)))})):null,o||s?c.a.createElement("div",{className:"w-100 flex-center-center",style:{margin:"1.5rem 0"}},c.a.createElement("button",{style:{width:"40%"},onClick:function(e){y()}},c.a.createElement(L.g,{style:{fontSize:"4rem"}}))):null)};var ac=function(e){var t=e.basicDataSt,a=e.queueArray,n=e.captureBillFromTable,l=e.updateQueue;console.log("BillQueue");var r=t.basicData,o=c.a.useState(null),s=Object(i.a)(o,2),m=s[0],u=s[1];return c.a.createElement("div",{className:"w-100",style:{marginBottom:"4rem"}},r&&c.a.createElement("div",{className:"grid-flex bd=green",style:{margin:"0.2rem"}},a.map((function(e,t){return"open"==e.queueStatus?c.a.createElement("div",{className:"grid-flextile2",key:t},c.a.createElement("div",{key:t,style:{minHeight:"5rem",minWidth:"5rem",border:"2px solid rgb(0,153,0)",backgroundColor:"rgba(153,255,153,0.1)",borderRadius:"5px",marginBottom:"0.2rem"}},c.a.createElement("div",{className:"circle-p",style:{width:"2rem",height:"2rem",borderRadius:"50%",opacity:"0.7"},onClick:function(t){return u(e.queue)}},c.a.createElement("div",{className:"w-100 h-100 flex-center-center"},c.a.createElement("div",{className:"bill-p"},e.queue))),c.a.createElement("div",{className:"bill-p",style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},c.a.createElement("div",{onClick:function(t){return n(e)}},"".concat(e.table,"-").concat(e.name)),m==e.queue?c.a.createElement("div",{style:{marginLeft:"1rem"}},c.a.createElement("select",{onChange:function(t){l(t,e)}},c.a.createElement("option",null,"..."),c.a.createElement("option",null,"close"))):null))):null}))))},nc=Me.saveTableTemplate,cc=re.catchErrorToMessage;(new Date).toISOString(),(new Date).toISOString();var lc=function(){console.log("Bill");var e=c.a.useContext(R),t=e.basicDataSt,a=(e.setReloadBasicData,e.myheader),n=(e.setBasicData,e.tokenSt),l=e.setReloadCheckToken,r=function(){var e=new Date,t=localStorage.getItem("expirationDate"),a=new Date(t);if(!t)return null;var n=new Date(a.toISOString());n.setDate(n.getDate()-3);var c=new Date(n);e.getTime(),a.getTime();return e>a?{color:"red"}:e>c?{color:"yellow"}:{color:"green"}},o=c.a.createRef(),b=t.basicData,h=t.pageData,g=t.tableTemplate,y=t.pageFilter,v=t.pageFilterForm,w=t.user,E=c.a.useState(function(){var e=Object(p.a)({},nn.bill);return b&&(e=Object(p.a)({},e,{widthLeft:b.widthLeft,limitRow:b.limitRow,billMenuLimitRow:b.limitRow})),e}()),N=Object(i.a)(E,2),j=N[0],O=N[1],x=c.a.useState(null),k=Object(i.a)(x,2),S=k[0],T=k[1],C=c.a.useState(null),F=Object(i.a)(C,2),D=F[0],I=F[1],P=c.a.useState(!1),A=Object(i.a)(P,2),M=A[0],B=A[1],L=c.a.useState(null),G=Object(i.a)(L,2),U=G[0],H=G[1],_=c.a.useState(fa.partnerInputState),z=Object(i.a)(_,2),K=z[0],q=z[1],$=c.a.useState(fa.transactionInputState),Q=Object(i.a)($,2),X=Q[0],J=Q[1],Z=c.a.useState(!1),ee=Object(i.a)(Z,2),te=ee[0],ae=ee[1],ne=c.a.useState(j.data1),ce=Object(i.a)(ne,2),le=ce[0],re=ce[1],oe=c.a.useState(j.data2),se=Object(i.a)(oe,2),me=se[0],ue=se[1],de=function(e){le&&re(Object(p.a)({},le,{},e))},pe=function(e){me&&ue(Object(p.a)({},me,{},e))},be=function(e){if(le){var t=[].concat(Object(d.a)(le.detail),[e]);re(Object(p.a)({},le,{detail:t,reCal:!0}))}},fe=function(e){if(me){var t=[].concat(Object(d.a)(me.detail),[e]);ue(Object(p.a)({},me,{detail:t,reCal:!0}))}};c.a.useEffect((function(){console.log("printData"),console.log(te),1==te&&window.print()}),[te]),c.a.useEffect((function(){t.tableTemplate&&H(g.productDetailTableTemplateForForm),t.basicData&&O(Object(p.a)({},j,{widthLeft:t.basicData.widthLeft,limitRow:t.basicData.limitRow,billMenuLimitRow:t.basicData.limitRow}))}),[t]),c.a.useEffect((function(){if(j.reloadData){var e;e=[{tableStatus:"open"},{queueStatus:"open"}],f.a.post("/p35transaction/getlimit",{limitRow:100,$or:e},a).then((function(e){console.log("result.....reloadData");var t=he(e.data.data),a=t.tableOpen;O(Object(p.a)({},j,{reloadData:!1,count:e.data.count,lastRecordId:e.data.lastRecordId,transactionArray:a,queueArray:t.queueOpen}))})).catch((function(e){console.log("error");var t=Object(p.a)({},j,{reloadData:!1,message:cc(e),showModalConfirm:!1,showModalError:!0});O(t)}))}j.reloadSelectProduct&&f.a.post("/p35product/getlimit",Object(p.a)({limitRow:100,sort:{id:1}},j.qryProduct),a).then((function(e){O(Object(p.a)({},j,{selectProduct:e.data.data,reloadSelectProduct:!1}))})).catch((function(e){var t=Object(p.a)({},j,{reloadSelectProduct:!1,message:cc(e),showModalConfirm:!1,showModalError:!0});O(t)}))}),[j]),c.a.useEffect((function(){console.log("filterData.data1"),j.data1&&re(j.data1)}),[j.data1]),c.a.useEffect((function(){console.log("filterData.data2"),j.data2&&ue(j.data2)}),[j.data2]);var he=function(e){var t=[],a=[],n=[];return b.table.map((function(e){e.tableActive&&(t=[].concat(Object(d.a)(t),[e.tableName]))})),e.map((function(e,c){var l=Object(p.a)({},e,{_id:ie()()});t.map((function(t){t==e.table&&"open"==e.tableStatus&&(a=[].concat(Object(d.a)(a),[l]))})),"open"==e.queueStatus&&(n=[].concat(Object(d.a)(n),[l]))})),{tableOpen:a,queueOpen:n}},ge=function(e){O(Object(p.a)({},j,{isGenIdOfBillForm1:e}))},ye=function(e){O(Object(p.a)({},j,{isGenIdOfBillForm2:e}))},ve=function(e){j.showBillForm1&&O(Object(p.a)({},j,{data1:e,showBillForm1:!1,reloadBillForm1:!0,isGenIdOfBillForm1:!1})),j.showBillForm2&&O(Object(p.a)({},j,{data2:e,showBillForm2:!1,reloadBillForm2:!0,isGenIdOfBillForm2:!1}))},we=function(e){O(Object(p.a)({},j,{selectProduct:e.data0,showParter:!1,showGroup:!1,showProductGrid:!0,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!1}))},Ee=function(e){O(Object(p.a)({},j,{},e))},Ne=function(e){var t=e.id,a=e.title,n=e.name,c=e.partnerType,l=e.phone,r=e.address;O(Object(p.a)({},j,{showCustomerConfirm:!0,customerConfirm:{partnerId:t,title:a,name:n,partnerType:c,phone:l,address:r}}))},je=function(e){j.showBillForm1&&O(Object(p.a)({},j,{editTransaction:e,showTransactionConfirm:!0,isGenIdOfBillForm1:!1})),j.showBillForm2&&O(Object(p.a)({},j,{editTransaction:e,showTransactionConfirm:!0,isGenIdOfBillForm2:!1}))},Oe=function(e){if(e){var t=[];e.map((function(e){if(e.quantity>0){var a=parseInt(e.quantity*e.price*100)/100,n=Object(p.a)({},e,{result:a,_id:ie()(),selectedLine:!1,jobStatus:"open"});t=[].concat(Object(d.a)(t),[n])}})),T(null),O(Object(p.a)({},j,{selectOfSelectProduct:t}))}},xe=function(e){console.log("setPrintDataFunc"),ae(e)};c.a.useEffect((function(){j.reloadBillForm1&&O(Object(p.a)({},j,{showBillForm1:!0,reloadBillForm1:!1}))}),[j.reloadBillForm1]),c.a.useEffect((function(){j.reloadBillForm2&&O(Object(p.a)({},j,{showBillForm2:!0,reloadBillForm2:!1}))}),[j.reloadBillForm2]);var Se=function(e){O(Object(p.a)({},j,{showBillForm1:!1,data1:e,reloadBillForm2:!0}))},Te=function(e){O(Object(p.a)({},j,{showBillForm2:!1,data2:e,reloadBillForm1:!0}))},Ce=function(e){var t={};Object.keys(e).map((function(a){var n=Object(p.a)({},e[a],{showColHead:!0});t=Object(p.a)({},t,Object(m.a)({},a,n))})),H(t),nc(e,"p35tabletemplate","productDetailTableTemplateForForm",a)},Fe=function(e){O(Object(p.a)({},j,{showModalConfirm:!0,dataToDelete:e}))},De=function(){var e=Object(Y.a)(V.a.mark((function e(t){var n,c,l,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._id,n=t.detail,c=Object(u.a)(t,["_id","detail"]),l=[],n.map((function(e){e._id;var t=Object(u.a)(e,["_id"]);l=[].concat(Object(d.a)(l),[t])})),r=Object(p.a)({},c,{detail:l}),f.a.post("/p35transaction/updatetransaction",r,a).then((function(e){if(console.log("done edit............."),j.showBillForm1){var t=Object(p.a)({},j,{reloadData:!0,data1:nn.blankData,reloadBillForm1:!0,showBillForm1:!1});O(t)}if(j.showBillForm2){var a=Object(p.a)({},j,{reloadData:!0,data2:nn.blankData,reloadBillForm2:!0,showBillForm2:!1});O(a)}})).catch((function(e){console.log("error"),console.log(e);var t=Object(p.a)({},j,{message:cc(e),showModalError:!0});console.log(t.message),O(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(Y.a)(V.a.mark((function e(t){var n,c,l,r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._id,n=t.detail,c=Object(u.a)(t,["_id","detail"]),l=[],n.map((function(e){e._id;var t=Object(u.a)(e,["_id"]);l=[].concat(Object(d.a)(l),[t])})),r=Object(p.a)({},c,{detail:l}),f.a.post("/p35transaction/addtransaction",r,a).then((function(e){if(console.log("done add............"),j.showBillForm1){var t=Object(p.a)({},j,{reloadData:!0,data1:nn.blankData,reloadBillForm1:!0,showBillForm1:!1,isGenIdOfBillForm1:!1});O(t)}if(j.showBillForm2){var a=Object(p.a)({},j,{reloadData:!0,data2:nn.blankData,reloadBillForm2:!0,showBillForm2:!1,isGenIdOfBillForm2:!1});O(a)}})).catch((function(e){console.log("error"),console.log(e);var t=Object(p.a)({},j,{message:cc(e),showModalError:!0});console.log(t.message),O(t)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){if(j.isGenIdOfBillForm){if(j.showBillForm1&&le){var e=Object(p.a)({},le,{tableStatus:"close",queueStatus:"close"});Ie(e)}if(j.showBillForm2&&me){var t=Object(p.a)({},me,{tableStatus:"close",queueStatus:"close"});Ie(t)}}else{if(j.showBillForm1&&le){var a=Object(p.a)({},le,{tableStatus:"close",queueStatus:"close"});De(a)}if(j.showBillForm2&&me){var n=Object(p.a)({},me,{tableStatus:"close",queueStatus:"close"});De(n)}}},Re=function(e,t){if("close"==e.target.value){t._id;var n=Object(u.a)(t,["_id"]),c=Object(p.a)({},n,{queueStatus:"close"});f.a.post("/p35transaction/updatetransaction",c,a).then((function(e){if(console.log("done edit............."),j.showBillForm1){var t=Object(p.a)({},j,{reloadData:!0,data1:nn.blankData,reloadBillForm1:!0,showBillForm1:!1});O(t)}if(j.showBillForm2){var a=Object(p.a)({},j,{reloadData:!0,data2:nn.blankData,reloadBillForm2:!0,showBillForm2:!1});O(a)}})).catch((function(e){console.log("error"),console.log(e);var t=Object(p.a)({},j,{message:cc(e),showModalError:!0});console.log(t.message),O(t)}))}},Ae=function(e,t){if("close"==e.target.value&&j.transactionArray.length>0){var n=[];j.transactionArray.map((function(e){t.map((function(t){if(t==e.id){e._id;var c=Object(u.a)(e,["_id"]),l=Object(p.a)({},c,{tableStatus:"close"});n=[].concat(Object(d.a)(n),[f.a.post("/p35transaction/updatetransaction",l,a)])}}))})),console.log("allPromise.length"),console.log(n.length),Promise.all(n).then((function(e){if(console.log("done edit............."),j.showBillForm1){var t=Object(p.a)({},j,{reloadData:!0,data1:nn.blankData,reloadBillForm1:!0,showBillForm1:!1});O(t)}if(j.showBillForm2){var a=Object(p.a)({},j,{reloadData:!0,data2:nn.blankData,reloadBillForm2:!0,showBillForm2:!1});O(a)}})).catch((function(e){console.log("error"),console.log(e);var t=Object(p.a)({},j,{message:cc(e),showModalError:!0});console.log(t.message),O(t)}))}},Me=function(e){if(j.transactionArray.length>0){var t=[];if(j.transactionArray.map((function(a){e.map((function(e){e==a.id&&(t=[].concat(Object(d.a)(t),Object(d.a)(a.detail)))}))})),j.showBillForm1&&le){var a=Object(p.a)({},le,{detail:[].concat(Object(d.a)(le.detail),Object(d.a)(t)),reCal:!0});re(a)}if(j.showBillForm2&&me){var n=Object(p.a)({},me,{detail:[].concat(Object(d.a)(me.detail),Object(d.a)(t)),reCal:!0});ue(n)}}},Be=function(e){if(console.log("updateData...."),j.showBillForm1){var t=Object(p.a)({},j,{data1:e,reloadBillForm1:!0,showBillForm1:!1});O(t)}if(j.showBillForm2){var a=Object(p.a)({},j,{data2:e,reloadBillForm2:!0,showBillForm2:!1});O(a)}},Le=function(e){O(Object(p.a)({},j,{reloadSelectProduct:!0,qryProduct:e}))};return c.a.createElement("div",{className:"",style:{padding:"0 0rem",position:"relative",overflow:"hidden"}},te?c.a.createElement("div",{className:"hide-on-screen"},function(){if(j.showBillForm1){if(le)return c.a.createElement(Dt,{printPage:b.printPage,printPageSetting:b.printPageSetting,calDigit:100,transaction:le})}else{if(!j.showBillForm2)return null;if(me)return c.a.createElement(Dt,{printPage:b.printPage,printPageSetting:b.printPageSetting,calDigit:100,transaction:me})}}()):c.a.createElement("div",{className:"hide-on-screen",style:{position:"absolute",left:"0",top:"0"}},c.a.createElement("div",null,"print not available")),c.a.createElement("div",{className:"hide-on-print"},c.a.createElement("div",{className:"hide-logouttool"},c.a.createElement(ke,{tokenSt:n,setReloadCheckToken:l,user:w,useHomeIcon:!1,useShopLogOut:!1}))),c.a.createElement("div",null,c.a.createElement(s.b,{ref:o,to:"/home"})),j&&c.a.createElement("div",{className:"",style:{display:"flex",height:"94vh"}},c.a.createElement("div",{className:"bd-darkGray hide-on-print",style:{height:"",width:"".concat(j.widthLeft,"%"),overflowY:"scroll",overflowX:"hidden"}},c.a.createElement("div",{className:"",style:Object(m.a)({height:"",width:"100%",display:"flex",flexWrap:"wrap",marginBottom:"0rem",background:"rgb(140,197,187)"},"background","linear-gradient(0deg, rgba(131,195,184,1) 43%, rgba(219,255,249,1) 100%)")},c.a.createElement("div",{className:"iconbox",onClick:function(e){return o.current.click()}},c.a.createElement(W,{iconName:"FaHome",className:j.showPartner?"md-icon ft-brown":"md-icon",textStyle:{color:"black"},iconStyle:r()})),c.a.createElement("div",{className:"iconbox",onClick:function(e){return O(Object(p.a)({},j,{reloadData:!0}))}},c.a.createElement(W,{iconName:"MdRefresh",className:"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{style:{display:"none"}},c.a.createElement("div",null,c.a.createElement(s.b,{ref:o,to:"/pos/home"}))),c.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!0,showGroup:!1,showProductGrid:!1,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!1}))}},c.a.createElement(W,{iconName:"MdPerson",className:j.showPartner?"md-icon ft-brown":"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!0,showProductGrid:!1,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!1}))}},c.a.createElement(W,{iconName:"FaRegFolderOpen",className:j.showGroup?"md-icon ft-brown":"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!1,showProductGrid:!0,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!1}))}},c.a.createElement(W,{iconName:"MdFastfood",className:j.showProductGrid?"md-icon ft-brown":"md-icon",textStyle:{color:"black"}})),j.selectOfSelectProduct&&j.selectOfSelectProduct.length>0?c.a.createElement("div",{className:"iconbox",onClick:function(e){!function(){var e=null;j.showBillForm1&&(e=1),j.showBillForm2&&(e=2);var t={dataIdx:e,selectProduct:j.selectOfSelectProduct};T(t),B(!0)}()}},c.a.createElement(W,{iconName:"FaRegArrowAltCircleRight",className:"md-icon",textStyle:{color:"black"}})):null,c.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!1,showProductGrid:!1,showTable:!1,showTransaction:!0,showBillMenu:!1,showBarcode:!1,showQueue:!1}))}},c.a.createElement(W,{iconName:"SiBookstack",className:j.showTransaction?"md-icon ft-brown":"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!1,showProductGrid:!1,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!0,showQueue:!1}))}},c.a.createElement(W,{iconName:"RiHandCoinFill",className:"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!1,showProductGrid:!1,showTable:!0,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!1}))}},c.a.createElement(W,{iconName:"SiAirtable",className:j.showTable?"md-icon ft-brown":"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!1,showProductGrid:!1,showTable:!1,showTransaction:!1,showBillMenu:!1,showBarcode:!1,showQueue:!0}))}},c.a.createElement(W,{iconName:"TiSortNumericallyOutline",className:"md-icon",textStyle:{color:"black"}})),c.a.createElement("div",{className:"iconbox",onClick:function(e){O(Object(p.a)({},j,{showParter:!1,showGroup:!1,showProductGrid:!1,showTable:!1,showTransaction:!1,showBillMenu:!0,showBarcode:!1,showQueue:!1}))}},c.a.createElement(W,{iconName:"GiCook",className:j.showBillMenu?"md-icon ft-brown":"md-icon",textStyle:{color:"black"}}))),c.a.createElement("div",{style:{height:""}},j.showGroup&&h&&c.a.createElement(Dn,{captureProductOfGroup:we,pageData:h}),j.showProductGrid&&c.a.createElement(In,{selectProduct:j.selectProduct,captureProductListFromSelectProductInProductGrid:Oe,resetProductList:M,setResetProductList:B,refreshProductFunc:Le}),j.showTable&&c.a.createElement(Pn,{transactionArray:j.transactionArray,captureBillFromTable:ve,basicDataSt:t,updateAllTransaction:Ae,captureAllTransaction:Me}),j.showParter&&t&&a&&c.a.createElement(qn,{basicDataSt:t,myheader:a,captureCustomer:Ne,partnerInputState:K,setPartnerInputState:q}),j.showTransaction&&c.a.createElement(Yn,{basicDataSt:t,myheader:a,pageFilter:y,pageFilterForm:v,captureTransaction:je,transactionInputState:X,setTransactionInputState:J}),j.showBillMenu&&h&&c.a.createElement(Zn,{pageData:h,basicDataSt:t,myheader:a,billMenuFilter:j.billMenuFilter,billMenuInputState:j.billMenuInputState,billMenuSort:j.billMenuSort,billMenuLimitRow:j.billMenuLimitRow,billMenuShowTransaction:j.billMenuShowTransaction,billMenuOption:j.billMenuOption,setFilterDataFunc:Ee}),j.showBarcode&&c.a.createElement(tc,{pageData:h,basicDataSt:t,myheader:a,showBillForm1:j.showBillForm1,showBillForm2:j.showBillForm2,setData1:de,setData2:pe,setDetail1:be,setDetail2:fe,billFormData1:le,billFormData2:me,calDigit:100,submitConfirm:Pe}),j.showQueue&&c.a.createElement(ac,{queueArray:j.queueArray,basicDataSt:t,captureBillFromTable:ve,updateQueue:Re}))),c.a.createElement("div",{className:"bd-darkGray hide-on-print",style:{height:"100%",width:"".concat(100-j.widthLeft,"%")}},j.showBillForm1&&h&&b&&U?c.a.createElement(Un,{blankData:Object(p.a)({},nn.blankData),dataIdx:"1",closeBillForm:Se,selectOfSelectProduct:S,selectOfCustomer:D,setResetProductList:B,pageData:h,basicData:b,tableTemplate:U,saveTableTemplateFunc:Ce,submitFunctionAddFunc:Ie,submitFunctionEditFunc:De,submitFunctionDeleteFunc:Fe,isGenIdOfBillForm:j.isGenIdOfBillForm1,runIsGenId:ge,updateData:Be,myheader:a,calDigit:100,setPrintDataFunc:xe,bgColor:"#e9bb43",billFormData:le,setBillFormData:re}):null,j.showBillForm2&&h&&b&&U?c.a.createElement(Un,{blankData:Object(p.a)({},nn.blankData,{branchId:b.branchId,branchName:b.branchName}),dataIdx:"2",closeBillForm:Te,selectOfSelectProduct:S,selectOfCustomer:D,setResetProductList:B,pageData:h,basicData:b,filterData:j,tableTemplate:U,saveTableTemplateFunc:Ce,submitFunctionAddFunc:Ie,submitFunctionEditFunc:De,submitFunctionDeleteFunc:Fe,isGenIdOfBillForm:j.isGenIdOfBillForm2,runIsGenId:ye,updateData:Be,myheader:a,calDigit:100,setPrintDataFunc:xe,bgColor:"#e9bb43",billFormData:me,setBillFormData:ue}):null)),c.a.createElement("div",{className:"hide-on-print",style:{width:"100%",display:"flex",position:"relative"}},cn({showRange:j.showRange,setShowRange:function(e){O(Object(p.a)({},j,{showRange:e}))},widthLeft:j.widthLeft,setWidthLeft:function(e){O(Object(p.a)({},j,{widthLeft:e}))}})),j.showCustomerConfirm&&pa({filterData:j,setFilterData:O,basicData:b,customerConfirmForm:h.customerConfirmForm,submitFunc:function(){if(j.showBillForm1||j.showBillForm2){var e=null;j.showBillForm1&&(e=1),j.showBillForm2&&(e=2);var t=j.customerConfirm,a=t.partnerId,n=t.title,c=t.name,l=t.partnerType,r=t.phone,o=t.address,i=t.selectedAddress,s={partnerId:a,title:n,name:c,partnerType:l,phone:r,address:i||o[0]};I({dataIdx:e,selectCustomer:s}),O(Object(p.a)({},j,{showCustomerConfirm:!1}))}},cancelFunc:function(){O(Object(p.a)({},j,{showCustomerConfirm:!1}))}}),j.showTransactionConfirm&&ba({editTransaction:j.editTransaction,submitFunc:function(){var e=j.editTransaction;j.showBillForm1?(j.includeTransactionHead||(e=Object(p.a)({},j.data1,{detail:[].concat(Object(d.a)(j.data1.detail),Object(d.a)(j.editTransaction.detail))})),O(Object(p.a)({},j,{data1:e,showTransactionConfirm:!1,showBillForm1:!1,reloadBillForm1:!0}))):(j.includeTransactionHead||(e=Object(p.a)({},j.data2,{detail:[].concat(Object(d.a)(j.data2.detail),Object(d.a)(j.editTransaction.detail))})),O(Object(p.a)({},j,{data2:e,showTransactionConfirm:!1,showBillForm2:!1,reloadBillForm2:!0})))},cancelFunc:function(){O(Object(p.a)({},j,{showTransactionConfirm:!1}))},pageData:h,changeIncludeTransactionHead:function(e){O(Object(p.a)({},j,{includeTransactionHead:e}))},includeTransactionHead:j.includeTransactionHead}),j.showModalConfirm?c.a.createElement(ft,{setShow:function(e){O(Object(p.a)({},j,{showModalConfirm:e,dataToDelete:null}))},submitFunction:function(){var e=j.dataToDelete;f.a.post("/p35transaction/deletetransaction",e,a).then((function(e){if(console.log("done delete............."),j.showBillForm1){var t=Object(p.a)({},j,{reloadData:!0,showBillForm1:!1,showModalConfirm:!1,dataToDelete:!1,data1:nn.blankData,reloadBillForm1:!0});O(t)}if(j.showBillForm2){var a=Object(p.a)({},j,{reloadData:!0,showBillForm2:!1,showModalConfirm:!1,dataToDelete:!1,data2:nn.blankData,reloadBillForm2:!0});O(a)}})).catch((function(e){console.log("error"),console.log(e);var t=Object(p.a)({},j,{message:cc(e),showModalError:!0});console.log(t.message),O(t)}))}}):null,j.showModalError?ht({setShow:function(e){O(Object(p.a)({},j,{showModalError:e}))},message:j.message}):null)},rc=a(32),oc=a.n(rc),ic=re.catchErrorToMessage,sc=Me.filterAxios;var mc=function(e){var t=e.filterDataTemplate,a=e.inputState,n=e.filterTemplate,l=e.myheader,r=e.pageFilterForm,o=e.basicData,s=e.cancelFunc,m=c.a.useState(t),u=Object(i.a)(m,2),b=u[0],h=u[1];c.a.useEffect((function(){if(console.log("filterData PageComponent"),console.log(b),b.reloadData){var e=b.dataUrl,t=b.pageNumber,a=b.limitRow,n=b.sort,c=b.qry;f.a.post("/".concat(e,"/getlimit"),Object(p.a)({pageNumber:t,limitRow:a,sort:n},c),l).then((function(e){var t=g(e.data.data,b.selectProduct),a=Object(p.a)({},b,{data0:t,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});h(a)})).catch((function(e){var t=Object(p.a)({},b,{reloadData:!1,message:ic(e),showModalConfirm:!1,showModalError:!0});console.log(t.message),h(t)}))}}),[b]);var g=function(e,t){if(e&&e.detail&&e.detail.length()>0){e.detail.map((function(e){}))}var a;a=t||[];var n=[];e.map((function(e,t){var a=Object(p.a)({},e,{selectedLine:!1,_id:ie()()});n=[].concat(Object(d.a)(n),[a])}));var c=[];return n.map((function(e){var t=e;a.map((function(a){e.id==a.id&&(t=Object(p.a)({},t,{selectedLine:a.selectedLine}))})),c=[].concat(Object(d.a)(c),[t])})),c},y=function(){var e=b.count,t=b.limitRow;return Math.ceil(e/t)},v=function(e){h(Object(p.a)({},b,{pageNumber:e}))};return c.a.createElement("div",{className:"Modal-background"},c.a.createElement("div",{className:"Modal-box",style:{width:"60%"}},c.a.createElement(Oa,{show:!0,setShow:function(){},filterTemplate:n,inputState:a,setInputState:function(){},limitRow:b.limitRow,setLimitRow:function(e){return h(Object(p.a)({},b,{limitRow:e}))},sort:b.sort,setSort:function(e){return h(Object(p.a)({},b,{sort:e}))},filterAxios:function(e,t){console.log("filterAxios2.........."),sc(e,t,n,b,l).then((function(e){var t=g(e.data0,b.selectProduct);h(Object(p.a)({},e,{data0:t}))})).catch((function(e){return h(e)}))},basicData:o,LB:r}),function(){var e=b.pageNumber;return y()>0?c.a.createElement("div",{className:"",style:{display:"flex",width:"100%",padding:"0.5rem"}},c.a.createElement("div",null,c.a.createElement(G.g,{className:"sm-icon",style:{visibility:y()>1&&e>1?"visible":"hidden"},onClick:function(t){var a=parseInt(e)-1;v(a)}})),c.a.createElement("input",{type:"number",style:{width:"70px"},value:e.toString(),onChange:function(e){var t=parseInt(e.target.value);(t<=y()||!t)&&v(t)}}),c.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},c.a.createElement("div",null,"/".concat(y()))),e<y()?c.a.createElement("div",null,c.a.createElement(G.h,{className:"sm-icon",onClick:function(t){var a=parseInt(e)+1;v(a)}})):null,e<y()?c.a.createElement("div",null,c.a.createElement(G.n,{className:"sm-icon",onClick:function(e){var t=parseInt(y());v(t)}})):null):null}(),c.a.createElement("div",{className:"w-100 flex-center-center jc-end"},c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){!function(){if(b.data0){var e=Object.keys(b.data0[0]),t="";t+=e.join(","),t+="\n",b.data0.map((function(a,n){e.map((function(e,n){n>0&&(t+=","),t+="string"===typeof a[e]&&a[e].includes(",")?'"'.concat(a[e],'"'):a[e]})),t+="\n"})),oc()(t,"".concat(r.formHead).concat(b.pageNumber,".csv"))}}()}},c.a.createElement(L.f,null))),c.a.createElement("div",null,c.a.createElement("button",{onClick:function(e){s()}},c.a.createElement(L.a,null))))))},uc=re.catchErrorToMessage,dc=Me.saveTableTemplate,pc=Me.updateFilterData,bc=Me.submitFunctionEdit,fc=Me.submitFunctionAdd,hc=Me.filterAxios,gc=Me.setUnSelectAll,yc=Me.submitFunctionDelete;var vc,wc=function(e){console.log("PageComponent");var t=e.filterDataTemplate,a=(e.filterDataTemplate2,e.filterDataTemplate3,e.pageFilter,e.pageFilterForm),n=Object(u.a)(e,["filterDataTemplate","filterDataTemplate2","filterDataTemplate3","pageFilter","pageFilterForm"]),l=(e.filterTitle,e.inputState),r=e.filterTemplate,o=e.myheader,s=e.basicDataSt,m=e.formTemplate,b=e.editFormTemplate,h=e.stateTemplate,g=(e.groupFormTemplate,e.groupEditFormTemplate,e.pageDataModalForm),y=e.addFormTitle,v=e.editFormTitle,w=(e.groupAddFormTitle,e.groupEditFormTitle,e.bgColor),E=e.calDigit,N=e.setReloadBasicData,j=s.basicData,O=s.pageData,x=s.tableTemplate,k=(s.reloadBasicData,c.a.useState(null)),S=Object(i.a)(k,2),T=(S[0],S[1]);c.a.useEffect((function(){x&&T(x.productDetailTableTemplateForForm)}),[s]);var C=c.a.useState(Object(p.a)({},t,{},n,{tableTemplate:t.tableTemplateName?x[t.tableTemplateName]:null,detailTableTemplate:t.detailTableTemplateName?x[t.detailTableTemplateName]:null,detailTableTemplateForForm:t.detailTableTemplateForFormName?x[t.detailTableTemplateForFormName]:null,widthLeft:j.widthLeft,limitRow:j.limitRow})),F=Object(i.a)(C,2),D=F[0],I=F[1];c.a.useEffect((function(){if(D.reloadData){var e=D.dataUrl,t=D.pageNumber,a=D.limitRow,n=D.sort,c=D.qry;f.a.post("/".concat(e,"/getlimit"),Object(p.a)({pageNumber:t,limitRow:a,sort:n},c),o).then((function(e){var t=q(e.data.data,D.selectProduct),a=Object(p.a)({},D,{data0:t,count:e.data.count,lastRecordId:e.data.lastRecordId,reloadData:!1});I(a)})).catch((function(e){var t=Object(p.a)({},D,{reloadData:!1,message:uc(e),showModalConfirm:!1,showModalError:!0});console.log(t.message),I(t)}))}}),[D]);var P=function(e){I(Object(p.a)({},D,{showModalConfirm:e}))},R=function(e){I(Object(p.a)({},D,{pageNumber:e,reloadData:!0}))},A=function(e){console.log("setShowAdd"),console.log(e),I(Object(p.a)({},D,{showAdd:e}))},M=function(e){console.log("setShowEdit"),console.log(e),I(Object(p.a)({},D,{showEdit:e}))},B=function(){I(Object(p.a)({},D,{showModalCsv:!0}))},L=function(e){I(Object(p.a)({},D,{tableTemplate:e}))},G=function(e){var t=e;I(Object(p.a)({},D,{editData:t}))},U=function(e){I(Object(p.a)({},D,{data0:e}))},H=function(e){I(Object(p.a)({},D,{sort:e}))},_=function(e){I(Object(p.a)({},D,{limitRow:e}))},z=function(e){console.log("selectGroupFunc...."),I(Object(p.a)({},D,{selectGroup:e}))},K=function(){I(gc(D))},q=function(e,t){if(e&&e.detail&&e.detail.length()>0){e.detail.map((function(e){}))}var a;a=t||[];var n=[];e.map((function(e,t){var a=Object(p.a)({},e,{selectedLine:!1,_id:ie()()});n=[].concat(Object(d.a)(n),[a])}));var c=[];return n.map((function(e){var t=e;a.map((function(a){e.id==a.id&&(t=Object(p.a)({},t,{selectedLine:a.selectedLine}))})),c=[].concat(Object(d.a)(c),[t])})),c},W=function(){var e=D.limitRow,t=D.sort,a=Object(p.a)({},D,{limitRow:e,sort:t,selectProduct:[],editData:null,qry:{},reloadData:!0});I(a),N(!0)},$=function(){var e=Object(Y.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:yc(D,o).then((function(e){return I(e)})).catch((function(e){return I(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(Y.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:bc(t,D,h,o).then((function(e){I(e)})).catch((function(e){return I(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(Y.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fc(t,D,h,o).then((function(e){return I(e)})).catch((function(e){return I(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(e,t){console.log("filterAxios"),hc(e,t,r,D,o).then((function(e){console.log("result.....");var t=q(e.data0,D.selectProduct);I(Object(p.a)({},e,{data0:t}))})).catch((function(e){return I(e)}))},Z=function(e){console.log("filterDataByGroup.........");var t=Object(p.a)({},D,{pageNumber:1,qry:{groupId:e.id},reloadData:!0});I(t)},ee=function(e){var t=D.tableTemplateUrl;dc(e,t,D.tableTemplateName,o)},te=function(e,t){var a=pc(e,t,D);console.log("temp"),console.log(a),I(Object(p.a)({},D,{},a))},ae=function(){return D.data0?c.a.createElement(lt,{colorHead:"#4b6d62",tableTemplate:D.tableTemplate,setTableTemplate:L,filterData:D.data0,setFilterData:U,editData:D.editData,setEditData:G,saveTableTemplateFunc:ee,isSubTable:!1,updateFilterData:te,useInput:!1}):null},ne=function(){return c.a.createElement("div",{className:"w-100",style:{ooverflowX:"hidden",paddingBottom:"5rem"}},function(){var e=D.limitRow,t=D.sort;return c.a.createElement("div",{className:"",style:{marginBottom:"1rem"}},c.a.createElement(Oa,{show:!0,setShow:function(){},filterTemplate:r,inputState:l,setInputState:function(){},limitRow:e,setLimitRow:_,sort:t,setSort:H,filterAxios:J,basicData:j,LB:a}))}(),D.groupDataUrl&&O?c.a.createElement("div",{className:"",style:{margin:"1rem 0"}},c.a.createElement(Cn,{myheader:o,dataUrl:D.groupDataUrl,filterByGroupId:Z,captureEditGroup:z,bgColor:w,pageData:O})):null,D.showAdd||D.showEdit?ce(Object(p.a)({},D,{badgeState:Object(p.a)({},D.badgeState,{addShow:!1,editShow:!1,delShow:!1,printerShow:!1,csvShow:!1,forwardShow:!1})})):null)},ce=function(e){return c.a.createElement("div",{className:"w-100 h-100"},c.a.createElement("div",{className:"hide-on-print",style:{height:e.showAdd||e.showEdit?"2rem":"5%",width:"100%"}},ha({filterData:e,setPageNumber:R,totalSwapPage:1,setSwapState:function(){},setReloadData:W,setShowFilter:function(){},setShowAdd:A,setShowEdit:M,setShowModalConfirm:P,setShowModalCsv:B,setUnSelectAll:K,setShowForwardConfirm:function(t){I(Object(p.a)({},e,{showTransactionConfirm:t}))},setClose:function(){},bgColor:w,captureSelect:function(){}})),c.a.createElement("div",{className:"",style:e.showEdit||e.showAdd?{width:"100%"}:{width:"100%",height:"95%"}},c.a.createElement("div",{style:e.showEdit||e.showAdd?{width:"100%"}:{width:"100%",height:"100%"},className:"show-on-print"},ae())))},le=function(){return c.a.createElement(Sa,{isAddForm:!0,lb:y,formTemplate:m,stateTemplate:h,selectData:{basicData:j},iconAction:[function(){}],iconActionData:null,iconActionDataDetail:null,loadData:{id:parseInt(D.lastRecordId)+1},keyName:D.keyName,setShow:A,calculation:null,submitFunction:X,selectGroup:D.selectGroup,setSelectGroup:z,selectProduct:D.selectProduct,pageDataModalForm:g,dataUrl:D.dataUrl,myheader:o,tableTemplateUrl:D.tableTemplateUrl,tableTemplateName:D.detailTableTemplateForFormName,detailTableTemplate:D.detailTableTemplateForForm,calDigit:E})},re=function(){return c.a.createElement(Sa,{lb:v,formTemplate:b,stateTemplate:h,selectData:{basicData:j},iconAction:[function(){}],iconActionData:null,iconActionDataDetail:null,loadData:D.editData,keyName:D.keyName,setShow:M,calculation:null,submitFunction:Q,selectGroup:D.selectGroup,setSelectGroup:z,selectProduct:D.selectProduct,pageDataModalForm:g,dataUrl:D.dataUrl,myheader:o,tableTemplateUrl:D.tableTemplateUrl,tableTemplateName:D.detailTableTemplateForFormName,detailTableTemplate:D.detailTableTemplateForForm})};return c.a.createElement("div",{className:"w-100 h-100"},D&&c.a.createElement("div",{className:"",style:{display:"flex",height:"95%",width:"100%"}},c.a.createElement("div",{className:"hide-on-print",style:{height:"100%",width:"".concat(D.widthLeft,"%"),overflowY:"scroll",overflowX:"hidden"}},ne()),c.a.createElement("div",{className:"",style:{height:"100%",width:"".concat(100-D.widthLeft,"%")}},D.showAdd?le():D.showEdit?re():ce(D))),c.a.createElement("div",{className:"hide-on-print",style:{width:"100%",display:"flex",position:"relative"}},cn({showRange:D.showRange,setShowRange:function(e){I(Object(p.a)({},D,{showRange:e}))},widthLeft:D.widthLeft,setWidthLeft:function(e){I(Object(p.a)({},D,{widthLeft:e}))}})),D.showModalCsv?c.a.createElement(mc,{filterDataTemplate:t,inputState:l,filterTemplate:r,myheader:o,pageFilterForm:a,basicData:j,cancelFunc:function(e){I(Object(p.a)({},D,{showModalCsv:!1}))}}):null,D.showTransactionConfirm&&ba({editTransaction:D.editData,submitFunc:function(){var e=D.editData;D.includeTransactionHead||(e=Object(p.a)({},D.editData,{detail:[].concat(Object(d.a)(D.editData.detail),Object(d.a)(D.editData.detail))})),I(Object(p.a)({},D,{data1:e,showTransactionConfirm:!1,showBillForm1:!1,reloadBillForm1:!0}))},cancelFunc:function(){I(Object(p.a)({},D,{showTransactionConfirm:!1}))},pageData:O,changeIncludeTransactionHead:function(){},includeTransactionHead:D.includeTransactionHead}),D.showModalConfirm?c.a.createElement(ft,{setShow:P,submitFunction:$}):null,D.showModalError?ht({setShow:function(e){I(Object(p.a)({},D,{showModalError:e}))},message:D.message}):null)},Ec=(vc={data0:null,dataCsv:null,count:0,lastRecordId:null,showRange:!0,widthLeft:30,heightTop:30,pageNumber:1,limitRow:3,sort:{id:-1},qry:{},tableTemplateUrl:"p35tabletemplate",dataUrl:"p35partner",selectGroup:null,tableTemplate:null,detailTableTemplate:null,detailTableTemplateForForm:null,tableTemplateName:"partnerTableTemplate",detailTableTemplateName:null,detailTableTemplateForFormName:null,reloadData:!1,message:null,showModalError:!1,editData:null,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!0,addFunc:function(){},editShow:!0,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){},csvShow:!0,csvFunc:function(){},forwardShow:!1,forwardFunc:function(){},bullEyeShow:!0,unSelectShow:!0},selectProduct:[],showAdd:!1,showModalConfirm:!1},Object(m.a)(vc,"showModalError",!1),Object(m.a)(vc,"showModalCsv",!1),Object(m.a)(vc,"message",null),Object(m.a)(vc,"iconActionData",null),Object(m.a)(vc,"iconActionDataDetail",null),Object(m.a)(vc,"keyName",null),vc);var Nc,jc=function(){console.log("Partner");var e=c.a.useContext(R),t=e.basicDataSt,a=(e.tokenSt,e.setReloadCheckToken,e.myheader),n=e.setReloadBasicData;return c.a.createElement("div",{style:{height:"100vh",width:"100vw",overflow:"hidden"}},c.a.createElement("div",{className:"h-5 w-100 hide-on-print"},c.a.createElement(Se,null)),c.a.createElement("div",{className:"h-95 w-100"},t.basicData&&a&&c.a.createElement(wc,{setReloadBasicData:n,filterDataTemplate:Ec,filterTemplate:t.pageFilter.partnerFilter,inputState:fa.partnerInputState,basicDataSt:t,myheader:a,formTemplate:t.modalFormTemplate.partnerForm,editFormTemplate:t.modalFormTemplate.partnerEditForm,stateTemplate:ge.partnerState,pageFilterForm:t.pageFilterForm.partnerFilterForm,modalFormTemplate:t.pageData.ModalForm,addFormTitle:t.pageData.ModalForm.partnerAddForm,editFormTitle:t.pageData.ModalForm.partnerEditForm,bgColor:"#74b979",calDigit:100})))},Oc=(Nc={data0:null,dataCsv:null,count:0,lastRecordId:null,showRange:!0,widthLeft:30,heightTop:30,pageNumber:1,limitRow:3,sort:{id:-1},qry:{},tableTemplateUrl:"p35tabletemplate",dataUrl:"p35product",selectGroup:null,groupDataUrl:"p35group",tableTemplate:null,detailTableTemplate:null,detailTableTemplateForForm:null,tableTemplateName:"productTableTemplate",detailTableTemplateName:"",detailTableTemplateForFormName:"productDetailTableTemplateForForm",reloadData:!1,message:null,showModalError:!1,editData:null,badgeState:{swapShow:!1,swapFunc:function(){},reloadShow:!0,reloadFunc:function(){},filterShow:!1,filterFunc:function(){},addShow:!0,addFunc:function(){},editShow:!0,editFunc:function(){},delShow:!0,delFunc:function(){},printerShow:!0,printerFunc:function(){},csvShow:!0,csvFunc:function(){},forwardShow:!1,forwardFunc:function(){},bullEyeShow:!0,unSelectShow:!0},selectProduct:[],showAdd:!1,showModalConfirm:!1},Object(m.a)(Nc,"showModalError",!1),Object(m.a)(Nc,"showModalCsv",!1),Object(m.a)(Nc,"message",null),Object(m.a)(Nc,"iconActionData",null),Object(m.a)(Nc,"iconActionDataDetail",null),Object(m.a)(Nc,"keyName",["photoUrl1"]),Nc);var xc=function(){console.log("Product");var e=c.a.useContext(R),t=e.basicDataSt,a=(e.tokenSt,e.setReloadCheckToken,e.myheader),n=e.setReloadBasicData;return c.a.createElement("div",{style:{height:"100vh",width:"100vw",overflow:"hidden"}},c.a.createElement("div",{className:"h-5 w-100 hide-on-print"},c.a.createElement(Se,null)),c.a.createElement("div",{className:"h-95 w-100"},t.basicData&&a&&c.a.createElement(wc,{setReloadBasicData:n,filterDataTemplate:Oc,filterTemplate:t.pageFilter.productFilter,inputState:fa.productInputState,basicDataSt:t,myheader:a,formTemplate:t.modalFormTemplate.productForm,editFormTemplate:t.modalFormTemplate.productEditForm,stateTemplate:ge.productState,pageFilterForm:t.pageFilterForm.productFilterForm,pageDataModalForm:t.pageData.ModalForm,addFormTitle:t.pageData.ModalForm.productAddForm,editFormTitle:t.pageData.ModalForm.productEditForm,groupAddFormTitle:t.pageData.ModalForm.groupAddForm,groupEditFormTitle:t.pageData.ModalForm.groupEditForm,groupFormTemplate:t.modalFormTemplate.groupForm,groupEditFormTemplate:t.modalFormTemplate.groupEditForm,bgColor:"#d1adbf"})))};function kc(e){var t=e.bgColor;return c.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"flex-end",width:"",height:"",margin:"0",padding:"0.1rem",backgroundColor:t}},c.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",marginBottom:"0.4rem"}},c.a.createElement("div",{style:Object(m.a)({border:"1px solid white",borderRadius:"50%",width:"3rem",height:"3rem",display:"flex",alignItems:"center",justifyContent:"center",background:"rgb(254,139,128)"},"background","radial-gradient(circle, rgba(254,139,128) 43%, rgba(255,23,0,1) 100%)")},c.a.createElement("div",{style:{fontFamily:"Baumans",color:"white",fontWeight:"bold",fontSize:"2.7rem",letterSpacing:"3px",paddingBottom:"0.6rem"}},"m")),c.a.createElement("div",{style:Object(m.a)({border:"1px solid white",borderRadius:"50%",width:"3rem",height:"3rem",display:"flex",alignItems:"center",justifyContent:"center",marginLeft:"-0.4rem",background:"rgb(255,210,127)"},"background","radial-gradient(circle, rgba(255,210,127) 0%, rgba(251,156,6,1) 100%)")},c.a.createElement("div",{style:{fontFamily:"Baumans",color:"white",fontWeight:"bold",fontSize:"2.7rem",letterSpacing:"3px",paddingBottom:"0.6rem"}},"m"))),c.a.createElement("div",{style:{}},c.a.createElement(H.b,{style:{color:"gray",opacity:"0.2",fontSize:"5rem",marginLeft:"0rem"}})),c.a.createElement("div",{style:{right:"1rem",top:"2rem",fontFamily:"Baumans",color:"#2c3e75",fontWeight:"bold",fontSize:"3.6rem",letterSpacing:"1px",marginLeft:"-5.6rem",marginBottom:"0.3rem"}},"pos"))}kc.defaultProps={bgColr:null};var Sc=kc;a(88);var Tc=function(){var e=c.a.createRef(),t=c.a.createRef(),a=c.a.createRef(),n=c.a.createRef(),l=c.a.createRef(),r=c.a.createRef(),o={fontSize:"5rem"},m={gridRow:"1/3",gridColumn:"1/2"},u="\u0e2a\u0e34\u0e19\u0e04\u0e49\u0e32",d="\u0e25\u0e39\u0e01\u0e04\u0e49\u0e32",b="\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e2a\u0e32\u0e02\u0e32",f="\u0e15\u0e31\u0e49\u0e07\u0e04\u0e48\u0e32\u0e23\u0e49\u0e32\u0e19",h="\u0e01\u0e32\u0e23\u0e40\u0e02\u0e49\u0e32\u0e43\u0e0a\u0e49",g=[{bgColor:"#FAE03C",ref:l,LB:"\u0e2b\u0e19\u0e49\u0e32\u0e23\u0e49\u0e32\u0e19",color:"#444",icon:c.a.createElement(H.b,{style:Object(p.a)({},o,{fontSize:"8rem",color:"#444"})})},{bgColor:"#B76BA3",ref:a,LB:u,color:"white",icon:c.a.createElement(G.m,{style:Object(p.a)({},o,{color:"white"})})},{bgColor:"rgb(0,204,0)",ref:t,LB:d,color:"#444",icon:c.a.createElement(G.r,{style:Object(p.a)({},o,{color:"#444"})})},{bgColor:"#B18F6A",ref:r,LB:b,color:"#444",icon:c.a.createElement(G.C,{style:Object(p.a)({},o,{color:"#444"})})},{bgColor:"rgb(192,0,0)",ref:e,LB:f,color:"white",icon:c.a.createElement(G.A,{style:Object(p.a)({},o,{color:"white"})})},{bgColor:"#ff9933",ref:n,LB:h,color:"#444",icon:c.a.createElement(G.F,{style:Object(p.a)({},o,{color:"#444"})})}],y=c.a.useState(0),v=Object(i.a)(y,2),w=v[0],E=v[1],N=c.a.useState(0),j=Object(i.a)(N,2),O=j[0],x=j[1];return c.a.useEffect((function(){for(var e=0,t=0;e===w;)e=Math.floor(Math.random()*g.length),t=Math.floor(Math.random()*g.length);setTimeout((function(){E(e),x(t)}),2e3)}),[w]),c.a.createElement("div",{className:"home-hero"},c.a.createElement("div",{className:"home-bg-screen"},c.a.createElement("div",{className:"home-box"},c.a.createElement("div",{className:"home-grid"},g.map((function(e,t){return 0==t?c.a.createElement("div",{className:"home-title",key:t,style:Object(p.a)({},m,{backgroundColor:"".concat(e.bgColor),display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"5%",position:"relative"}),onClick:function(t){e.ref.current.click()}},e.icon,c.a.createElement("div",{style:{position:"absolute",bottom:"0",right:"0.5rem",color:e.color,fontSize:"1.2rem",display:w==t||O==t?"":"none"}},e.LB)):c.a.createElement("div",{className:"home-tile",key:t,style:{backgroundColor:"".concat(e.bgColor),display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"5%",position:"relative"},onClick:function(t){e.ref.current.click()}},e.icon,c.a.createElement("div",{style:{position:"absolute",bottom:"0",right:"0.5rem",color:e.color,fontSize:"1.2rem",display:w==t||O==t?"":"none"}},e.LB))}))),c.a.createElement("div",{className:"",style:{width:"100%",marginTop:"0rem",display:"flex",justifyContent:"center",alignItems:"center",transform:"scale(1.4)"}},c.a.createElement("div",null,c.a.createElement(Sc,null))))),c.a.createElement("div",{className:"d-none"},c.a.createElement(s.b,{ref:e,to:"/pos/basicdata"}),c.a.createElement(s.b,{ref:t,to:"/pos/partner"}),c.a.createElement(s.b,{ref:a,to:"/pos/product"}),c.a.createElement(s.b,{ref:n,to:"/pos/login"}),c.a.createElement(s.b,{ref:l,to:"/pos/bill"}),c.a.createElement(s.b,{ref:r,to:"/pos/branch"})))},Cc=a(52),Fc=re.catchErrorToMessage;var Dc=function(){var e=c.a.useContext(R),t=e.basicDataSt,a=e.myheader,n=e.tokenSt,l=e.setReloadCheckToken;n.reloadCheckToken,n.haveShopToken,n.haveUserToken,n.userName,console.log("LogIn......"),t.pageData;var r=t.user,o=c.a.createRef(),u=c.a.createRef(),d=c.a.createRef(),b={formHead:"Shop Log In",shopName:"Shop Name",password:"Password"},h={formHead:"User Log In",username:"User Name",password:"Password",createNewUser:"Create Default User"},g={formHead:"User Change Password",username:"User Name",password:"Password",newPassword1:"New Password",newPassword2:"Confirm New Password"},y={formHead:"Shop Sign Up",shopName:"Shop Name",password:"Password",confirmPassword:"Confirm Password",ownerName:"Owner Name",ownerEmail:"Ower Email"},v={formHead:"Set New Shop Password ",formHead1:"Recovery Password will be sent to your Email, use it to create new shop password",recoveryPassword:"Recovery password",shopName:"Shop Name",password:"Shop Password",confirmPassword:"confirm Shop Password"},w={shopName:c.a.createRef(),username:c.a.createRef(),password:c.a.createRef(),confirmPassword:c.a.createRef(),newPassword1:c.a.createRef(),newPassword2:c.a.createRef(),ownerName:c.a.createRef(),ownerEmail:c.a.createRef()},E={username:function(){return w.password.current.focus()},password:function(){return u.current.focus()}},N={shopName:function(){return w.password.current.focus()},password:function(){return u.current.focus()}},j={username:function(){return w.password.current.focus()},password:function(){return w.newPassword1.current.focus()},newPassword1:function(){return w.newPassword2.current.focus()},newPassword2:function(){return u.current.focus()}},O={shopName:function(){return w.password.current.focus()},password:function(){return w.confirmPassword.current.focus()},confirmPassword:function(){return w.ownerName.current.focus()},ownerName:function(){return w.ownerEmail.current.focus()},ownerEmail:function(){return u.current.focus()}},x={recoveryPassword:function(){return w.shopName.current.focus()},shopName:function(){return w.password.current.focus()},password:function(){return w.confirmPassword.current.focus()},confirmPassword:function(){return u.current.focus()}},k=c.a.useState({username:"",password:"",newPassword1:"",newPassword2:""}),S=Object(i.a)(k,2),T=S[0],C=S[1],F=c.a.useState({shopName:"",password:""}),D=Object(i.a)(F,2),I=D[0],P=D[1],A=c.a.useState({username:"",password:""}),M=Object(i.a)(A,2),B=M[0],U=M[1],_=c.a.useState({shopName:"",password:"",confirmPassword:"",ownerName:"",ownerEmail:""}),z=Object(i.a)(_,2),K=z[0],q=z[1],W=c.a.useState({recoveryPassword:"",shopName:"",password:"",confirmPassword:""}),$=Object(i.a)(W,2),V=$[0],Y=$[1],Q=c.a.useRef(),X=c.a.useState(!0),J=Object(i.a)(X,2),Z=J[0],ee=J[1],te=c.a.useState(!1),ae=Object(i.a)(te,2),ne=ae[0],ce=ae[1],le=c.a.useState(null),re=Object(i.a)(le,2),oe=re[0],ie=re[1],se=c.a.useState(!1),me=Object(i.a)(se,2),ue=me[0],de=me[1],pe=c.a.useState(!1),be=Object(i.a)(pe,2),fe=be[0],he=be[1],ge=c.a.useState(!1),ye=Object(i.a)(ge,2),ve=ye[0],we=ye[1],Ee=c.a.useState(!0),Ne=Object(i.a)(Ee,2),je=Ne[0],Oe=Ne[1],xe=c.a.useState(!0),Se=Object(i.a)(xe,2),Te=Se[0],Ce=Se[1],Fe=function(e,t){Object.keys(e);f.a.post("/p35shop/shoplogin",e).then((function(e){localStorage.setItem("shopauthorization","b ".concat(e.data.shopToken)),localStorage.setItem("expirationDate","".concat(e.data.expirationDate)),l(!0),P({shopName:"",password:""}),U({username:"",password:""}),window.location.reload()})).catch((function(e){ie(Fc(e)),ce(!0)}))},De=function(e,t){Object.keys(e);f.a.post("/p35user/login",e,a).then((function(e){console.log("result"),localStorage.setItem("userauthorization","b ".concat(e.data.userToken)),localStorage.setItem("username",e.data.username),l(!0),P({shopName:"",password:""}),U({username:"",password:""}),window.location.reload()})).catch((function(e){ie(Fc(e)),ce(!0)}))},Ie=function(e,t){f.a.post("/p35user/changepassword",e,a).then((function(e){console.log("result"),localStorage.removeItem("userauthorization"),localStorage.removeItem("username"),C({username:"",password:"",newPassword1:"",newPassword2:""}),de(!1),l(!0),window.location.reload()})).catch((function(e){ie(Fc(e)),ce(!0)}))},Pe=function(){de(!1),C({username:"",password:"",newPassword1:"",newPassword2:""})},Re=function(e){e.password!=e.confirmPassword?(q(Object(p.a)({},K,{password:"",confirmPassword:""})),ie(Fc("Invalid Password")),ce(!0)):f.a.post("/p35shop/shopsignup",e,a).then((function(e){q({shopName:"",password:"",confirmPassword:"",ownerName:"",ownerEmail:""}),he(!1)})).catch((function(e){ie(Fc(e)),ce(!0)}))},Ae=function(e){e.confirmPassword!==e.password?(Y(Object(p.a)({},V,{password:"",confirmPassword:""})),ie("recheck your password and confirm password"),ce(!0)):f.a.post("/p35shop/createshoppassword",e).then((function(e){Y(Object(p.a)({},V,{shopName:"",password:"",recoveryPassword:"",confirmPassword:""})),ee(!0),Ce(!0),we(!1)})).catch((function(e){ie(Fc(e)),ce(!0)}))},Me=function(e){var t=e.pageForm,a=e.setInputState,n=e.inputState,l=e.submitFunc,r=e.submitCancel,o=e.nextRef,i=Object.keys(t),s=Object.keys(n);return c.a.createElement("div",{className:"w-100 bd-pureWhite",style:{padding:"1rem"}},c.a.createElement("div",{className:"flex-center-center w-100",style:{marginBottom:"1rem"}},c.a.createElement("h3",null,t[i[0]])),s.map((function(e,l){return function(e,l){return"password"==e||"newPassword1"==e||"newPassword2"==e||"confirmPassword"==e?c.a.createElement("div",{key:l,className:"flex-center-center jc-start w-100",style:{marginBottom:"1rem"}},c.a.createElement("div",{className:"xc4"},t[e]),c.a.createElement("div",{className:"xc8",style:{position:"relative"}},c.a.createElement("input",{type:Z?"password":"text",value:n[e],ref:w[e],onChange:function(t){a(Object(p.a)({},n,Object(m.a)({},e,t.target.value)))},onKeyDown:function(t){"Enter"==t.key&&o[e]()},autoComplete:"one-time-code"}),Z?c.a.createElement(G.E,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){ee(!Z)}}):c.a.createElement(G.D,{className:"sm-icon",style:{position:"absolute",top:"0.2rem",right:"0.3rem"},onClick:function(e){ee(!Z)}}))):c.a.createElement("div",{key:l,className:"flex-center-center jc-start w-100",style:{marginBottom:"1rem"}},c.a.createElement("div",{className:"xc4"},t[e]),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{ref:w[e],type:"id"==e?"number":"text",value:n[e],onChange:function(t){a(Object(p.a)({},n,Object(m.a)({},e,t.target.value)))},onKeyDown:function(t){"Enter"==t.key&&o[e]()},disabled:"userLevel"==e?"disabled":""})))}(e,l)})),c.a.createElement("div",{className:"flex-center-center jc-end jc-start w-100"},c.a.createElement("button",{ref:u,onClick:function(e){return l(n,a)}},c.a.createElement(L.f,null)),r&&c.a.createElement("button",{ref:d,onClick:function(e){return r()}},c.a.createElement(L.a,null))))},Be=function(){return fe?c.a.createElement("div",{className:"w-100 h-100"},Me({pageForm:y,setInputState:q,inputState:K,submitFunc:Re,nextRef:O,submitCancel:function(){q({shopName:"",password:"",confirmPassword:"",ownerName:"",ownerEmail:""}),he(!1)}})):ve?(console.log("showShopForgetPass"),Te?c.a.createElement("div",{className:"w-100 bd-pureWhite",style:{padding:"1rem"}},c.a.createElement("div",{className:"flex-center-center w-100",style:{marginBottom:"1rem"}},c.a.createElement("h3",null,"Request For Recovery Password")),c.a.createElement(Cc.a,{style:{visibility:je?"visible":"hidden"},ref:Q,sitekey:"6LcCvsQdAAAAAAqWKtgK3Tb6l3LYBjtCVrlaIog0",onChange:function(e){console.log(e),Oe(!1)}}),c.a.createElement("div",{className:"w-100",style:{visibility:je?"hidden":"visible"}},c.a.createElement("div",{className:"flex-center-center jc-start w-100",style:{marginBottom:"1rem"}},c.a.createElement("div",{className:"xc4"},v.shopName),c.a.createElement("div",{className:"xc8"},c.a.createElement("input",{value:V.shopName,style:{width:"100%"},onChange:function(e){Y(Object(p.a)({},V,{shopName:e.target.value}))}}))),c.a.createElement("div",{style:{marginBottom:"1rem"}},"".concat(v.formHead1))),c.a.createElement("div",{className:"flex-center-center jc-end jc-start w-100"},c.a.createElement("button",{ref:d,onClick:function(e){var t,a=Q.current.getValue();console.log(a),Q.current.reset(),t={shopName:V.shopName,token:a},f.a.post("/p35shop/resetshoppassword",t).then((function(e){Y(Object(p.a)({},V,{shopName:"",password:"",recoveryPassword:"",confirmPassword:""})),Q.current.reset(),Oe(!0),Ce(!1)})).catch((function(e){ie(Fc(e)),ce(!0)}))}},c.a.createElement(L.f,null)),c.a.createElement("button",{onClick:function(e){Q.current.reset(),Y(Object(p.a)({},V,{shopName:e.target.value})),we(!1)}},c.a.createElement(L.a,null)))):c.a.createElement("div",{className:"w-100 h-100"},Me({pageForm:v,setInputState:Y,inputState:V,submitFunc:Ae,nextRef:x,submitCancel:function(){Y({recoveryPassword:"",shopName:"",password:"",confirmPassword:""}),we(!1)}}))):c.a.createElement("div",{className:"w-100 h-100"},Me({pageForm:b,setInputState:P,inputState:I,submitFunc:Fe,nextRef:N}),c.a.createElement("div",{className:"bill-p",style:{display:"flex",justifyContent:"flex-start",alignItems:"baseline",margin:"1rem 0"},onClick:function(e){he(!0)}},c.a.createElement(G.a,{style:{marginLeft:"-1rem"}}),c.a.createElement(H.b,{style:{fontSize:"2rem"}}),c.a.createElement("div",{style:{marginLeft:"1rem"}},"Create a new shop account")),c.a.createElement("div",{className:"bill-p",style:{display:"flex",justifyContent:"flex-start",alignItems:"baseline",margin:"1rem 0"},onClick:function(e){we(!0),Oe(!0),Ce(!0)}},c.a.createElement(G.F,{style:{marginLeft:"-1rem"}}),c.a.createElement(H.b,{style:{fontSize:"2rem"}}),c.a.createElement("div",{style:{marginLeft:"1rem"}},"Forget shop password")))};return c.a.createElement("div",{style:{height:"100vh",width:"100vw",position:"relative"},className:"flex-center-center"},c.a.createElement("div",{style:{position:"fixed",width:"200vw",height:"20vh",top:"-2rem",left:"-5rem",transform:"rotate(15deg)",backgroundColor:"#ff9933"}}),ue?c.a.createElement("div",{className:"xc4 lc6 mc8 sc10",style:{padding:"0rem"}},Me({pageForm:g,setInputState:C,inputState:T,submitFunc:Ie,submitCancel:Pe,nextRef:j})):n&&(n.haveShopToken?n.haveUserToken?r?c.a.createElement("div",{className:""},c.a.createElement("div",{className:"w-100 flex-center-center"},c.a.createElement(L.C,{style:{fontSize:"4.5rem",margin:"auto"}})),c.a.createElement("div",{style:{textAlign:"center",fontSize:"1.5rem"}},"".concat(r.username)),c.a.createElement("div",{className:"divlink",onClick:function(e){de(!0)}},"Change User Password")):null:c.a.createElement("div",{className:"xc4 lc6 mc8 sc10",style:{padding:"0rem"}},Me({pageForm:h,setInputState:U,inputState:B,submitFunc:De,nextRef:E})):c.a.createElement("div",{className:"xc4 lc6 mc8 sc10",style:{padding:"0rem"}},Be())),c.a.createElement(ke,{tokenSt:n,setReloadCheckToken:l,user:r,myheader:a,useBillWaveIcon:!0}),ne?ht({show:ne,setShow:ce,message:oe,setMessage:ie}):null,c.a.createElement("div",{style:{display:"none"}},c.a.createElement("div",null,c.a.createElement(s.b,{ref:o,to:"/home"}))))};var Ic=function(){console.log("App");var e=c.a.useContext(R).basicDataSt;return e.basicData&&e.pageData&&e.tableTemplate?c.a.createElement("div",{className:"bgc-lightGray"},c.a.createElement(o.b,{exact:!0,path:"/",render:function(){return c.a.createElement(o.a,{to:"/pos/home"})}}),c.a.createElement(o.b,{exact:!0,path:"/pos",render:function(){return c.a.createElement(o.a,{to:"/pos/home"})}}),c.a.createElement(o.b,{exact:!0,path:"/pos/login",component:Dc}),c.a.createElement(o.b,{exact:!0,path:"/pos/home",component:Tc}),c.a.createElement(o.b,{exact:!0,path:"/pos/bill",component:lc}),c.a.createElement(o.b,{exact:!0,path:"/pos/basicdata",component:Gt}),c.a.createElement(o.b,{exact:!0,path:"/pos/branch",component:$t}),c.a.createElement(o.b,{exact:!0,path:"/pos/partner",component:jc}),c.a.createElement(o.b,{exact:!0,path:"/pos/product",component:xc})):c.a.createElement("div",{className:"bgc-lightGray",style:{width:"100w",height:"100vh"}},c.a.createElement(Dc,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Pc=a(51);a.n(Pc).a.load({google:{families:["Tomorrow","Titillium Web:300,400,700","sans-serif","Tomorrow","kanit","Rubik"]}}),r.a.render(c.a.createElement(M,null,c.a.createElement(s.a,null,c.a.createElement(Ic,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.ad2902f0.chunk.js.map